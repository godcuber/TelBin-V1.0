(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var yp={exports:{}},Ql={},vp={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function wC(){if(Y_)return Ne;Y_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,V={};function k(U,ee,xe){this.props=U,this.context=ee,this.refs=V,this.updater=xe||A}k.prototype.isReactComponent={},k.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function $(){}$.prototype=k.prototype;function F(U,ee,xe){this.props=U,this.context=ee,this.refs=V,this.updater=xe||A}var z=F.prototype=new $;z.constructor=F,D(z,k.prototype),z.isPureReactComponent=!0;var X=Array.isArray,q=Object.prototype.hasOwnProperty,J={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function x(U,ee,xe){var Ae,be={},Pe=null,Be=null;if(ee!=null)for(Ae in ee.ref!==void 0&&(Be=ee.ref),ee.key!==void 0&&(Pe=""+ee.key),ee)q.call(ee,Ae)&&!R.hasOwnProperty(Ae)&&(be[Ae]=ee[Ae]);var Oe=arguments.length-2;if(Oe===1)be.children=xe;else if(1<Oe){for(var qe=Array(Oe),Ft=0;Ft<Oe;Ft++)qe[Ft]=arguments[Ft+2];be.children=qe}if(U&&U.defaultProps)for(Ae in Oe=U.defaultProps,Oe)be[Ae]===void 0&&(be[Ae]=Oe[Ae]);return{$$typeof:t,type:U,key:Pe,ref:Be,props:be,_owner:J.current}}function C(U,ee){return{$$typeof:t,type:U.type,key:ee,ref:U.ref,props:U.props,_owner:U._owner}}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function L(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(xe){return ee[xe]})}var B=/\/+/g;function N(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):ee.toString(36)}function ze(U,ee,xe,Ae,be){var Pe=typeof U;(Pe==="undefined"||Pe==="boolean")&&(U=null);var Be=!1;if(U===null)Be=!0;else switch(Pe){case"string":case"number":Be=!0;break;case"object":switch(U.$$typeof){case t:case e:Be=!0}}if(Be)return Be=U,be=be(Be),U=Ae===""?"."+N(Be,0):Ae,X(be)?(xe="",U!=null&&(xe=U.replace(B,"$&/")+"/"),ze(be,ee,xe,"",function(Ft){return Ft})):be!=null&&(M(be)&&(be=C(be,xe+(!be.key||Be&&Be.key===be.key?"":(""+be.key).replace(B,"$&/")+"/")+U)),ee.push(be)),1;if(Be=0,Ae=Ae===""?".":Ae+":",X(U))for(var Oe=0;Oe<U.length;Oe++){Pe=U[Oe];var qe=Ae+N(Pe,Oe);Be+=ze(Pe,ee,xe,qe,be)}else if(qe=w(U),typeof qe=="function")for(U=qe.call(U),Oe=0;!(Pe=U.next()).done;)Pe=Pe.value,qe=Ae+N(Pe,Oe++),Be+=ze(Pe,ee,xe,qe,be);else if(Pe==="object")throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Be}function Ge(U,ee,xe){if(U==null)return U;var Ae=[],be=0;return ze(U,Ae,"","",function(Pe){return ee.call(xe,Pe,be++)}),Ae}function vt(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(xe){(U._status===0||U._status===-1)&&(U._status=1,U._result=xe)},function(xe){(U._status===0||U._status===-1)&&(U._status=2,U._result=xe)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var _e={current:null},re={transition:null},ue={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:re,ReactCurrentOwner:J};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Ge,forEach:function(U,ee,xe){Ge(U,function(){ee.apply(this,arguments)},xe)},count:function(U){var ee=0;return Ge(U,function(){ee++}),ee},toArray:function(U){return Ge(U,function(ee){return ee})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ne.Component=k,Ne.Fragment=n,Ne.Profiler=i,Ne.PureComponent=F,Ne.StrictMode=r,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ne.act=ae,Ne.cloneElement=function(U,ee,xe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ae=D({},U.props),be=U.key,Pe=U.ref,Be=U._owner;if(ee!=null){if(ee.ref!==void 0&&(Pe=ee.ref,Be=J.current),ee.key!==void 0&&(be=""+ee.key),U.type&&U.type.defaultProps)var Oe=U.type.defaultProps;for(qe in ee)q.call(ee,qe)&&!R.hasOwnProperty(qe)&&(Ae[qe]=ee[qe]===void 0&&Oe!==void 0?Oe[qe]:ee[qe])}var qe=arguments.length-2;if(qe===1)Ae.children=xe;else if(1<qe){Oe=Array(qe);for(var Ft=0;Ft<qe;Ft++)Oe[Ft]=arguments[Ft+2];Ae.children=Oe}return{$$typeof:t,type:U.type,key:be,ref:Pe,props:Ae,_owner:Be}},Ne.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ne.createElement=x,Ne.createFactory=function(U){var ee=x.bind(null,U);return ee.type=U,ee},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:h,render:U}},Ne.isValidElement=M,Ne.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:vt}},Ne.memo=function(U,ee){return{$$typeof:p,type:U,compare:ee===void 0?null:ee}},Ne.startTransition=function(U){var ee=re.transition;re.transition={};try{U()}finally{re.transition=ee}},Ne.unstable_act=ae,Ne.useCallback=function(U,ee){return _e.current.useCallback(U,ee)},Ne.useContext=function(U){return _e.current.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U){return _e.current.useDeferredValue(U)},Ne.useEffect=function(U,ee){return _e.current.useEffect(U,ee)},Ne.useId=function(){return _e.current.useId()},Ne.useImperativeHandle=function(U,ee,xe){return _e.current.useImperativeHandle(U,ee,xe)},Ne.useInsertionEffect=function(U,ee){return _e.current.useInsertionEffect(U,ee)},Ne.useLayoutEffect=function(U,ee){return _e.current.useLayoutEffect(U,ee)},Ne.useMemo=function(U,ee){return _e.current.useMemo(U,ee)},Ne.useReducer=function(U,ee,xe){return _e.current.useReducer(U,ee,xe)},Ne.useRef=function(U){return _e.current.useRef(U)},Ne.useState=function(U){return _e.current.useState(U)},Ne.useSyncExternalStore=function(U,ee,xe){return _e.current.useSyncExternalStore(U,ee,xe)},Ne.useTransition=function(){return _e.current.useTransition()},Ne.version="18.3.1",Ne}var X_;function Zm(){return X_||(X_=1,vp.exports=wC()),vp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function EC(){if(J_)return Ql;J_=1;var t=Zm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var g,_={},w=null,A=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(A=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:h,key:w,ref:A,props:_,_owner:i.current}}return Ql.Fragment=n,Ql.jsx=l,Ql.jsxs=l,Ql}var Z_;function TC(){return Z_||(Z_=1,yp.exports=EC()),yp.exports}var T=TC(),ih={},_p={exports:{}},vn={},wp={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function IC(){return e0||(e0=1,(function(t){function e(re,ue){var ae=re.length;re.push(ue);e:for(;0<ae;){var U=ae-1>>>1,ee=re[U];if(0<i(ee,ue))re[U]=ue,re[ae]=ee,ae=U;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ue=re[0],ae=re.pop();if(ae!==ue){re[0]=ae;e:for(var U=0,ee=re.length,xe=ee>>>1;U<xe;){var Ae=2*(U+1)-1,be=re[Ae],Pe=Ae+1,Be=re[Pe];if(0>i(be,ae))Pe<ee&&0>i(Be,be)?(re[U]=Be,re[Pe]=ae,U=Pe):(re[U]=be,re[Ae]=ae,U=Ae);else if(Pe<ee&&0>i(Be,ae))re[U]=Be,re[Pe]=ae,U=Pe;else break e}}return ue}function i(re,ue){var ae=re.sortIndex-ue.sortIndex;return ae!==0?ae:re.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],p=[],g=1,_=null,w=3,A=!1,D=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(re){for(var ue=n(p);ue!==null;){if(ue.callback===null)r(p);else if(ue.startTime<=re)r(p),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=n(p)}}function X(re){if(V=!1,z(re),!D)if(n(f)!==null)D=!0,vt(q);else{var ue=n(p);ue!==null&&_e(X,ue.startTime-re)}}function q(re,ue){D=!1,V&&(V=!1,$(x),x=-1),A=!0;var ae=w;try{for(z(ue),_=n(f);_!==null&&(!(_.expirationTime>ue)||re&&!L());){var U=_.callback;if(typeof U=="function"){_.callback=null,w=_.priorityLevel;var ee=U(_.expirationTime<=ue);ue=t.unstable_now(),typeof ee=="function"?_.callback=ee:_===n(f)&&r(f),z(ue)}else r(f);_=n(f)}if(_!==null)var xe=!0;else{var Ae=n(p);Ae!==null&&_e(X,Ae.startTime-ue),xe=!1}return xe}finally{_=null,w=ae,A=!1}}var J=!1,R=null,x=-1,C=5,M=-1;function L(){return!(t.unstable_now()-M<C)}function B(){if(R!==null){var re=t.unstable_now();M=re;var ue=!0;try{ue=R(!0,re)}finally{ue?N():(J=!1,R=null)}}else J=!1}var N;if(typeof F=="function")N=function(){F(B)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,Ge=ze.port2;ze.port1.onmessage=B,N=function(){Ge.postMessage(null)}}else N=function(){k(B,0)};function vt(re){R=re,J||(J=!0,N())}function _e(re,ue){x=k(function(){re(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){D||A||(D=!0,vt(q))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(re){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var ae=w;w=ue;try{return re()}finally{w=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ae=w;w=re;try{return ue()}finally{w=ae}},t.unstable_scheduleCallback=function(re,ue,ae){var U=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,re){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ae+ee,re={id:g++,callback:ue,priorityLevel:re,startTime:ae,expirationTime:ee,sortIndex:-1},ae>U?(re.sortIndex=ae,e(p,re),n(f)===null&&re===n(p)&&(V?($(x),x=-1):V=!0,_e(X,ae-U))):(re.sortIndex=ee,e(f,re),D||A||(D=!0,vt(q))),re},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(re){var ue=w;return function(){var ae=w;w=ue;try{return re.apply(this,arguments)}finally{w=ae}}}})(Ep)),Ep}var t0;function SC(){return t0||(t0=1,wp.exports=IC()),wp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function xC(){if(n0)return vn;n0=1;var t=Zm(),e=SC();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function w(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function A(s,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function D(s,o,u,d){if(o===null||typeof o>"u"||A(s,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function V(s,o,u,d,m,y,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=I}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new V(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];k[o]=new V(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new V(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new V(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new V(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new V(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new V(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new V(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new V(s,5,!1,s.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace($,F);k[o]=new V(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace($,F);k[o]=new V(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace($,F);k[o]=new V(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new V(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new V(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,o,u,d){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(D(o,u,m,d)&&(u=null),d||m===null?w(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?s.setAttributeNS(d,o,u):s.setAttribute(o,u))))}var X=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),J=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),re=Symbol.iterator;function ue(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,U;function ee(s){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var xe=!1;function Ae(s,o){if(!s||xe)return"";xe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var d=G}Reflect.construct(s,[],o)}else{try{o.call()}catch(G){d=G}s.call(o.prototype)}else{try{throw Error()}catch(G){d=G}s()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),y=d.stack.split(`
`),I=m.length-1,P=y.length-1;1<=I&&0<=P&&m[I]!==y[P];)P--;for(;1<=I&&0<=P;I--,P--)if(m[I]!==y[P]){if(I!==1||P!==1)do if(I--,P--,0>P||m[I]!==y[P]){var O=`
`+m[I].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=I&&0<=P);break}}}finally{xe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function be(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=Ae(s.type,!1),s;case 11:return s=Ae(s.type.render,!1),s;case 1:return s=Ae(s.type,!0),s;default:return""}}function Pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case J:return"Portal";case C:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case ze:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case B:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ge:return o=s.displayName||null,o!==null?o:Pe(s.type)||"Memo";case vt:o=s._payload,s=s._init;try{return Pe(s(o))}catch{}}return null}function Be(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(o);case 8:return o===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ft(s){var o=qe(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){d=""+I,y.call(this,I)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ls(s){s._valueTracker||(s._valueTracker=Ft(s))}function Er(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return s&&(d=qe(s)?s.checked?"true":"false":s.value),s=d,s!==u?(o.setValue(s),!0):!1}function Tr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ns(s,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function er(s,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Oe(o.value!=null?o.value:u),s._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ir(s,o){o=o.checked,o!=null&&z(s,"checked",o,!1)}function tr(s,o){Ir(s,o);var u=Oe(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ut(s,o.type,u):o.hasOwnProperty("defaultValue")&&ut(s,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function rs(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ut(s,o,u){(o!=="number"||Tr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var it=Array.isArray;function In(s,o,u,d){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&d&&(s[u].defaultSelected=!0)}else{for(u=""+Oe(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function Os(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ji(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(it(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Oe(u)}}function ke(s,o){var u=Oe(o.value),d=Oe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),d!=null&&(s.defaultValue=""+d)}function De(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Qe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Qe(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Pt,ss=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,d,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Pt=Pt||document.createElement("div"),Pt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Pt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function cn(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Vt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},On=["Webkit","ms","Moz","O"];Object.keys(Vt).forEach(function(s){On.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Vt[o]=Vt[s]})});function hn(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Vt.hasOwnProperty(s)&&Vt[s]?(""+o).trim():o+"px"}function dn(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=hn(u,o[u],d);u==="float"&&(u="cssFloat"),d?s.setProperty(u,m):s[u]=m}}var nr=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rr(s,o){if(o){if(nr[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Mo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function Lo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var is=null,os=null,mt=null;function al(s){if(s=Vl(s)){if(typeof is!="function")throw Error(n(280));var o=s.stateNode;o&&(o=wc(o),is(s.stateNode,s.type,o))}}function Fs(s){os?mt?mt.push(s):mt=[s]:os=s}function Us(){if(os){var s=os,o=mt;if(mt=os=null,al(s),o)for(s=0;s<o.length;s++)al(o[s])}}function Gu(s,o){return s(o)}function Qu(){}var Sr=!1;function Yu(s,o,u){if(Sr)return s(o,u);Sr=!0;try{return Gu(s,o,u)}finally{Sr=!1,(os!==null||mt!==null)&&(Qu(),Us())}}function Fi(s,o){var u=s.stateNode;if(u===null)return null;var d=wc(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Bs=!1;if(h)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Bs=!1}function Xu(s,o,u,d,m,y,I,P,O){var G=Array.prototype.slice.call(arguments,3);try{o.apply(u,G)}catch(ne){this.onError(ne)}}var as=!1,xr=null,Oo=!1,jn=null,Ju={onError:function(s){as=!0,xr=s}};function Zu(s,o,u,d,m,y,I,P,O){as=!1,xr=null,Xu.apply(Ju,arguments)}function ll(s,o,u,d,m,y,I,P,O){if(Zu.apply(this,arguments),as){if(as){var G=xr;as=!1,xr=null}else throw Error(n(198));Oo||(Oo=!0,jn=G)}}function sr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function ul(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function ec(s){if(sr(s)!==s)throw Error(n(188))}function tc(s){var o=s.alternate;if(!o){if(o=sr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,d=o;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return ec(m),s;if(y===d)return ec(m),o;y=y.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=y;else{for(var I=!1,P=m.child;P;){if(P===u){I=!0,u=m,d=y;break}if(P===d){I=!0,d=m,u=y;break}P=P.sibling}if(!I){for(P=y.child;P;){if(P===u){I=!0,u=y,d=m;break}if(P===d){I=!0,d=y,u=m;break}P=P.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function nc(s){return s=tc(s),s!==null?Ui(s):null}function Ui(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ui(s);if(o!==null)return o;s=s.sibling}return null}var cl=e.unstable_scheduleCallback,jo=e.unstable_cancelCallback,Bi=e.unstable_shouldYield,ls=e.unstable_requestPaint,et=e.unstable_now,Kd=e.unstable_getCurrentPriorityLevel,Fo=e.unstable_ImmediatePriority,hl=e.unstable_UserBlockingPriority,$i=e.unstable_NormalPriority,dl=e.unstable_LowPriority,Uo=e.unstable_IdlePriority,zi=null,Sn=null;function rc(s){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(zi,s,void 0,(s.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:Hi,Ar=Math.log,Fn=Math.LN2;function Hi(s){return s>>>=0,s===0?32:31-(Ar(s)/Fn|0)|0}var Cr=64,zs=4194304;function He(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function us(s,o){var u=s.pendingLanes;if(u===0)return 0;var d=0,m=s.suspendedLanes,y=s.pingedLanes,I=u&268435455;if(I!==0){var P=I&~m;P!==0?d=He(P):(y&=I,y!==0&&(d=He(y)))}else I=u&~m,I!==0?d=He(I):y!==0&&(d=He(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=d;0<o;)u=31-xn(o),m=1<<u,d|=s[u],o&=~m;return d}function Wi(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qi(s,o){for(var u=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var I=31-xn(y),P=1<<I,O=m[I];O===-1?((P&u)===0||(P&d)!==0)&&(m[I]=Wi(P,o)):O<=o&&(s.expiredLanes|=P),y&=~P}}function fl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function pl(){var s=Cr;return Cr<<=1,(Cr&4194240)===0&&(Cr=64),s}function ml(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Ki(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-xn(o),s[o]=u}function Gd(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-xn(u),y=1<<m;o[m]=0,d[m]=-1,s[m]=-1,u&=~y}}function gl(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var d=31-xn(u),m=1<<d;m&o|s[d]&o&&(s[d]|=o),u&=~m}}var je=0;function Rr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var yl,Bo,vl,_l,wl,Pr=!1,$o=[],kr=null,br=null,Ut=null,Gi=new Map,cs=new Map,An=[],sc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hs(s,o){switch(s){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(o.pointerId)}}function ir(s,o,u,d,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Vl(o),o!==null&&Bo(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function ic(s,o,u,d,m){switch(o){case"focusin":return kr=ir(kr,s,o,u,d,m),!0;case"dragenter":return br=ir(br,s,o,u,d,m),!0;case"mouseover":return Ut=ir(Ut,s,o,u,d,m),!0;case"pointerover":var y=m.pointerId;return Gi.set(y,ir(Gi.get(y)||null,s,o,u,d,m)),!0;case"gotpointercapture":return y=m.pointerId,cs.set(y,ir(cs.get(y)||null,s,o,u,d,m)),!0}return!1}function zo(s){var o=Ji(s.target);if(o!==null){var u=sr(o);if(u!==null){if(o=u.tag,o===13){if(o=ul(u),o!==null){s.blockedOn=o,wl(s.priority,function(){vl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ye(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=Ho(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);js=d,u.target.dispatchEvent(d),js=null}else return o=Vl(u),o!==null&&Bo(o),s.blockedOn=u,!1;o.shift()}return!0}function oc(s,o,u){Ye(s)&&u.delete(o)}function Qd(){Pr=!1,kr!==null&&Ye(kr)&&(kr=null),br!==null&&Ye(br)&&(br=null),Ut!==null&&Ye(Ut)&&(Ut=null),Gi.forEach(oc),cs.forEach(oc)}function Ws(s,o){s.blockedOn===o&&(s.blockedOn=null,Pr||(Pr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qd)))}function qs(s){function o(m){return Ws(m,s)}if(0<$o.length){Ws($o[0],s);for(var u=1;u<$o.length;u++){var d=$o[u];d.blockedOn===s&&(d.blockedOn=null)}}for(kr!==null&&Ws(kr,s),br!==null&&Ws(br,s),Ut!==null&&Ws(Ut,s),Gi.forEach(o),cs.forEach(o),u=0;u<An.length;u++)d=An[u],d.blockedOn===s&&(d.blockedOn=null);for(;0<An.length&&(u=An[0],u.blockedOn===null);)zo(u),u.blockedOn===null&&An.shift()}var hs=X.ReactCurrentBatchConfig,ds=!0;function Nr(s,o,u,d){var m=je,y=hs.transition;hs.transition=null;try{je=1,El(s,o,u,d)}finally{je=m,hs.transition=y}}function ac(s,o,u,d){var m=je,y=hs.transition;hs.transition=null;try{je=4,El(s,o,u,d)}finally{je=m,hs.transition=y}}function El(s,o,u,d){if(ds){var m=Ho(s,o,u,d);if(m===null)af(s,o,d,Dr,u),Hs(s,d);else if(ic(m,s,o,u,d))d.stopPropagation();else if(Hs(s,d),o&4&&-1<sc.indexOf(s)){for(;m!==null;){var y=Vl(m);if(y!==null&&yl(y),y=Ho(s,o,u,d),y===null&&af(s,o,d,Dr,u),y===m)break;m=y}m!==null&&d.stopPropagation()}else af(s,o,d,null,u)}}var Dr=null;function Ho(s,o,u,d){if(Dr=null,s=Lo(d),s=Ji(s),s!==null)if(o=sr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=ul(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Dr=s,null}function Wo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kd()){case Fo:return 1;case hl:return 4;case $i:case dl:return 16;case Uo:return 536870912;default:return 16}default:return 16}}var Cn=null,qo=null,fs=null;function lc(){if(fs)return fs;var s,o=qo,u=o.length,d,m="value"in Cn?Cn.value:Cn.textContent,y=m.length;for(s=0;s<u&&o[s]===m[s];s++);var I=u-s;for(d=1;d<=I&&o[u-d]===m[y-d];d++);return fs=m.slice(s,1<d?1-d:void 0)}function Qi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Vr(){return!0}function Tl(){return!1}function Gt(s){function o(u,d,m,y,I){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(u=s[P],this[P]=u?u(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Vr:Tl,this.isPropagationStopped=Tl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),o}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=Gt(Mr),Ks=ae({},Mr,{view:0,detail:0}),Ko=Gt(Ks),Go,Qo,Rn,Xi=ae({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ce,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Rn&&(Rn&&s.type==="mousemove"?(Go=s.screenX-Rn.screenX,Qo=s.screenY-Rn.screenY):Qo=Go=0,Rn=s),Go)},movementY:function(s){return"movementY"in s?s.movementY:Qo}}),Il=Gt(Xi),uc=ae({},Xi,{dataTransfer:0}),cc=Gt(uc),Yo=ae({},Ks,{relatedTarget:0}),Bt=Gt(Yo),hc=ae({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),dc=Gt(hc),Gs=ae({},Mr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=Gt(Gs),v=ae({},Mr,{data:0}),E=Gt(v),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Q[s])?!!o[s]:!1}function Ce(){return oe}var _t=ae({},Ks,{key:function(s){if(s.key){var o=S[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ce,charCode:function(s){return s.type==="keypress"?Qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ke=Gt(_t),Tt=ae({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pn=Gt(Tt),ps=ae({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ce}),Lr=Gt(ps),Or=ae({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xo=Gt(Or),Sl=ae({},Xi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),pA=Gt(Sl),mA=[9,13,27,32],Yd=h&&"CompositionEvent"in window,xl=null;h&&"documentMode"in document&&(xl=document.documentMode);var gA=h&&"TextEvent"in window&&!xl,$y=h&&(!Yd||xl&&8<xl&&11>=xl),zy=" ",Hy=!1;function Wy(s,o){switch(s){case"keyup":return mA.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Jo=!1;function yA(s,o){switch(s){case"compositionend":return qy(o);case"keypress":return o.which!==32?null:(Hy=!0,zy);case"textInput":return s=o.data,s===zy&&Hy?null:s;default:return null}}function vA(s,o){if(Jo)return s==="compositionend"||!Yd&&Wy(s,o)?(s=lc(),fs=qo=Cn=null,Jo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return $y&&o.locale!=="ko"?null:o.data;default:return null}}var _A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!_A[s.type]:o==="textarea"}function Gy(s,o,u,d){Fs(d),o=yc(o,"onChange"),0<o.length&&(u=new Yi("onChange","change",null,u,d),s.push({event:u,listeners:o}))}var Al=null,Cl=null;function wA(s){dv(s,0)}function fc(s){var o=ra(s);if(Er(o))return s}function EA(s,o){if(s==="change")return o}var Qy=!1;if(h){var Xd;if(h){var Jd="oninput"in document;if(!Jd){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),Jd=typeof Yy.oninput=="function"}Xd=Jd}else Xd=!1;Qy=Xd&&(!document.documentMode||9<document.documentMode)}function Xy(){Al&&(Al.detachEvent("onpropertychange",Jy),Cl=Al=null)}function Jy(s){if(s.propertyName==="value"&&fc(Cl)){var o=[];Gy(o,Cl,s,Lo(s)),Yu(wA,o)}}function TA(s,o,u){s==="focusin"?(Xy(),Al=o,Cl=u,Al.attachEvent("onpropertychange",Jy)):s==="focusout"&&Xy()}function IA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return fc(Cl)}function SA(s,o){if(s==="click")return fc(o)}function xA(s,o){if(s==="input"||s==="change")return fc(o)}function AA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var or=typeof Object.is=="function"?Object.is:AA;function Rl(s,o){if(or(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!or(s[m],o[m]))return!1}return!0}function Zy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ev(s,o){var u=Zy(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=o&&d>=o)return{node:u,offset:o-s};s=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Zy(u)}}function tv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?tv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function nv(){for(var s=window,o=Tr();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Tr(s.document)}return o}function Zd(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function CA(s){var o=nv(),u=s.focusedElem,d=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&tv(u.ownerDocument.documentElement,u)){if(d!==null&&Zd(u)){if(o=d.start,s=d.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!s.extend&&y>d&&(m=d,d=y,y=m),m=ev(u,y);var I=ev(u,d);m&&I&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>d?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var RA=h&&"documentMode"in document&&11>=document.documentMode,Zo=null,ef=null,Pl=null,tf=!1;function rv(s,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;tf||Zo==null||Zo!==Tr(d)||(d=Zo,"selectionStart"in d&&Zd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Pl&&Rl(Pl,d)||(Pl=d,d=yc(ef,"onSelect"),0<d.length&&(o=new Yi("onSelect","select",null,o,u),s.push({event:o,listeners:d}),o.target=Zo)))}function pc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var ea={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},nf={},sv={};h&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function mc(s){if(nf[s])return nf[s];if(!ea[s])return s;var o=ea[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in sv)return nf[s]=o[u];return s}var iv=mc("animationend"),ov=mc("animationiteration"),av=mc("animationstart"),lv=mc("transitionend"),uv=new Map,cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(s,o){uv.set(s,o),a(o,[s])}for(var rf=0;rf<cv.length;rf++){var sf=cv[rf],PA=sf.toLowerCase(),kA=sf[0].toUpperCase()+sf.slice(1);Qs(PA,"on"+kA)}Qs(iv,"onAnimationEnd"),Qs(ov,"onAnimationIteration"),Qs(av,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(lv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bA=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function hv(s,o,u){var d=s.type||"unknown-event";s.currentTarget=u,ll(d,o,void 0,s),s.currentTarget=null}function dv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var I=d.length-1;0<=I;I--){var P=d[I],O=P.instance,G=P.currentTarget;if(P=P.listener,O!==y&&m.isPropagationStopped())break e;hv(m,P,G),y=O}else for(I=0;I<d.length;I++){if(P=d[I],O=P.instance,G=P.currentTarget,P=P.listener,O!==y&&m.isPropagationStopped())break e;hv(m,P,G),y=O}}}if(Oo)throw s=jn,Oo=!1,jn=null,s}function tt(s,o){var u=o[ff];u===void 0&&(u=o[ff]=new Set);var d=s+"__bubble";u.has(d)||(fv(o,s,2,!1),u.add(d))}function of(s,o,u){var d=0;o&&(d|=4),fv(u,s,d,o)}var gc="_reactListening"+Math.random().toString(36).slice(2);function bl(s){if(!s[gc]){s[gc]=!0,r.forEach(function(u){u!=="selectionchange"&&(bA.has(u)||of(u,!1,s),of(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[gc]||(o[gc]=!0,of("selectionchange",!1,o))}}function fv(s,o,u,d){switch(Wo(o)){case 1:var m=Nr;break;case 4:m=ac;break;default:m=El}u=m.bind(null,o,u,s),m=void 0,!Bs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function af(s,o,u,d,m){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var P=d.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(I===4)for(I=d.return;I!==null;){var O=I.tag;if((O===3||O===4)&&(O=I.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;I=I.return}for(;P!==null;){if(I=Ji(P),I===null)return;if(O=I.tag,O===5||O===6){d=y=I;continue e}P=P.parentNode}}d=d.return}Yu(function(){var G=y,ne=Lo(u),se=[];e:{var te=uv.get(s);if(te!==void 0){var ce=Yi,fe=s;switch(s){case"keypress":if(Qi(u)===0)break e;case"keydown":case"keyup":ce=Ke;break;case"focusin":fe="focus",ce=Bt;break;case"focusout":fe="blur",ce=Bt;break;case"beforeblur":case"afterblur":ce=Bt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Lr;break;case iv:case ov:case av:ce=dc;break;case lv:ce=Xo;break;case"scroll":ce=Ko;break;case"wheel":ce=pA;break;case"copy":case"cut":case"paste":ce=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Pn}var pe=(o&4)!==0,wt=!pe&&s==="scroll",H=pe?te!==null?te+"Capture":null:te;pe=[];for(var j=G,K;j!==null;){K=j;var ie=K.stateNode;if(K.tag===5&&ie!==null&&(K=ie,H!==null&&(ie=Fi(j,H),ie!=null&&pe.push(Nl(j,ie,K)))),wt)break;j=j.return}0<pe.length&&(te=new ce(te,fe,null,u,ne),se.push({event:te,listeners:pe}))}}if((o&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",te&&u!==js&&(fe=u.relatedTarget||u.fromElement)&&(Ji(fe)||fe[ms]))break e;if((ce||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(fe=u.relatedTarget||u.toElement,ce=G,fe=fe?Ji(fe):null,fe!==null&&(wt=sr(fe),fe!==wt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=G),ce!==fe)){if(pe=Il,ie="onMouseLeave",H="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(pe=Pn,ie="onPointerLeave",H="onPointerEnter",j="pointer"),wt=ce==null?te:ra(ce),K=fe==null?te:ra(fe),te=new pe(ie,j+"leave",ce,u,ne),te.target=wt,te.relatedTarget=K,ie=null,Ji(ne)===G&&(pe=new pe(H,j+"enter",fe,u,ne),pe.target=K,pe.relatedTarget=wt,ie=pe),wt=ie,ce&&fe)t:{for(pe=ce,H=fe,j=0,K=pe;K;K=ta(K))j++;for(K=0,ie=H;ie;ie=ta(ie))K++;for(;0<j-K;)pe=ta(pe),j--;for(;0<K-j;)H=ta(H),K--;for(;j--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=ta(pe),H=ta(H)}pe=null}else pe=null;ce!==null&&pv(se,te,ce,pe,!1),fe!==null&&wt!==null&&pv(se,wt,fe,pe,!0)}}e:{if(te=G?ra(G):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var me=EA;else if(Ky(te))if(Qy)me=xA;else{me=IA;var ye=TA}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(me=SA);if(me&&(me=me(s,G))){Gy(se,me,u,ne);break e}ye&&ye(s,te,G),s==="focusout"&&(ye=te._wrapperState)&&ye.controlled&&te.type==="number"&&ut(te,"number",te.value)}switch(ye=G?ra(G):window,s){case"focusin":(Ky(ye)||ye.contentEditable==="true")&&(Zo=ye,ef=G,Pl=null);break;case"focusout":Pl=ef=Zo=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,rv(se,u,ne);break;case"selectionchange":if(RA)break;case"keydown":case"keyup":rv(se,u,ne)}var ve;if(Yd)e:{switch(s){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Jo?Wy(s,u)&&(Ie="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&($y&&u.locale!=="ko"&&(Jo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Jo&&(ve=lc()):(Cn=ne,qo="value"in Cn?Cn.value:Cn.textContent,Jo=!0)),ye=yc(G,Ie),0<ye.length&&(Ie=new E(Ie,s,null,u,ne),se.push({event:Ie,listeners:ye}),ve?Ie.data=ve:(ve=qy(u),ve!==null&&(Ie.data=ve)))),(ve=gA?yA(s,u):vA(s,u))&&(G=yc(G,"onBeforeInput"),0<G.length&&(ne=new E("onBeforeInput","beforeinput",null,u,ne),se.push({event:ne,listeners:G}),ne.data=ve))}dv(se,o)})}function Nl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function yc(s,o){for(var u=o+"Capture",d=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Fi(s,u),y!=null&&d.unshift(Nl(s,y,m)),y=Fi(s,o),y!=null&&d.push(Nl(s,y,m))),s=s.return}return d}function ta(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function pv(s,o,u,d,m){for(var y=o._reactName,I=[];u!==null&&u!==d;){var P=u,O=P.alternate,G=P.stateNode;if(O!==null&&O===d)break;P.tag===5&&G!==null&&(P=G,m?(O=Fi(u,y),O!=null&&I.unshift(Nl(u,O,P))):m||(O=Fi(u,y),O!=null&&I.push(Nl(u,O,P)))),u=u.return}I.length!==0&&s.push({event:o,listeners:I})}var NA=/\r\n?/g,DA=/\u0000|\uFFFD/g;function mv(s){return(typeof s=="string"?s:""+s).replace(NA,`
`).replace(DA,"")}function vc(s,o,u){if(o=mv(o),mv(s)!==o&&u)throw Error(n(425))}function _c(){}var lf=null,uf=null;function cf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(s){return gv.resolve(null).then(s).catch(LA)}:hf;function LA(s){setTimeout(function(){throw s})}function df(s,o){var u=o,d=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){s.removeChild(m),qs(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);qs(o)}function Ys(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function yv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var na=Math.random().toString(36).slice(2),jr="__reactFiber$"+na,Dl="__reactProps$"+na,ms="__reactContainer$"+na,ff="__reactEvents$"+na,OA="__reactListeners$"+na,jA="__reactHandles$"+na;function Ji(s){var o=s[jr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ms]||u[jr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=yv(s);s!==null;){if(u=s[jr])return u;s=yv(s)}return o}s=u,u=s.parentNode}return null}function Vl(s){return s=s[jr]||s[ms],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ra(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function wc(s){return s[Dl]||null}var pf=[],sa=-1;function Xs(s){return{current:s}}function nt(s){0>sa||(s.current=pf[sa],pf[sa]=null,sa--)}function Je(s,o){sa++,pf[sa]=s.current,s.current=o}var Js={},Qt=Xs(Js),fn=Xs(!1),Zi=Js;function ia(s,o){var u=s.type.contextTypes;if(!u)return Js;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in u)m[y]=o[y];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function pn(s){return s=s.childContextTypes,s!=null}function Ec(){nt(fn),nt(Qt)}function vv(s,o,u){if(Qt.current!==Js)throw Error(n(168));Je(Qt,o),Je(fn,u)}function _v(s,o,u){var d=s.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,Be(s)||"Unknown",m));return ae({},u,d)}function Tc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Js,Zi=Qt.current,Je(Qt,s),Je(fn,fn.current),!0}function wv(s,o,u){var d=s.stateNode;if(!d)throw Error(n(169));u?(s=_v(s,o,Zi),d.__reactInternalMemoizedMergedChildContext=s,nt(fn),nt(Qt),Je(Qt,s)):nt(fn),Je(fn,u)}var gs=null,Ic=!1,mf=!1;function Ev(s){gs===null?gs=[s]:gs.push(s)}function FA(s){Ic=!0,Ev(s)}function Zs(){if(!mf&&gs!==null){mf=!0;var s=0,o=je;try{var u=gs;for(je=1;s<u.length;s++){var d=u[s];do d=d(!0);while(d!==null)}gs=null,Ic=!1}catch(m){throw gs!==null&&(gs=gs.slice(s+1)),cl(Fo,Zs),m}finally{je=o,mf=!1}}return null}var oa=[],aa=0,Sc=null,xc=0,Un=[],Bn=0,eo=null,ys=1,vs="";function to(s,o){oa[aa++]=xc,oa[aa++]=Sc,Sc=s,xc=o}function Tv(s,o,u){Un[Bn++]=ys,Un[Bn++]=vs,Un[Bn++]=eo,eo=s;var d=ys;s=vs;var m=32-xn(d)-1;d&=~(1<<m),u+=1;var y=32-xn(o)+m;if(30<y){var I=m-m%5;y=(d&(1<<I)-1).toString(32),d>>=I,m-=I,ys=1<<32-xn(o)+m|u<<m|d,vs=y+s}else ys=1<<y|u<<m|d,vs=s}function gf(s){s.return!==null&&(to(s,1),Tv(s,1,0))}function yf(s){for(;s===Sc;)Sc=oa[--aa],oa[aa]=null,xc=oa[--aa],oa[aa]=null;for(;s===eo;)eo=Un[--Bn],Un[Bn]=null,vs=Un[--Bn],Un[Bn]=null,ys=Un[--Bn],Un[Bn]=null}var kn=null,bn=null,ot=!1,ar=null;function Iv(s,o){var u=Wn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Sv(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,kn=s,bn=Ys(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,kn=s,bn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=eo!==null?{id:ys,overflow:vs}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Wn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,kn=s,bn=null,!0):!1;default:return!1}}function vf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function _f(s){if(ot){var o=bn;if(o){var u=o;if(!Sv(s,o)){if(vf(s))throw Error(n(418));o=Ys(u.nextSibling);var d=kn;o&&Sv(s,o)?Iv(d,u):(s.flags=s.flags&-4097|2,ot=!1,kn=s)}}else{if(vf(s))throw Error(n(418));s.flags=s.flags&-4097|2,ot=!1,kn=s}}}function xv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;kn=s}function Ac(s){if(s!==kn)return!1;if(!ot)return xv(s),ot=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!cf(s.type,s.memoizedProps)),o&&(o=bn)){if(vf(s))throw Av(),Error(n(418));for(;o;)Iv(s,o),o=Ys(o.nextSibling)}if(xv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){bn=Ys(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}bn=null}}else bn=kn?Ys(s.stateNode.nextSibling):null;return!0}function Av(){for(var s=bn;s;)s=Ys(s.nextSibling)}function la(){bn=kn=null,ot=!1}function wf(s){ar===null?ar=[s]:ar.push(s)}var UA=X.ReactCurrentBatchConfig;function Ml(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,s));var m=d,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(I){var P=m.refs;I===null?delete P[y]:P[y]=I},o._stringRef=y,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Cc(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Cv(s){var o=s._init;return o(s._payload)}function Rv(s){function o(H,j){if(s){var K=H.deletions;K===null?(H.deletions=[j],H.flags|=16):K.push(j)}}function u(H,j){if(!s)return null;for(;j!==null;)o(H,j),j=j.sibling;return null}function d(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function m(H,j){return H=ai(H,j),H.index=0,H.sibling=null,H}function y(H,j,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<j?(H.flags|=2,j):K):(H.flags|=2,j)):(H.flags|=1048576,j)}function I(H){return s&&H.alternate===null&&(H.flags|=2),H}function P(H,j,K,ie){return j===null||j.tag!==6?(j=hp(K,H.mode,ie),j.return=H,j):(j=m(j,K),j.return=H,j)}function O(H,j,K,ie){var me=K.type;return me===R?ne(H,j,K.props.children,ie,K.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===vt&&Cv(me)===j.type)?(ie=m(j,K.props),ie.ref=Ml(H,j,K),ie.return=H,ie):(ie=Xc(K.type,K.key,K.props,null,H.mode,ie),ie.ref=Ml(H,j,K),ie.return=H,ie)}function G(H,j,K,ie){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=dp(K,H.mode,ie),j.return=H,j):(j=m(j,K.children||[]),j.return=H,j)}function ne(H,j,K,ie,me){return j===null||j.tag!==7?(j=uo(K,H.mode,ie,me),j.return=H,j):(j=m(j,K),j.return=H,j)}function se(H,j,K){if(typeof j=="string"&&j!==""||typeof j=="number")return j=hp(""+j,H.mode,K),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case q:return K=Xc(j.type,j.key,j.props,null,H.mode,K),K.ref=Ml(H,null,j),K.return=H,K;case J:return j=dp(j,H.mode,K),j.return=H,j;case vt:var ie=j._init;return se(H,ie(j._payload),K)}if(it(j)||ue(j))return j=uo(j,H.mode,K,null),j.return=H,j;Cc(H,j)}return null}function te(H,j,K,ie){var me=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return me!==null?null:P(H,j,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return K.key===me?O(H,j,K,ie):null;case J:return K.key===me?G(H,j,K,ie):null;case vt:return me=K._init,te(H,j,me(K._payload),ie)}if(it(K)||ue(K))return me!==null?null:ne(H,j,K,ie,null);Cc(H,K)}return null}function ce(H,j,K,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(K)||null,P(j,H,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case q:return H=H.get(ie.key===null?K:ie.key)||null,O(j,H,ie,me);case J:return H=H.get(ie.key===null?K:ie.key)||null,G(j,H,ie,me);case vt:var ye=ie._init;return ce(H,j,K,ye(ie._payload),me)}if(it(ie)||ue(ie))return H=H.get(K)||null,ne(j,H,ie,me,null);Cc(j,ie)}return null}function fe(H,j,K,ie){for(var me=null,ye=null,ve=j,Ie=j=0,Ot=null;ve!==null&&Ie<K.length;Ie++){ve.index>Ie?(Ot=ve,ve=null):Ot=ve.sibling;var $e=te(H,ve,K[Ie],ie);if($e===null){ve===null&&(ve=Ot);break}s&&ve&&$e.alternate===null&&o(H,ve),j=y($e,j,Ie),ye===null?me=$e:ye.sibling=$e,ye=$e,ve=Ot}if(Ie===K.length)return u(H,ve),ot&&to(H,Ie),me;if(ve===null){for(;Ie<K.length;Ie++)ve=se(H,K[Ie],ie),ve!==null&&(j=y(ve,j,Ie),ye===null?me=ve:ye.sibling=ve,ye=ve);return ot&&to(H,Ie),me}for(ve=d(H,ve);Ie<K.length;Ie++)Ot=ce(ve,H,Ie,K[Ie],ie),Ot!==null&&(s&&Ot.alternate!==null&&ve.delete(Ot.key===null?Ie:Ot.key),j=y(Ot,j,Ie),ye===null?me=Ot:ye.sibling=Ot,ye=Ot);return s&&ve.forEach(function(li){return o(H,li)}),ot&&to(H,Ie),me}function pe(H,j,K,ie){var me=ue(K);if(typeof me!="function")throw Error(n(150));if(K=me.call(K),K==null)throw Error(n(151));for(var ye=me=null,ve=j,Ie=j=0,Ot=null,$e=K.next();ve!==null&&!$e.done;Ie++,$e=K.next()){ve.index>Ie?(Ot=ve,ve=null):Ot=ve.sibling;var li=te(H,ve,$e.value,ie);if(li===null){ve===null&&(ve=Ot);break}s&&ve&&li.alternate===null&&o(H,ve),j=y(li,j,Ie),ye===null?me=li:ye.sibling=li,ye=li,ve=Ot}if($e.done)return u(H,ve),ot&&to(H,Ie),me;if(ve===null){for(;!$e.done;Ie++,$e=K.next())$e=se(H,$e.value,ie),$e!==null&&(j=y($e,j,Ie),ye===null?me=$e:ye.sibling=$e,ye=$e);return ot&&to(H,Ie),me}for(ve=d(H,ve);!$e.done;Ie++,$e=K.next())$e=ce(ve,H,Ie,$e.value,ie),$e!==null&&(s&&$e.alternate!==null&&ve.delete($e.key===null?Ie:$e.key),j=y($e,j,Ie),ye===null?me=$e:ye.sibling=$e,ye=$e);return s&&ve.forEach(function(_C){return o(H,_C)}),ot&&to(H,Ie),me}function wt(H,j,K,ie){if(typeof K=="object"&&K!==null&&K.type===R&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case q:e:{for(var me=K.key,ye=j;ye!==null;){if(ye.key===me){if(me=K.type,me===R){if(ye.tag===7){u(H,ye.sibling),j=m(ye,K.props.children),j.return=H,H=j;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===vt&&Cv(me)===ye.type){u(H,ye.sibling),j=m(ye,K.props),j.ref=Ml(H,ye,K),j.return=H,H=j;break e}u(H,ye);break}else o(H,ye);ye=ye.sibling}K.type===R?(j=uo(K.props.children,H.mode,ie,K.key),j.return=H,H=j):(ie=Xc(K.type,K.key,K.props,null,H.mode,ie),ie.ref=Ml(H,j,K),ie.return=H,H=ie)}return I(H);case J:e:{for(ye=K.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){u(H,j.sibling),j=m(j,K.children||[]),j.return=H,H=j;break e}else{u(H,j);break}else o(H,j);j=j.sibling}j=dp(K,H.mode,ie),j.return=H,H=j}return I(H);case vt:return ye=K._init,wt(H,j,ye(K._payload),ie)}if(it(K))return fe(H,j,K,ie);if(ue(K))return pe(H,j,K,ie);Cc(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,j!==null&&j.tag===6?(u(H,j.sibling),j=m(j,K),j.return=H,H=j):(u(H,j),j=hp(K,H.mode,ie),j.return=H,H=j),I(H)):u(H,j)}return wt}var ua=Rv(!0),Pv=Rv(!1),Rc=Xs(null),Pc=null,ca=null,Ef=null;function Tf(){Ef=ca=Pc=null}function If(s){var o=Rc.current;nt(Rc),s._currentValue=o}function Sf(s,o,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===u)break;s=s.return}}function ha(s,o){Pc=s,Ef=ca=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(mn=!0),s.firstContext=null)}function $n(s){var o=s._currentValue;if(Ef!==s)if(s={context:s,memoizedValue:o,next:null},ca===null){if(Pc===null)throw Error(n(308));ca=s,Pc.dependencies={lanes:0,firstContext:s}}else ca=ca.next=s;return o}var no=null;function xf(s){no===null?no=[s]:no.push(s)}function kv(s,o,u,d){var m=o.interleaved;return m===null?(u.next=u,xf(o)):(u.next=m.next,m.next=u),o.interleaved=u,_s(s,d)}function _s(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var ei=!1;function Af(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ws(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ti(s,o,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ue&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,_s(s,u)}return m=d.interleaved,m===null?(o.next=o,xf(d)):(o.next=m.next,m.next=o),d.interleaved=o,_s(s,u)}function kc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,gl(s,u)}}function Nv(s,o){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?m=y=I:y=y.next=I,u=u.next}while(u!==null);y===null?m=y=o:y=y.next=o}else m=y=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function bc(s,o,u,d){var m=s.updateQueue;ei=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var O=P,G=O.next;O.next=null,I===null?y=G:I.next=G,I=O;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==I&&(P===null?ne.firstBaseUpdate=G:P.next=G,ne.lastBaseUpdate=O))}if(y!==null){var se=m.baseState;I=0,ne=G=O=null,P=y;do{var te=P.lane,ce=P.eventTime;if((d&te)===te){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var fe=s,pe=P;switch(te=o,ce=u,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){se=fe.call(ce,se,te);break e}se=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,te=typeof fe=="function"?fe.call(ce,se,te):fe,te==null)break e;se=ae({},se,te);break e;case 2:ei=!0}}P.callback!==null&&P.lane!==0&&(s.flags|=64,te=m.effects,te===null?m.effects=[P]:te.push(P))}else ce={eventTime:ce,lane:te,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(G=ne=ce,O=se):ne=ne.next=ce,I|=te;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;te=P,P=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(O=se),m.baseState=O,m.firstBaseUpdate=G,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);io|=I,s.lanes=I,s.memoizedState=se}}function Dv(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var d=s[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var Ll={},Fr=Xs(Ll),Ol=Xs(Ll),jl=Xs(Ll);function ro(s){if(s===Ll)throw Error(n(174));return s}function Cf(s,o){switch(Je(jl,o),Je(Ol,s),Je(Fr,Ll),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Xe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Xe(o,s)}nt(Fr),Je(Fr,o)}function da(){nt(Fr),nt(Ol),nt(jl)}function Vv(s){ro(jl.current);var o=ro(Fr.current),u=Xe(o,s.type);o!==u&&(Je(Ol,s),Je(Fr,u))}function Rf(s){Ol.current===s&&(nt(Fr),nt(Ol))}var ct=Xs(0);function Nc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Pf=[];function kf(){for(var s=0;s<Pf.length;s++)Pf[s]._workInProgressVersionPrimary=null;Pf.length=0}var Dc=X.ReactCurrentDispatcher,bf=X.ReactCurrentBatchConfig,so=0,ht=null,kt=null,Mt=null,Vc=!1,Fl=!1,Ul=0,BA=0;function Yt(){throw Error(n(321))}function Nf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!or(s[u],o[u]))return!1;return!0}function Df(s,o,u,d,m,y){if(so=y,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Dc.current=s===null||s.memoizedState===null?WA:qA,s=u(d,m),Fl){y=0;do{if(Fl=!1,Ul=0,25<=y)throw Error(n(301));y+=1,Mt=kt=null,o.updateQueue=null,Dc.current=KA,s=u(d,m)}while(Fl)}if(Dc.current=Oc,o=kt!==null&&kt.next!==null,so=0,Mt=kt=ht=null,Vc=!1,o)throw Error(n(300));return s}function Vf(){var s=Ul!==0;return Ul=0,s}function Ur(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ht.memoizedState=Mt=s:Mt=Mt.next=s,Mt}function zn(){if(kt===null){var s=ht.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var o=Mt===null?ht.memoizedState:Mt.next;if(o!==null)Mt=o,kt=s;else{if(s===null)throw Error(n(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Mt===null?ht.memoizedState=Mt=s:Mt=Mt.next=s}return Mt}function Bl(s,o){return typeof o=="function"?o(s):o}function Mf(s){var o=zn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=kt,m=d.baseQueue,y=u.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}d.baseQueue=m=y,u.pending=null}if(m!==null){y=m.next,d=d.baseState;var P=I=null,O=null,G=y;do{var ne=G.lane;if((so&ne)===ne)O!==null&&(O=O.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:s(d,G.action);else{var se={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};O===null?(P=O=se,I=d):O=O.next=se,ht.lanes|=ne,io|=ne}G=G.next}while(G!==null&&G!==y);O===null?I=d:O.next=P,or(d,o.memoizedState)||(mn=!0),o.memoizedState=d,o.baseState=I,o.baseQueue=O,u.lastRenderedState=d}if(s=u.interleaved,s!==null){m=s;do y=m.lane,ht.lanes|=y,io|=y,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Lf(s){var o=zn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var d=u.dispatch,m=u.pending,y=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do y=s(y,I.action),I=I.next;while(I!==m);or(y,o.memoizedState)||(mn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,d]}function Mv(){}function Lv(s,o){var u=ht,d=zn(),m=o(),y=!or(d.memoizedState,m);if(y&&(d.memoizedState=m,mn=!0),d=d.queue,Of(Fv.bind(null,u,d,s),[s]),d.getSnapshot!==o||y||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,$l(9,jv.bind(null,u,d,m,o),void 0,null),Lt===null)throw Error(n(349));(so&30)!==0||Ov(u,o,m)}return m}function Ov(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function jv(s,o,u,d){o.value=u,o.getSnapshot=d,Uv(o)&&Bv(s)}function Fv(s,o,u){return u(function(){Uv(o)&&Bv(s)})}function Uv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!or(s,u)}catch{return!0}}function Bv(s){var o=_s(s,1);o!==null&&hr(o,s,1,-1)}function $v(s){var o=Ur();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:s},o.queue=s,s=s.dispatch=HA.bind(null,ht,s),[o.memoizedState,s]}function $l(s,o,u,d){return s={tag:s,create:o,destroy:u,deps:d,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,o.lastEffect=s)),s}function zv(){return zn().memoizedState}function Mc(s,o,u,d){var m=Ur();ht.flags|=s,m.memoizedState=$l(1|o,u,void 0,d===void 0?null:d)}function Lc(s,o,u,d){var m=zn();d=d===void 0?null:d;var y=void 0;if(kt!==null){var I=kt.memoizedState;if(y=I.destroy,d!==null&&Nf(d,I.deps)){m.memoizedState=$l(o,u,y,d);return}}ht.flags|=s,m.memoizedState=$l(1|o,u,y,d)}function Hv(s,o){return Mc(8390656,8,s,o)}function Of(s,o){return Lc(2048,8,s,o)}function Wv(s,o){return Lc(4,2,s,o)}function qv(s,o){return Lc(4,4,s,o)}function Kv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Gv(s,o,u){return u=u!=null?u.concat([s]):null,Lc(4,4,Kv.bind(null,o,s),u)}function jf(){}function Qv(s,o){var u=zn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Nf(o,d[1])?d[0]:(u.memoizedState=[s,o],s)}function Yv(s,o){var u=zn();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Nf(o,d[1])?d[0]:(s=s(),u.memoizedState=[s,o],s)}function Xv(s,o,u){return(so&21)===0?(s.baseState&&(s.baseState=!1,mn=!0),s.memoizedState=u):(or(u,o)||(u=pl(),ht.lanes|=u,io|=u,s.baseState=!0),o)}function $A(s,o){var u=je;je=u!==0&&4>u?u:4,s(!0);var d=bf.transition;bf.transition={};try{s(!1),o()}finally{je=u,bf.transition=d}}function Jv(){return zn().memoizedState}function zA(s,o,u){var d=ii(s);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Zv(s))e_(o,u);else if(u=kv(s,o,u,d),u!==null){var m=on();hr(u,s,d,m),t_(u,o,d)}}function HA(s,o,u){var d=ii(s),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Zv(s))e_(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var I=o.lastRenderedState,P=y(I,u);if(m.hasEagerState=!0,m.eagerState=P,or(P,I)){var O=o.interleaved;O===null?(m.next=m,xf(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}finally{}u=kv(s,o,m,d),u!==null&&(m=on(),hr(u,s,d,m),t_(u,o,d))}}function Zv(s){var o=s.alternate;return s===ht||o!==null&&o===ht}function e_(s,o){Fl=Vc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function t_(s,o,u){if((u&4194240)!==0){var d=o.lanes;d&=s.pendingLanes,u|=d,o.lanes=u,gl(s,u)}}var Oc={readContext:$n,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},WA={readContext:$n,useCallback:function(s,o){return Ur().memoizedState=[s,o===void 0?null:o],s},useContext:$n,useEffect:Hv,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Mc(4194308,4,Kv.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Mc(4194308,4,s,o)},useInsertionEffect:function(s,o){return Mc(4,2,s,o)},useMemo:function(s,o){var u=Ur();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var d=Ur();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},d.queue=s,s=s.dispatch=zA.bind(null,ht,s),[d.memoizedState,s]},useRef:function(s){var o=Ur();return s={current:s},o.memoizedState=s},useState:$v,useDebugValue:jf,useDeferredValue:function(s){return Ur().memoizedState=s},useTransition:function(){var s=$v(!1),o=s[0];return s=$A.bind(null,s[1]),Ur().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var d=ht,m=Ur();if(ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Lt===null)throw Error(n(349));(so&30)!==0||Ov(d,o,u)}m.memoizedState=u;var y={value:u,getSnapshot:o};return m.queue=y,Hv(Fv.bind(null,d,y,s),[s]),d.flags|=2048,$l(9,jv.bind(null,d,y,u,o),void 0,null),u},useId:function(){var s=Ur(),o=Lt.identifierPrefix;if(ot){var u=vs,d=ys;u=(d&~(1<<32-xn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ul++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=BA++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},qA={readContext:$n,useCallback:Qv,useContext:$n,useEffect:Of,useImperativeHandle:Gv,useInsertionEffect:Wv,useLayoutEffect:qv,useMemo:Yv,useReducer:Mf,useRef:zv,useState:function(){return Mf(Bl)},useDebugValue:jf,useDeferredValue:function(s){var o=zn();return Xv(o,kt.memoizedState,s)},useTransition:function(){var s=Mf(Bl)[0],o=zn().memoizedState;return[s,o]},useMutableSource:Mv,useSyncExternalStore:Lv,useId:Jv,unstable_isNewReconciler:!1},KA={readContext:$n,useCallback:Qv,useContext:$n,useEffect:Of,useImperativeHandle:Gv,useInsertionEffect:Wv,useLayoutEffect:qv,useMemo:Yv,useReducer:Lf,useRef:zv,useState:function(){return Lf(Bl)},useDebugValue:jf,useDeferredValue:function(s){var o=zn();return kt===null?o.memoizedState=s:Xv(o,kt.memoizedState,s)},useTransition:function(){var s=Lf(Bl)[0],o=zn().memoizedState;return[s,o]},useMutableSource:Mv,useSyncExternalStore:Lv,useId:Jv,unstable_isNewReconciler:!1};function lr(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Ff(s,o,u,d){o=s.memoizedState,u=u(d,o),u=u==null?o:ae({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var jc={isMounted:function(s){return(s=s._reactInternals)?sr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var d=on(),m=ii(s),y=ws(d,m);y.payload=o,u!=null&&(y.callback=u),o=ti(s,y,m),o!==null&&(hr(o,s,m,d),kc(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var d=on(),m=ii(s),y=ws(d,m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=ti(s,y,m),o!==null&&(hr(o,s,m,d),kc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=on(),d=ii(s),m=ws(u,d);m.tag=2,o!=null&&(m.callback=o),o=ti(s,m,d),o!==null&&(hr(o,s,d,u),kc(o,s,d))}};function n_(s,o,u,d,m,y,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,y,I):o.prototype&&o.prototype.isPureReactComponent?!Rl(u,d)||!Rl(m,y):!0}function r_(s,o,u){var d=!1,m=Js,y=o.contextType;return typeof y=="object"&&y!==null?y=$n(y):(m=pn(o)?Zi:Qt.current,d=o.contextTypes,y=(d=d!=null)?ia(s,m):Js),o=new o(u,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=jc,s.stateNode=o,o._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function s_(s,o,u,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==s&&jc.enqueueReplaceState(o,o.state,null)}function Uf(s,o,u,d){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Af(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=$n(y):(y=pn(o)?Zi:Qt.current,m.context=ia(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Ff(s,o,y,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&jc.enqueueReplaceState(m,m.state,null),bc(s,u,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function fa(s,o){try{var u="",d=o;do u+=be(d),d=d.return;while(d);var m=u}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function Bf(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function $f(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var GA=typeof WeakMap=="function"?WeakMap:Map;function i_(s,o,u){u=ws(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){Wc||(Wc=!0,rp=d),$f(s,o)},u}function o_(s,o,u){u=ws(-1,u),u.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){$f(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){$f(s,o),typeof d!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function a_(s,o,u){var d=s.pingCache;if(d===null){d=s.pingCache=new GA;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),s=lC.bind(null,s,o,u),o.then(s,s))}function l_(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function u_(s,o,u,d,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ws(-1,1),o.tag=2,ti(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var QA=X.ReactCurrentOwner,mn=!1;function sn(s,o,u,d){o.child=s===null?Pv(o,null,u,d):ua(o,s.child,u,d)}function c_(s,o,u,d,m){u=u.render;var y=o.ref;return ha(o,m),d=Df(s,o,u,d,y,m),u=Vf(),s!==null&&!mn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Es(s,o,m)):(ot&&u&&gf(o),o.flags|=1,sn(s,o,d,m),o.child)}function h_(s,o,u,d,m){if(s===null){var y=u.type;return typeof y=="function"&&!cp(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,d_(s,o,y,d,m)):(s=Xc(u.type,null,d,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var I=y.memoizedProps;if(u=u.compare,u=u!==null?u:Rl,u(I,d)&&s.ref===o.ref)return Es(s,o,m)}return o.flags|=1,s=ai(y,d),s.ref=o.ref,s.return=o,o.child=s}function d_(s,o,u,d,m){if(s!==null){var y=s.memoizedProps;if(Rl(y,d)&&s.ref===o.ref)if(mn=!1,o.pendingProps=d=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(mn=!0);else return o.lanes=s.lanes,Es(s,o,m)}return zf(s,o,u,d,m)}function f_(s,o,u){var d=o.pendingProps,m=d.children,y=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ma,Nn),Nn|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Je(ma,Nn),Nn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:u,Je(ma,Nn),Nn|=d}else y!==null?(d=y.baseLanes|u,o.memoizedState=null):d=u,Je(ma,Nn),Nn|=d;return sn(s,o,m,u),o.child}function p_(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function zf(s,o,u,d,m){var y=pn(u)?Zi:Qt.current;return y=ia(o,y),ha(o,m),u=Df(s,o,u,d,y,m),d=Vf(),s!==null&&!mn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Es(s,o,m)):(ot&&d&&gf(o),o.flags|=1,sn(s,o,u,m),o.child)}function m_(s,o,u,d,m){if(pn(u)){var y=!0;Tc(o)}else y=!1;if(ha(o,m),o.stateNode===null)Uc(s,o),r_(o,u,d),Uf(o,u,d,m),d=!0;else if(s===null){var I=o.stateNode,P=o.memoizedProps;I.props=P;var O=I.context,G=u.contextType;typeof G=="object"&&G!==null?G=$n(G):(G=pn(u)?Zi:Qt.current,G=ia(o,G));var ne=u.getDerivedStateFromProps,se=typeof ne=="function"||typeof I.getSnapshotBeforeUpdate=="function";se||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(P!==d||O!==G)&&s_(o,I,d,G),ei=!1;var te=o.memoizedState;I.state=te,bc(o,d,I,m),O=o.memoizedState,P!==d||te!==O||fn.current||ei?(typeof ne=="function"&&(Ff(o,u,ne,d),O=o.memoizedState),(P=ei||n_(o,u,P,d,te,O,G))?(se||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=O),I.props=d,I.state=O,I.context=G,d=P):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{I=o.stateNode,bv(s,o),P=o.memoizedProps,G=o.type===o.elementType?P:lr(o.type,P),I.props=G,se=o.pendingProps,te=I.context,O=u.contextType,typeof O=="object"&&O!==null?O=$n(O):(O=pn(u)?Zi:Qt.current,O=ia(o,O));var ce=u.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(P!==se||te!==O)&&s_(o,I,d,O),ei=!1,te=o.memoizedState,I.state=te,bc(o,d,I,m);var fe=o.memoizedState;P!==se||te!==fe||fn.current||ei?(typeof ce=="function"&&(Ff(o,u,ce,d),fe=o.memoizedState),(G=ei||n_(o,u,G,d,te,fe,O)||!1)?(ne||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(d,fe,O),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(d,fe,O)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||P===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=fe),I.props=d,I.state=fe,I.context=O,d=G):(typeof I.componentDidUpdate!="function"||P===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||P===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),d=!1)}return Hf(s,o,u,d,y,m)}function Hf(s,o,u,d,m,y){p_(s,o);var I=(o.flags&128)!==0;if(!d&&!I)return m&&wv(o,u,!1),Es(s,o,y);d=o.stateNode,QA.current=o;var P=I&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,s!==null&&I?(o.child=ua(o,s.child,null,y),o.child=ua(o,null,P,y)):sn(s,o,P,y),o.memoizedState=d.state,m&&wv(o,u,!0),o.child}function g_(s){var o=s.stateNode;o.pendingContext?vv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&vv(s,o.context,!1),Cf(s,o.containerInfo)}function y_(s,o,u,d,m){return la(),wf(m),o.flags|=256,sn(s,o,u,d),o.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function qf(s){return{baseLanes:s,cachePool:null,transitions:null}}function v_(s,o,u){var d=o.pendingProps,m=ct.current,y=!1,I=(o.flags&128)!==0,P;if((P=I)||(P=s!==null&&s.memoizedState===null?!1:(m&2)!==0),P?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Je(ct,m&1),s===null)return _f(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=d.children,s=d.fallback,y?(d=o.mode,y=o.child,I={mode:"hidden",children:I},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=I):y=Jc(I,d,0,null),s=uo(s,d,u,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=qf(u),o.memoizedState=Wf,s):Kf(o,I));if(m=s.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return YA(s,o,I,d,P,m,u);if(y){y=d.fallback,I=o.mode,m=s.child,P=m.sibling;var O={mode:"hidden",children:d.children};return(I&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=O,o.deletions=null):(d=ai(m,O),d.subtreeFlags=m.subtreeFlags&14680064),P!==null?y=ai(P,y):(y=uo(y,I,u,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,I=s.child.memoizedState,I=I===null?qf(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},y.memoizedState=I,y.childLanes=s.childLanes&~u,o.memoizedState=Wf,d}return y=s.child,s=y.sibling,d=ai(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=d,o.memoizedState=null,d}function Kf(s,o){return o=Jc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Fc(s,o,u,d){return d!==null&&wf(d),ua(o,s.child,null,u),s=Kf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function YA(s,o,u,d,m,y,I){if(u)return o.flags&256?(o.flags&=-257,d=Bf(Error(n(422))),Fc(s,o,I,d)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=d.fallback,m=o.mode,d=Jc({mode:"visible",children:d.children},m,0,null),y=uo(y,m,I,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&ua(o,s.child,null,I),o.child.memoizedState=qf(I),o.memoizedState=Wf,y);if((o.mode&1)===0)return Fc(s,o,I,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var P=d.dgst;return d=P,y=Error(n(419)),d=Bf(y,d,void 0),Fc(s,o,I,d)}if(P=(I&s.childLanes)!==0,mn||P){if(d=Lt,d!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|I))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,_s(s,m),hr(d,s,m,-1))}return up(),d=Bf(Error(n(421))),Fc(s,o,I,d)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=uC.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,bn=Ys(m.nextSibling),kn=o,ot=!0,ar=null,s!==null&&(Un[Bn++]=ys,Un[Bn++]=vs,Un[Bn++]=eo,ys=s.id,vs=s.overflow,eo=o),o=Kf(o,d.children),o.flags|=4096,o)}function __(s,o,u){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),Sf(s.return,o,u)}function Gf(s,o,u,d,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=u,y.tailMode=m)}function w_(s,o,u){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(sn(s,o,d.children,u),d=ct.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&__(s,u,o);else if(s.tag===19)__(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Je(ct,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&Nc(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Gf(o,!1,m,u,y);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Nc(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}Gf(o,!0,u,null,y);break;case"together":Gf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Uc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Es(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),io|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=ai(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=ai(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function XA(s,o,u){switch(o.tag){case 3:g_(o),la();break;case 5:Vv(o);break;case 1:pn(o.type)&&Tc(o);break;case 4:Cf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Je(Rc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Je(ct,ct.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?v_(s,o,u):(Je(ct,ct.current&1),s=Es(s,o,u),s!==null?s.sibling:null);Je(ct,ct.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(s.flags&128)!==0){if(d)return w_(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Je(ct,ct.current),d)break;return null;case 22:case 23:return o.lanes=0,f_(s,o,u)}return Es(s,o,u)}var E_,Qf,T_,I_;E_=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Qf=function(){},T_=function(s,o,u,d){var m=s.memoizedProps;if(m!==d){s=o.stateNode,ro(Fr.current);var y=null;switch(u){case"input":m=ns(s,m),d=ns(s,d),y=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),y=[];break;case"textarea":m=Os(s,m),d=Os(s,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=_c)}rr(u,d);var I;u=null;for(G in m)if(!d.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var P=m[G];for(I in P)P.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in d){var O=d[G];if(P=m?.[G],d.hasOwnProperty(G)&&O!==P&&(O!=null||P!=null))if(G==="style")if(P){for(I in P)!P.hasOwnProperty(I)||O&&O.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in O)O.hasOwnProperty(I)&&P[I]!==O[I]&&(u||(u={}),u[I]=O[I])}else u||(y||(y=[]),y.push(G,u)),u=O;else G==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,P=P?P.__html:void 0,O!=null&&P!==O&&(y=y||[]).push(G,O)):G==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(G,""+O):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(O!=null&&G==="onScroll"&&tt("scroll",s),y||P===O||(y=[])):(y=y||[]).push(G,O))}u&&(y=y||[]).push("style",u);var G=y;(o.updateQueue=G)&&(o.flags|=4)}},I_=function(s,o,u,d){u!==d&&(o.flags|=4)};function zl(s,o){if(!ot)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Xt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=u,o}function JA(s,o,u){var d=o.pendingProps;switch(yf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return pn(o.type)&&Ec(),Xt(o),null;case 3:return d=o.stateNode,da(),nt(fn),nt(Qt),kf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Ac(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ar!==null&&(op(ar),ar=null))),Qf(s,o),Xt(o),null;case 5:Rf(o);var m=ro(jl.current);if(u=o.type,s!==null&&o.stateNode!=null)T_(s,o,u,d,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Xt(o),null}if(s=ro(Fr.current),Ac(o)){d=o.stateNode,u=o.type;var y=o.memoizedProps;switch(d[jr]=o,d[Dl]=y,s=(o.mode&1)!==0,u){case"dialog":tt("cancel",d),tt("close",d);break;case"iframe":case"object":case"embed":tt("load",d);break;case"video":case"audio":for(m=0;m<kl.length;m++)tt(kl[m],d);break;case"source":tt("error",d);break;case"img":case"image":case"link":tt("error",d),tt("load",d);break;case"details":tt("toggle",d);break;case"input":er(d,y),tt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},tt("invalid",d);break;case"textarea":ji(d,y),tt("invalid",d)}rr(u,y),m=null;for(var I in y)if(y.hasOwnProperty(I)){var P=y[I];I==="children"?typeof P=="string"?d.textContent!==P&&(y.suppressHydrationWarning!==!0&&vc(d.textContent,P,s),m=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&vc(d.textContent,P,s),m=["children",""+P]):i.hasOwnProperty(I)&&P!=null&&I==="onScroll"&&tt("scroll",d)}switch(u){case"input":Ls(d),rs(d,y,!0);break;case"textarea":Ls(d),De(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=_c)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Qe(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=I.createElement(u,{is:d.is}):(s=I.createElement(u),u==="select"&&(I=s,d.multiple?I.multiple=!0:d.size&&(I.size=d.size))):s=I.createElementNS(s,u),s[jr]=o,s[Dl]=d,E_(s,o,!1,!1),o.stateNode=s;e:{switch(I=Mo(u,d),u){case"dialog":tt("cancel",s),tt("close",s),m=d;break;case"iframe":case"object":case"embed":tt("load",s),m=d;break;case"video":case"audio":for(m=0;m<kl.length;m++)tt(kl[m],s);m=d;break;case"source":tt("error",s),m=d;break;case"img":case"image":case"link":tt("error",s),tt("load",s),m=d;break;case"details":tt("toggle",s),m=d;break;case"input":er(s,d),m=ns(s,d),tt("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),tt("invalid",s);break;case"textarea":ji(s,d),m=Os(s,d),tt("invalid",s);break;default:m=d}rr(u,m),P=m;for(y in P)if(P.hasOwnProperty(y)){var O=P[y];y==="style"?dn(s,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ss(s,O)):y==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&cn(s,O):typeof O=="number"&&cn(s,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?O!=null&&y==="onScroll"&&tt("scroll",s):O!=null&&z(s,y,O,I))}switch(u){case"input":Ls(s),rs(s,d,!1);break;case"textarea":Ls(s),De(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Oe(d.value));break;case"select":s.multiple=!!d.multiple,y=d.value,y!=null?In(s,!!d.multiple,y,!1):d.defaultValue!=null&&In(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=_c)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Xt(o),null;case 6:if(s&&o.stateNode!=null)I_(s,o,s.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=ro(jl.current),ro(Fr.current),Ac(o)){if(d=o.stateNode,u=o.memoizedProps,d[jr]=o,(y=d.nodeValue!==u)&&(s=kn,s!==null))switch(s.tag){case 3:vc(d.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&vc(d.nodeValue,u,(s.mode&1)!==0)}y&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[jr]=o,o.stateNode=d}return Xt(o),null;case 13:if(nt(ct),d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&bn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Av(),la(),o.flags|=98560,y=!1;else if(y=Ac(o),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[jr]=o}else la(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),y=!1}else ar!==null&&(op(ar),ar=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ct.current&1)!==0?bt===0&&(bt=3):up())),o.updateQueue!==null&&(o.flags|=4),Xt(o),null);case 4:return da(),Qf(s,o),s===null&&bl(o.stateNode.containerInfo),Xt(o),null;case 10:return If(o.type._context),Xt(o),null;case 17:return pn(o.type)&&Ec(),Xt(o),null;case 19:if(nt(ct),y=o.memoizedState,y===null)return Xt(o),null;if(d=(o.flags&128)!==0,I=y.rendering,I===null)if(d)zl(y,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=Nc(s),I!==null){for(o.flags|=128,zl(y,!1),d=I.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)y=u,s=d,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,s=I.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Je(ct,ct.current&1|2),o.child}s=s.sibling}y.tail!==null&&et()>ga&&(o.flags|=128,d=!0,zl(y,!1),o.lanes=4194304)}else{if(!d)if(s=Nc(I),s!==null){if(o.flags|=128,d=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),zl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!I.alternate&&!ot)return Xt(o),null}else 2*et()-y.renderingStartTime>ga&&u!==1073741824&&(o.flags|=128,d=!0,zl(y,!1),o.lanes=4194304);y.isBackwards?(I.sibling=o.child,o.child=I):(u=y.last,u!==null?u.sibling=I:o.child=I,y.last=I)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=et(),o.sibling=null,u=ct.current,Je(ct,d?u&1|2:u&1),o):(Xt(o),null);case 22:case 23:return lp(),d=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Nn&1073741824)!==0&&(Xt(o),o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function ZA(s,o){switch(yf(o),o.tag){case 1:return pn(o.type)&&Ec(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return da(),nt(fn),nt(Qt),kf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Rf(o),null;case 13:if(nt(ct),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));la()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return nt(ct),null;case 4:return da(),null;case 10:return If(o.type._context),null;case 22:case 23:return lp(),null;case 24:return null;default:return null}}var Bc=!1,Jt=!1,eC=typeof WeakSet=="function"?WeakSet:Set,de=null;function pa(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){gt(s,o,d)}else u.current=null}function Yf(s,o,u){try{u()}catch(d){gt(s,o,d)}}var S_=!1;function tC(s,o){if(lf=ds,s=nv(),Zd(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var I=0,P=-1,O=-1,G=0,ne=0,se=s,te=null;t:for(;;){for(var ce;se!==u||m!==0&&se.nodeType!==3||(P=I+m),se!==y||d!==0&&se.nodeType!==3||(O=I+d),se.nodeType===3&&(I+=se.nodeValue.length),(ce=se.firstChild)!==null;)te=se,se=ce;for(;;){if(se===s)break t;if(te===u&&++G===m&&(P=I),te===y&&++ne===d&&(O=I),(ce=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=ce}u=P===-1||O===-1?null:{start:P,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(uf={focusedElem:s,selectionRange:u},ds=!1,de=o;de!==null;)if(o=de,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,de=s;else for(;de!==null;){o=de;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,wt=fe.memoizedState,H=o.stateNode,j=H.getSnapshotBeforeUpdate(o.elementType===o.type?pe:lr(o.type,pe),wt);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){gt(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,de=s;break}de=o.return}return fe=S_,S_=!1,fe}function Hl(s,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&Yf(o,u,y)}m=m.next}while(m!==d)}}function $c(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Xf(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function x_(s){var o=s.alternate;o!==null&&(s.alternate=null,x_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[jr],delete o[Dl],delete o[ff],delete o[OA],delete o[jA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function A_(s){return s.tag===5||s.tag===3||s.tag===4}function C_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||A_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jf(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=_c));else if(d!==4&&(s=s.child,s!==null))for(Jf(s,o,u),s=s.sibling;s!==null;)Jf(s,o,u),s=s.sibling}function Zf(s,o,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Zf(s,o,u),s=s.sibling;s!==null;)Zf(s,o,u),s=s.sibling}var $t=null,ur=!1;function ni(s,o,u){for(u=u.child;u!==null;)R_(s,o,u),u=u.sibling}function R_(s,o,u){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(zi,u)}catch{}switch(u.tag){case 5:Jt||pa(u,o);case 6:var d=$t,m=ur;$t=null,ni(s,o,u),$t=d,ur=m,$t!==null&&(ur?(s=$t,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):$t.removeChild(u.stateNode));break;case 18:$t!==null&&(ur?(s=$t,u=u.stateNode,s.nodeType===8?df(s.parentNode,u):s.nodeType===1&&df(s,u),qs(s)):df($t,u.stateNode));break;case 4:d=$t,m=ur,$t=u.stateNode.containerInfo,ur=!0,ni(s,o,u),$t=d,ur=m;break;case 0:case 11:case 14:case 15:if(!Jt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,I=y.destroy;y=y.tag,I!==void 0&&((y&2)!==0||(y&4)!==0)&&Yf(u,o,I),m=m.next}while(m!==d)}ni(s,o,u);break;case 1:if(!Jt&&(pa(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(P){gt(u,o,P)}ni(s,o,u);break;case 21:ni(s,o,u);break;case 22:u.mode&1?(Jt=(d=Jt)||u.memoizedState!==null,ni(s,o,u),Jt=d):ni(s,o,u);break;default:ni(s,o,u)}}function P_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new eC),o.forEach(function(d){var m=cC.bind(null,s,d);u.has(d)||(u.add(d),d.then(m,m))})}}function cr(s,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var y=s,I=o,P=I;e:for(;P!==null;){switch(P.tag){case 5:$t=P.stateNode,ur=!1;break e;case 3:$t=P.stateNode.containerInfo,ur=!0;break e;case 4:$t=P.stateNode.containerInfo,ur=!0;break e}P=P.return}if($t===null)throw Error(n(160));R_(y,I,m),$t=null,ur=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(G){gt(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)k_(o,s),o=o.sibling}function k_(s,o){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(cr(o,s),Br(s),d&4){try{Hl(3,s,s.return),$c(3,s)}catch(pe){gt(s,s.return,pe)}try{Hl(5,s,s.return)}catch(pe){gt(s,s.return,pe)}}break;case 1:cr(o,s),Br(s),d&512&&u!==null&&pa(u,u.return);break;case 5:if(cr(o,s),Br(s),d&512&&u!==null&&pa(u,u.return),s.flags&32){var m=s.stateNode;try{cn(m,"")}catch(pe){gt(s,s.return,pe)}}if(d&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,I=u!==null?u.memoizedProps:y,P=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&Ir(m,y),Mo(P,I);var G=Mo(P,y);for(I=0;I<O.length;I+=2){var ne=O[I],se=O[I+1];ne==="style"?dn(m,se):ne==="dangerouslySetInnerHTML"?ss(m,se):ne==="children"?cn(m,se):z(m,ne,se,G)}switch(P){case"input":tr(m,y);break;case"textarea":ke(m,y);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ce=y.value;ce!=null?In(m,!!y.multiple,ce,!1):te!==!!y.multiple&&(y.defaultValue!=null?In(m,!!y.multiple,y.defaultValue,!0):In(m,!!y.multiple,y.multiple?[]:"",!1))}m[Dl]=y}catch(pe){gt(s,s.return,pe)}}break;case 6:if(cr(o,s),Br(s),d&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(pe){gt(s,s.return,pe)}}break;case 3:if(cr(o,s),Br(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{qs(o.containerInfo)}catch(pe){gt(s,s.return,pe)}break;case 4:cr(o,s),Br(s);break;case 13:cr(o,s),Br(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(np=et())),d&4&&P_(s);break;case 22:if(ne=u!==null&&u.memoizedState!==null,s.mode&1?(Jt=(G=Jt)||ne,cr(o,s),Jt=G):cr(o,s),Br(s),d&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!ne&&(s.mode&1)!==0)for(de=s,ne=s.child;ne!==null;){for(se=de=ne;de!==null;){switch(te=de,ce=te.child,te.tag){case 0:case 11:case 14:case 15:Hl(4,te,te.return);break;case 1:pa(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){d=te,u=te.return;try{o=d,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){gt(d,u,pe)}}break;case 5:pa(te,te.return);break;case 22:if(te.memoizedState!==null){D_(se);continue}}ce!==null?(ce.return=te,de=ce):D_(se)}ne=ne.sibling}e:for(ne=null,se=s;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,G?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=se.stateNode,O=se.memoizedProps.style,I=O!=null&&O.hasOwnProperty("display")?O.display:null,P.style.display=hn("display",I))}catch(pe){gt(s,s.return,pe)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=G?"":se.memoizedProps}catch(pe){gt(s,s.return,pe)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:cr(o,s),Br(s),d&4&&P_(s);break;case 21:break;default:cr(o,s),Br(s)}}function Br(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(A_(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(cn(m,""),d.flags&=-33);var y=C_(s);Zf(s,y,m);break;case 3:case 4:var I=d.stateNode.containerInfo,P=C_(s);Jf(s,P,I);break;default:throw Error(n(161))}}catch(O){gt(s,s.return,O)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function nC(s,o,u){de=s,b_(s)}function b_(s,o,u){for(var d=(s.mode&1)!==0;de!==null;){var m=de,y=m.child;if(m.tag===22&&d){var I=m.memoizedState!==null||Bc;if(!I){var P=m.alternate,O=P!==null&&P.memoizedState!==null||Jt;P=Bc;var G=Jt;if(Bc=I,(Jt=O)&&!G)for(de=m;de!==null;)I=de,O=I.child,I.tag===22&&I.memoizedState!==null?V_(m):O!==null?(O.return=I,de=O):V_(m);for(;y!==null;)de=y,b_(y),y=y.sibling;de=m,Bc=P,Jt=G}N_(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,de=y):N_(s)}}function N_(s){for(;de!==null;){var o=de;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Jt||$c(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Jt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:lr(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Dv(o,y,d);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Dv(o,I,u)}break;case 5:var P=o.stateNode;if(u===null&&o.flags&4){u=P;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&qs(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Jt||o.flags&512&&Xf(o)}catch(te){gt(o,o.return,te)}}if(o===s){de=null;break}if(u=o.sibling,u!==null){u.return=o.return,de=u;break}de=o.return}}function D_(s){for(;de!==null;){var o=de;if(o===s){de=null;break}var u=o.sibling;if(u!==null){u.return=o.return,de=u;break}de=o.return}}function V_(s){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{$c(4,o)}catch(O){gt(o,u,O)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(O){gt(o,m,O)}}var y=o.return;try{Xf(o)}catch(O){gt(o,y,O)}break;case 5:var I=o.return;try{Xf(o)}catch(O){gt(o,I,O)}}}catch(O){gt(o,o.return,O)}if(o===s){de=null;break}var P=o.sibling;if(P!==null){P.return=o.return,de=P;break}de=o.return}}var rC=Math.ceil,zc=X.ReactCurrentDispatcher,ep=X.ReactCurrentOwner,Hn=X.ReactCurrentBatchConfig,Ue=0,Lt=null,It=null,zt=0,Nn=0,ma=Xs(0),bt=0,Wl=null,io=0,Hc=0,tp=0,ql=null,gn=null,np=0,ga=1/0,Ts=null,Wc=!1,rp=null,ri=null,qc=!1,si=null,Kc=0,Kl=0,sp=null,Gc=-1,Qc=0;function on(){return(Ue&6)!==0?et():Gc!==-1?Gc:Gc=et()}function ii(s){return(s.mode&1)===0?1:(Ue&2)!==0&&zt!==0?zt&-zt:UA.transition!==null?(Qc===0&&(Qc=pl()),Qc):(s=je,s!==0||(s=window.event,s=s===void 0?16:Wo(s.type)),s)}function hr(s,o,u,d){if(50<Kl)throw Kl=0,sp=null,Error(n(185));Ki(s,u,d),((Ue&2)===0||s!==Lt)&&(s===Lt&&((Ue&2)===0&&(Hc|=u),bt===4&&oi(s,zt)),yn(s,d),u===1&&Ue===0&&(o.mode&1)===0&&(ga=et()+500,Ic&&Zs()))}function yn(s,o){var u=s.callbackNode;qi(s,o);var d=us(s,s===Lt?zt:0);if(d===0)u!==null&&jo(u),s.callbackNode=null,s.callbackPriority=0;else if(o=d&-d,s.callbackPriority!==o){if(u!=null&&jo(u),o===1)s.tag===0?FA(L_.bind(null,s)):Ev(L_.bind(null,s)),MA(function(){(Ue&6)===0&&Zs()}),u=null;else{switch(Rr(d)){case 1:u=Fo;break;case 4:u=hl;break;case 16:u=$i;break;case 536870912:u=Uo;break;default:u=$i}u=H_(u,M_.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function M_(s,o){if(Gc=-1,Qc=0,(Ue&6)!==0)throw Error(n(327));var u=s.callbackNode;if(ya()&&s.callbackNode!==u)return null;var d=us(s,s===Lt?zt:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||o)o=Yc(s,d);else{o=d;var m=Ue;Ue|=2;var y=j_();(Lt!==s||zt!==o)&&(Ts=null,ga=et()+500,ao(s,o));do try{oC();break}catch(P){O_(s,P)}while(!0);Tf(),zc.current=y,Ue=m,It!==null?o=0:(Lt=null,zt=0,o=bt)}if(o!==0){if(o===2&&(m=fl(s),m!==0&&(d=m,o=ip(s,m))),o===1)throw u=Wl,ao(s,0),oi(s,d),yn(s,et()),u;if(o===6)oi(s,d);else{if(m=s.current.alternate,(d&30)===0&&!sC(m)&&(o=Yc(s,d),o===2&&(y=fl(s),y!==0&&(d=y,o=ip(s,y))),o===1))throw u=Wl,ao(s,0),oi(s,d),yn(s,et()),u;switch(s.finishedWork=m,s.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:lo(s,gn,Ts);break;case 3:if(oi(s,d),(d&130023424)===d&&(o=np+500-et(),10<o)){if(us(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){on(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=hf(lo.bind(null,s,gn,Ts),o);break}lo(s,gn,Ts);break;case 4:if(oi(s,d),(d&4194240)===d)break;for(o=s.eventTimes,m=-1;0<d;){var I=31-xn(d);y=1<<I,I=o[I],I>m&&(m=I),d&=~y}if(d=m,d=et()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*rC(d/1960))-d,10<d){s.timeoutHandle=hf(lo.bind(null,s,gn,Ts),d);break}lo(s,gn,Ts);break;case 5:lo(s,gn,Ts);break;default:throw Error(n(329))}}}return yn(s,et()),s.callbackNode===u?M_.bind(null,s):null}function ip(s,o){var u=ql;return s.current.memoizedState.isDehydrated&&(ao(s,o).flags|=256),s=Yc(s,o),s!==2&&(o=gn,gn=u,o!==null&&op(o)),s}function op(s){gn===null?gn=s:gn.push.apply(gn,s)}function sC(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],y=m.getSnapshot;m=m.value;try{if(!or(y(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function oi(s,o){for(o&=~tp,o&=~Hc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-xn(o),d=1<<u;s[u]=-1,o&=~d}}function L_(s){if((Ue&6)!==0)throw Error(n(327));ya();var o=us(s,0);if((o&1)===0)return yn(s,et()),null;var u=Yc(s,o);if(s.tag!==0&&u===2){var d=fl(s);d!==0&&(o=d,u=ip(s,d))}if(u===1)throw u=Wl,ao(s,0),oi(s,o),yn(s,et()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,lo(s,gn,Ts),yn(s,et()),null}function ap(s,o){var u=Ue;Ue|=1;try{return s(o)}finally{Ue=u,Ue===0&&(ga=et()+500,Ic&&Zs())}}function oo(s){si!==null&&si.tag===0&&(Ue&6)===0&&ya();var o=Ue;Ue|=1;var u=Hn.transition,d=je;try{if(Hn.transition=null,je=1,s)return s()}finally{je=d,Hn.transition=u,Ue=o,(Ue&6)===0&&Zs()}}function lp(){Nn=ma.current,nt(ma)}function ao(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,VA(u)),It!==null)for(u=It.return;u!==null;){var d=u;switch(yf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ec();break;case 3:da(),nt(fn),nt(Qt),kf();break;case 5:Rf(d);break;case 4:da();break;case 13:nt(ct);break;case 19:nt(ct);break;case 10:If(d.type._context);break;case 22:case 23:lp()}u=u.return}if(Lt=s,It=s=ai(s.current,null),zt=Nn=o,bt=0,Wl=null,tp=Hc=io=0,gn=ql=null,no!==null){for(o=0;o<no.length;o++)if(u=no[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,y=u.pending;if(y!==null){var I=y.next;y.next=m,d.next=I}u.pending=d}no=null}return s}function O_(s,o){do{var u=It;try{if(Tf(),Dc.current=Oc,Vc){for(var d=ht.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Vc=!1}if(so=0,Mt=kt=ht=null,Fl=!1,Ul=0,ep.current=null,u===null||u.return===null){bt=1,Wl=o,It=null;break}e:{var y=s,I=u.return,P=u,O=o;if(o=zt,P.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=O,ne=P,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=l_(I);if(ce!==null){ce.flags&=-257,u_(ce,I,P,y,o),ce.mode&1&&a_(y,G,o),o=ce,O=G;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(O),o.updateQueue=pe}else fe.add(O);break e}else{if((o&1)===0){a_(y,G,o),up();break e}O=Error(n(426))}}else if(ot&&P.mode&1){var wt=l_(I);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),u_(wt,I,P,y,o),wf(fa(O,P));break e}}y=O=fa(O,P),bt!==4&&(bt=2),ql===null?ql=[y]:ql.push(y),y=I;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var H=i_(y,O,o);Nv(y,H);break e;case 1:P=O;var j=y.type,K=y.stateNode;if((y.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ri===null||!ri.has(K)))){y.flags|=65536,o&=-o,y.lanes|=o;var ie=o_(y,P,o);Nv(y,ie);break e}}y=y.return}while(y!==null)}U_(u)}catch(me){o=me,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function j_(){var s=zc.current;return zc.current=Oc,s===null?Oc:s}function up(){(bt===0||bt===3||bt===2)&&(bt=4),Lt===null||(io&268435455)===0&&(Hc&268435455)===0||oi(Lt,zt)}function Yc(s,o){var u=Ue;Ue|=2;var d=j_();(Lt!==s||zt!==o)&&(Ts=null,ao(s,o));do try{iC();break}catch(m){O_(s,m)}while(!0);if(Tf(),Ue=u,zc.current=d,It!==null)throw Error(n(261));return Lt=null,zt=0,bt}function iC(){for(;It!==null;)F_(It)}function oC(){for(;It!==null&&!Bi();)F_(It)}function F_(s){var o=z_(s.alternate,s,Nn);s.memoizedProps=s.pendingProps,o===null?U_(s):It=o,ep.current=null}function U_(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=JA(u,o,Nn),u!==null){It=u;return}}else{if(u=ZA(u,o),u!==null){u.flags&=32767,It=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{bt=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=s}while(o!==null);bt===0&&(bt=5)}function lo(s,o,u){var d=je,m=Hn.transition;try{Hn.transition=null,je=1,aC(s,o,u,d)}finally{Hn.transition=m,je=d}return null}function aC(s,o,u,d){do ya();while(si!==null);if((Ue&6)!==0)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(Gd(s,y),s===Lt&&(It=Lt=null,zt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||qc||(qc=!0,H_($i,function(){return ya(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=Hn.transition,Hn.transition=null;var I=je;je=1;var P=Ue;Ue|=4,ep.current=null,tC(s,u),k_(u,s),CA(uf),ds=!!lf,uf=lf=null,s.current=u,nC(u),ls(),Ue=P,je=I,Hn.transition=y}else s.current=u;if(qc&&(qc=!1,si=s,Kc=m),y=s.pendingLanes,y===0&&(ri=null),rc(u.stateNode),yn(s,et()),o!==null)for(d=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(Wc)throw Wc=!1,s=rp,rp=null,s;return(Kc&1)!==0&&s.tag!==0&&ya(),y=s.pendingLanes,(y&1)!==0?s===sp?Kl++:(Kl=0,sp=s):Kl=0,Zs(),null}function ya(){if(si!==null){var s=Rr(Kc),o=Hn.transition,u=je;try{if(Hn.transition=null,je=16>s?16:s,si===null)var d=!1;else{if(s=si,si=null,Kc=0,(Ue&6)!==0)throw Error(n(331));var m=Ue;for(Ue|=4,de=s.current;de!==null;){var y=de,I=y.child;if((de.flags&16)!==0){var P=y.deletions;if(P!==null){for(var O=0;O<P.length;O++){var G=P[O];for(de=G;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:Hl(8,ne,y)}var se=ne.child;if(se!==null)se.return=ne,de=se;else for(;de!==null;){ne=de;var te=ne.sibling,ce=ne.return;if(x_(ne),ne===G){de=null;break}if(te!==null){te.return=ce,de=te;break}de=ce}}}var fe=y.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var wt=pe.sibling;pe.sibling=null,pe=wt}while(pe!==null)}}de=y}}if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,de=I;else e:for(;de!==null;){if(y=de,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Hl(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,de=H;break e}de=y.return}}var j=s.current;for(de=j;de!==null;){I=de;var K=I.child;if((I.subtreeFlags&2064)!==0&&K!==null)K.return=I,de=K;else e:for(I=j;de!==null;){if(P=de,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:$c(9,P)}}catch(me){gt(P,P.return,me)}if(P===I){de=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,de=ie;break e}de=P.return}}if(Ue=m,Zs(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(zi,s)}catch{}d=!0}return d}finally{je=u,Hn.transition=o}}return!1}function B_(s,o,u){o=fa(u,o),o=i_(s,o,1),s=ti(s,o,1),o=on(),s!==null&&(Ki(s,1,o),yn(s,o))}function gt(s,o,u){if(s.tag===3)B_(s,s,u);else for(;o!==null;){if(o.tag===3){B_(o,s,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ri===null||!ri.has(d))){s=fa(u,s),s=o_(o,s,1),o=ti(o,s,1),s=on(),o!==null&&(Ki(o,1,s),yn(o,s));break}}o=o.return}}function lC(s,o,u){var d=s.pingCache;d!==null&&d.delete(o),o=on(),s.pingedLanes|=s.suspendedLanes&u,Lt===s&&(zt&u)===u&&(bt===4||bt===3&&(zt&130023424)===zt&&500>et()-np?ao(s,0):tp|=u),yn(s,o)}function $_(s,o){o===0&&((s.mode&1)===0?o=1:(o=zs,zs<<=1,(zs&130023424)===0&&(zs=4194304)));var u=on();s=_s(s,o),s!==null&&(Ki(s,o,u),yn(s,u))}function uC(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),$_(s,u)}function cC(s,o){var u=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),$_(s,u)}var z_;z_=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||fn.current)mn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return mn=!1,XA(s,o,u);mn=(s.flags&131072)!==0}else mn=!1,ot&&(o.flags&1048576)!==0&&Tv(o,xc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Uc(s,o),s=o.pendingProps;var m=ia(o,Qt.current);ha(o,u),m=Df(null,o,d,s,m,u);var y=Vf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,pn(d)?(y=!0,Tc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Af(o),m.updater=jc,o.stateNode=m,m._reactInternals=o,Uf(o,d,s,u),o=Hf(null,o,d,!0,y,u)):(o.tag=0,ot&&y&&gf(o),sn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Uc(s,o),s=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=dC(d),s=lr(d,s),m){case 0:o=zf(null,o,d,s,u);break e;case 1:o=m_(null,o,d,s,u);break e;case 11:o=c_(null,o,d,s,u);break e;case 14:o=h_(null,o,d,lr(d.type,s),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:lr(d,m),zf(s,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:lr(d,m),m_(s,o,d,m,u);case 3:e:{if(g_(o),s===null)throw Error(n(387));d=o.pendingProps,y=o.memoizedState,m=y.element,bv(s,o),bc(o,d,null,u);var I=o.memoizedState;if(d=I.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=fa(Error(n(423)),o),o=y_(s,o,d,u,m);break e}else if(d!==m){m=fa(Error(n(424)),o),o=y_(s,o,d,u,m);break e}else for(bn=Ys(o.stateNode.containerInfo.firstChild),kn=o,ot=!0,ar=null,u=Pv(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(la(),d===m){o=Es(s,o,u);break e}sn(s,o,d,u)}o=o.child}return o;case 5:return Vv(o),s===null&&_f(o),d=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,I=m.children,cf(d,m)?I=null:y!==null&&cf(d,y)&&(o.flags|=32),p_(s,o),sn(s,o,I,u),o.child;case 6:return s===null&&_f(o),null;case 13:return v_(s,o,u);case 4:return Cf(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=ua(o,null,d,u):sn(s,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:lr(d,m),c_(s,o,d,m,u);case 7:return sn(s,o,o.pendingProps,u),o.child;case 8:return sn(s,o,o.pendingProps.children,u),o.child;case 12:return sn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,y=o.memoizedProps,I=m.value,Je(Rc,d._currentValue),d._currentValue=I,y!==null)if(or(y.value,I)){if(y.children===m.children&&!fn.current){o=Es(s,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var P=y.dependencies;if(P!==null){I=y.child;for(var O=P.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=ws(-1,u&-u),O.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?O.next=O:(O.next=ne.next,ne.next=O),G.pending=O}}y.lanes|=u,O=y.alternate,O!==null&&(O.lanes|=u),Sf(y.return,u,o),P.lanes|=u;break}O=O.next}}else if(y.tag===10)I=y.type===o.type?null:y.child;else if(y.tag===18){if(I=y.return,I===null)throw Error(n(341));I.lanes|=u,P=I.alternate,P!==null&&(P.lanes|=u),Sf(I,u,o),I=y.sibling}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===o){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}sn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,ha(o,u),m=$n(m),d=d(m),o.flags|=1,sn(s,o,d,u),o.child;case 14:return d=o.type,m=lr(d,o.pendingProps),m=lr(d.type,m),h_(s,o,d,m,u);case 15:return d_(s,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:lr(d,m),Uc(s,o),o.tag=1,pn(d)?(s=!0,Tc(o)):s=!1,ha(o,u),r_(o,d,m),Uf(o,d,m,u),Hf(null,o,d,!0,s,u);case 19:return w_(s,o,u);case 22:return f_(s,o,u)}throw Error(n(156,o.tag))};function H_(s,o){return cl(s,o)}function hC(s,o,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(s,o,u,d){return new hC(s,o,u,d)}function cp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function dC(s){if(typeof s=="function")return cp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===Ge)return 14}return 2}function ai(s,o){var u=s.alternate;return u===null?(u=Wn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Xc(s,o,u,d,m,y){var I=2;if(d=s,typeof s=="function")cp(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case R:return uo(u.children,m,y,o);case x:I=8,m|=8;break;case C:return s=Wn(12,u,o,m|2),s.elementType=C,s.lanes=y,s;case N:return s=Wn(13,u,o,m),s.elementType=N,s.lanes=y,s;case ze:return s=Wn(19,u,o,m),s.elementType=ze,s.lanes=y,s;case _e:return Jc(u,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:I=10;break e;case L:I=9;break e;case B:I=11;break e;case Ge:I=14;break e;case vt:I=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Wn(I,u,o,m),o.elementType=s,o.type=d,o.lanes=y,o}function uo(s,o,u,d){return s=Wn(7,s,d,o),s.lanes=u,s}function Jc(s,o,u,d){return s=Wn(22,s,d,o),s.elementType=_e,s.lanes=u,s.stateNode={isHidden:!1},s}function hp(s,o,u){return s=Wn(6,s,null,o),s.lanes=u,s}function dp(s,o,u){return o=Wn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function fC(s,o,u,d,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function fp(s,o,u,d,m,y,I,P,O){return s=new fC(s,o,u,P,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Wn(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Af(y),s}function pC(s,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:d==null?null:""+d,children:s,containerInfo:o,implementation:u}}function W_(s){if(!s)return Js;s=s._reactInternals;e:{if(sr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(pn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(pn(u))return _v(s,u,o)}return o}function q_(s,o,u,d,m,y,I,P,O){return s=fp(u,d,!0,s,m,y,I,P,O),s.context=W_(null),u=s.current,d=on(),m=ii(u),y=ws(d,m),y.callback=o??null,ti(u,y,m),s.current.lanes=m,Ki(s,m,d),yn(s,d),s}function Zc(s,o,u,d){var m=o.current,y=on(),I=ii(m);return u=W_(u),o.context===null?o.context=u:o.pendingContext=u,o=ws(y,I),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=ti(m,o,I),s!==null&&(hr(s,m,I,y),kc(s,m,I)),I}function eh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function K_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function pp(s,o){K_(s,o),(s=s.alternate)&&K_(s,o)}function mC(){return null}var G_=typeof reportError=="function"?reportError:function(s){console.error(s)};function mp(s){this._internalRoot=s}th.prototype.render=mp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Zc(s,o,null,null)},th.prototype.unmount=mp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;oo(function(){Zc(null,s,null,null)}),o[ms]=null}};function th(s){this._internalRoot=s}th.prototype.unstable_scheduleHydration=function(s){if(s){var o=_l();s={blockedOn:null,target:s,priority:o};for(var u=0;u<An.length&&o!==0&&o<An[u].priority;u++);An.splice(u,0,s),u===0&&zo(s)}};function gp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function nh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Q_(){}function gC(s,o,u,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var G=eh(I);y.call(G)}}var I=q_(o,d,s,0,null,!1,!1,"",Q_);return s._reactRootContainer=I,s[ms]=I.current,bl(s.nodeType===8?s.parentNode:s),oo(),I}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var P=d;d=function(){var G=eh(O);P.call(G)}}var O=fp(s,0,!1,null,null,!1,!1,"",Q_);return s._reactRootContainer=O,s[ms]=O.current,bl(s.nodeType===8?s.parentNode:s),oo(function(){Zc(o,O,u,d)}),O}function rh(s,o,u,d,m){var y=u._reactRootContainer;if(y){var I=y;if(typeof m=="function"){var P=m;m=function(){var O=eh(I);P.call(O)}}Zc(o,I,s,m)}else I=gC(u,o,s,m,d);return eh(I)}yl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=He(o.pendingLanes);u!==0&&(gl(o,u|1),yn(o,et()),(Ue&6)===0&&(ga=et()+500,Zs()))}break;case 13:oo(function(){var d=_s(s,1);if(d!==null){var m=on();hr(d,s,1,m)}}),pp(s,1)}},Bo=function(s){if(s.tag===13){var o=_s(s,134217728);if(o!==null){var u=on();hr(o,s,134217728,u)}pp(s,134217728)}},vl=function(s){if(s.tag===13){var o=ii(s),u=_s(s,o);if(u!==null){var d=on();hr(u,s,o,d)}pp(s,o)}},_l=function(){return je},wl=function(s,o){var u=je;try{return je=s,o()}finally{je=u}},is=function(s,o,u){switch(o){case"input":if(tr(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==s&&d.form===s.form){var m=wc(d);if(!m)throw Error(n(90));Er(d),tr(d,m)}}}break;case"textarea":ke(s,u);break;case"select":o=u.value,o!=null&&In(s,!!u.multiple,o,!1)}},Gu=ap,Qu=oo;var yC={usingClientEntryPoint:!1,Events:[Vl,ra,wc,Fs,Us,ap]},Gl={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vC={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=nc(s),s===null?null:s.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||mC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{zi=sh.inject(vC),Sn=sh}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yC,vn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gp(o))throw Error(n(200));return pC(s,o,null,u)},vn.createRoot=function(s,o){if(!gp(s))throw Error(n(299));var u=!1,d="",m=G_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=fp(s,1,!1,null,null,u,!1,d,m),s[ms]=o.current,bl(s.nodeType===8?s.parentNode:s),new mp(o)},vn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=nc(o),s=s===null?null:s.stateNode,s},vn.flushSync=function(s){return oo(s)},vn.hydrate=function(s,o,u){if(!nh(o))throw Error(n(200));return rh(null,s,o,!0,u)},vn.hydrateRoot=function(s,o,u){if(!gp(s))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,y="",I=G_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=q_(o,null,s,1,u??null,m,!1,y,I),s[ms]=o.current,bl(s),d)for(s=0;s<d.length;s++)u=d[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new th(o)},vn.render=function(s,o,u){if(!nh(o))throw Error(n(200));return rh(null,s,o,!1,u)},vn.unmountComponentAtNode=function(s){if(!nh(s))throw Error(n(40));return s._reactRootContainer?(oo(function(){rh(null,null,s,!1,function(){s._reactRootContainer=null,s[ms]=null})}),!0):!1},vn.unstable_batchedUpdates=ap,vn.unstable_renderSubtreeIntoContainer=function(s,o,u,d){if(!nh(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return rh(s,o,u,!1,d)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var r0;function AC(){if(r0)return _p.exports;r0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_p.exports=xC(),_p.exports}var s0;function CC(){if(s0)return ih;s0=1;var t=AC();return ih.createRoot=t.createRoot,ih.hydrateRoot=t.hydrateRoot,ih}var RC=CC(),b=Zm();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i0="popstate";function PC(t={}){function e(r,i){let{pathname:a,search:l,hash:h}=r.location;return rm("",{pathname:a,search:l,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pu(i)}return bC(e,n,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kC(){return Math.random().toString(36).substring(2,10)}function o0(t,e){return{usr:t.state,key:t.key,idx:e}}function rm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ka(e):e,state:n,key:e&&e.key||r||kC()}}function pu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ka(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function bC(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,h="POP",f=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){h="POP";let k=g(),$=k==null?null:k-p;p=k,f&&f({action:h,location:V.location,delta:$})}function w(k,$){h="PUSH";let F=rm(V.location,k,$);p=g()+1;let z=o0(F,p),X=V.createHref(F);try{l.pushState(z,"",X)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(X)}a&&f&&f({action:h,location:V.location,delta:1})}function A(k,$){h="REPLACE";let F=rm(V.location,k,$);p=g();let z=o0(F,p),X=V.createHref(F);l.replaceState(z,"",X),a&&f&&f({action:h,location:V.location,delta:0})}function D(k){return NC(k)}let V={get action(){return h},get location(){return t(i,l)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(i0,_),f=k,()=>{i.removeEventListener(i0,_),f=null}},createHref(k){return e(i,k)},createURL:D,encodeLocation(k){let $=D(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:A,go(k){return l.go(k)}};return V}function NC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:pu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function yT(t,e,n="/"){return DC(t,e,n,!1)}function DC(t,e,n,r){let i=typeof e=="string"?Ka(e):e,a=Cs(i.pathname||"/",n);if(a==null)return null;let l=vT(t);VC(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=WC(a);h=zC(l[f],p,r)}return h}function vT(t,e=[],n=[],r="",i=!1){let a=(l,h,f=i,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;lt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let _=As([r,g.relativePath]),w=n.concat(g);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),vT(l.children,e,w,_,f)),!(l.path==null&&!l.index)&&e.push({path:_,score:BC(_,l.index),routesMeta:w})};return t.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))a(l,h);else for(let f of _T(l.path))a(l,h,!0,f)}),e}function _T(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=_T(r.join("/")),h=[];return h.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&h.push(...l),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function VC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$C(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var MC=/^:[\w-]+$/,LC=3,OC=2,jC=1,FC=10,UC=-2,a0=t=>t==="*";function BC(t,e){let n=t.split("/"),r=n.length;return n.some(a0)&&(r+=UC),e&&(r+=OC),n.filter(i=>!a0(i)).reduce((i,a)=>i+(MC.test(a)?LC:a===""?jC:FC),r)}function $C(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zC(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Mh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),w=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Mh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:As([a,_.pathname]),pathnameBase:YC(As([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=As([a,_.pathnameBase]))}return l}function Mh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},w)=>{if(g==="*"){let D=h[w]||"";l=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const A=h[w];return _&&!A?p[g]=void 0:p[g]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function HC(t,e=!1,n=!0){Yn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function WC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var qC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KC=t=>qC.test(t);function GC(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ka(t):t,a;if(n)if(KC(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=l0(n.substring(1),"/"):a=l0(n,e)}else a=e;return{pathname:a,search:XC(r),hash:JC(i)}}function l0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eg(t){let e=QC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function tg(t,e,n,r=!1){let i;typeof t=="string"?i=Ka(t):(i={...t},lt(!i.pathname||!i.pathname.includes("?"),Tp("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),Tp("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),Tp("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}h=_>=0?e[_]:"/"}let f=GC(i,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var As=t=>t.join("/").replace(/\/\/+/g,"/"),YC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wT=["POST","PUT","PATCH","DELETE"];new Set(wT);var eR=["GET",...wT];new Set(eR);var Ga=b.createContext(null);Ga.displayName="DataRouter";var cd=b.createContext(null);cd.displayName="DataRouterState";b.createContext(!1);var ET=b.createContext({isTransitioning:!1});ET.displayName="ViewTransition";var tR=b.createContext(new Map);tR.displayName="Fetchers";var nR=b.createContext(null);nR.displayName="Await";var wr=b.createContext(null);wr.displayName="Navigation";var bu=b.createContext(null);bu.displayName="Location";var es=b.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var ng=b.createContext(null);ng.displayName="RouteError";function rR(t,{relative:e}={}){lt(Qa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(wr),{hash:i,pathname:a,search:l}=Nu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:As([n,a])),r.createHref({pathname:h,search:l,hash:i})}function Qa(){return b.useContext(bu)!=null}function Ms(){return lt(Qa(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(bu).location}var TT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IT(t){b.useContext(wr).static||b.useLayoutEffect(t)}function bi(){let{isDataRoute:t}=b.useContext(es);return t?gR():sR()}function sR(){lt(Qa(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Ga),{basename:e,navigator:n}=b.useContext(wr),{matches:r}=b.useContext(es),{pathname:i}=Ms(),a=JSON.stringify(eg(r)),l=b.useRef(!1);return IT(()=>{l.current=!0}),b.useCallback((f,p={})=>{if(Yn(l.current,TT),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=tg(f,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:As([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,i,t])}b.createContext(null);function Nu(t,{relative:e}={}){let{matches:n}=b.useContext(es),{pathname:r}=Ms(),i=JSON.stringify(eg(n));return b.useMemo(()=>tg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function iR(t,e){return ST(t,e)}function ST(t,e,n,r,i){lt(Qa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=b.useContext(wr),{matches:l}=b.useContext(es),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let F=_&&_.path||"";xT(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Ms(),A;if(e){let F=typeof e=="string"?Ka(e):e;lt(g==="/"||F.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),A=F}else A=w;let D=A.pathname||"/",V=D;if(g!=="/"){let F=g.replace(/^\//,"").split("/");V="/"+D.replace(/^\//,"").split("/").slice(F.length).join("/")}let k=yT(t,{pathname:V});Yn(_||k!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Yn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=cR(k&&k.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:As([g,a.encodeLocation?a.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:As([g,a.encodeLocation?a.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),l,n,r,i);return e&&$?b.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},$):$}function oR(){let t=mR(),e=ZC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,l)}var aR=b.createElement(oR,null),lR=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(es.Provider,{value:this.props.routeContext},b.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uR({routeContext:t,match:e,children:n}){let r=b.useContext(Ga);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(es.Provider,{value:t},n)}function cR(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let g=a.findIndex(_=>_.route.id&&l?.[_.route.id]!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,f=-1;if(n)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=g),_.route.id){let{loaderData:w,errors:A}=n,D=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||D){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let p=n&&r?(g,_)=>{r(g,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:_})}:void 0;return a.reduceRight((g,_,w)=>{let A,D=!1,V=null,k=null;n&&(A=l&&_.route.id?l[_.route.id]:void 0,V=_.route.errorElement||aR,h&&(f<0&&w===0?(xT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,k=null):f===w&&(D=!0,k=_.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,w+1)),F=()=>{let z;return A?z=V:D?z=k:_.route.Component?z=b.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=g,b.createElement(uR,{match:_,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:z})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?b.createElement(lR,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:F(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:p}):F()},null)}function rg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hR(t){let e=b.useContext(Ga);return lt(e,rg(t)),e}function dR(t){let e=b.useContext(cd);return lt(e,rg(t)),e}function fR(t){let e=b.useContext(es);return lt(e,rg(t)),e}function sg(t){let e=fR(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pR(){return sg("useRouteId")}function mR(){let t=b.useContext(ng),e=dR("useRouteError"),n=sg("useRouteError");return t!==void 0?t:e.errors?.[n]}function gR(){let{router:t}=hR("useNavigate"),e=sg("useNavigate"),n=b.useRef(!1);return IT(()=>{n.current=!0}),b.useCallback(async(i,a={})=>{Yn(n.current,TT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var u0={};function xT(t,e,n){!e&&!u0[t]&&(u0[t]=!0,Yn(!1,n))}b.memo(yR);function yR({routes:t,future:e,state:n,unstable_onError:r}){return ST(t,void 0,n,r,e)}function vR({to:t,replace:e,state:n,relative:r}){lt(Qa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(wr);Yn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=b.useContext(es),{pathname:l}=Ms(),h=bi(),f=tg(t,eg(a),l,r==="path"),p=JSON.stringify(f);return b.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function ho(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _R({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){lt(!Qa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Ka(n));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:w="default"}=n,A=b.useMemo(()=>{let D=Cs(f,l);return D==null?null:{location:{pathname:D,search:p,hash:g,state:_,key:w},navigationType:r}},[l,f,p,g,_,w,r]);return Yn(A!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:b.createElement(wr.Provider,{value:h},b.createElement(bu.Provider,{children:e,value:A}))}function wR({children:t,location:e}){return iR(sm(t),e)}function sm(t,e=[]){let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let a=[...e,i];if(r.type===b.Fragment){n.push.apply(n,sm(r.props.children,a));return}lt(r.type===ho,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=sm(r.props.children,a)),n.push(l)}),n}var _h="get",wh="application/x-www-form-urlencoded";function hd(t){return t!=null&&typeof t.tagName=="string"}function ER(t){return hd(t)&&t.tagName.toLowerCase()==="button"}function TR(t){return hd(t)&&t.tagName.toLowerCase()==="form"}function IR(t){return hd(t)&&t.tagName.toLowerCase()==="input"}function SR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xR(t,e){return t.button===0&&(!e||e==="_self")&&!SR(t)}var oh=null;function AR(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var CR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(t){return t!=null&&!CR.has(t)?(Yn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):t}function RR(t,e){let n,r,i,a,l;if(TR(t)){let h=t.getAttribute("action");r=h?Cs(h,e):null,n=t.getAttribute("method")||_h,i=Ip(t.getAttribute("enctype"))||wh,a=new FormData(t)}else if(ER(t)||IR(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?Cs(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||_h,i=Ip(t.getAttribute("formenctype"))||Ip(h.getAttribute("enctype"))||wh,a=new FormData(h,t),!AR()){let{name:p,type:g,value:_}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,_)}}else{if(hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,r=null,i=wh,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ig(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Cs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function kR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NR(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await kR(a,n);return l.links?l.links():[]}return[]}));return LR(r.flat(1).filter(bR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function c0(t,e,n,r,i,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function DR(t,e,{includeHydrateFallback:n}={}){return VR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function VR(t){return[...new Set(t)]}function MR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(MR(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function AT(){let t=b.useContext(Ga);return ig(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OR(){let t=b.useContext(cd);return ig(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var og=b.createContext(void 0);og.displayName="FrameworkContext";function CT(){let t=b.useContext(og);return ig(t,"You must render this element inside a <HydratedRouter> element"),t}function jR(t,e){let n=b.useContext(og),[r,i]=b.useState(!1),[a,l]=b.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,w=b.useRef(null);b.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let V=$=>{$.forEach(F=>{l(F.isIntersecting)})},k=new IntersectionObserver(V,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[t]),b.useEffect(()=>{if(r){let V=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(V)}}},[r]);let A=()=>{i(!0)},D=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:Yl(h,A),onBlur:Yl(f,D),onMouseEnter:Yl(p,A),onMouseLeave:Yl(g,D),onTouchStart:Yl(_,A)}]:[!1,w,{}]}function Yl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function FR({page:t,...e}){let{router:n}=AT(),r=b.useMemo(()=>yT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(BR,{page:t,matches:r,...e}):null}function UR(t){let{manifest:e,routeModules:n}=CT(),[r,i]=b.useState([]);return b.useEffect(()=>{let a=!1;return NR(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function BR({page:t,matches:e,...n}){let r=Ms(),{manifest:i,routeModules:a}=CT(),{basename:l}=AT(),{loaderData:h,matches:f}=OR(),p=b.useMemo(()=>c0(t,e,f,i,r,"data"),[t,e,f,i,r]),g=b.useMemo(()=>c0(t,e,f,i,r,"assets"),[t,e,f,i,r]),_=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,V=!1;if(e.forEach($=>{let F=i.routes[$.route.id];!F||!F.hasLoader||(!p.some(z=>z.route.id===$.route.id)&&$.route.id in h&&a[$.route.id]?.shouldRevalidate||F.hasClientLoader?V=!0:D.add($.route.id))}),D.size===0)return[];let k=PR(t,l,"data");return V&&D.size>0&&k.searchParams.set("_routes",e.filter($=>D.has($.route.id)).map($=>$.route.id).join(",")),[k.pathname+k.search]},[l,h,r,i,p,e,t,a]),w=b.useMemo(()=>DR(g,i),[g,i]),A=UR(g);return b.createElement(b.Fragment,null,_.map(D=>b.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),w.map(D=>b.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),A.map(({key:D,link:V})=>b.createElement("link",{key:D,nonce:n.nonce,...V})))}function $R(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RT&&(window.__reactRouterVersion="7.9.6")}catch{}function zR({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=PC({window:n,v5Compat:!0}));let i=r.current,[a,l]=b.useState({action:i.action,location:i.location}),h=b.useCallback(f=>{b.startTransition(()=>l(f))},[l]);return b.useLayoutEffect(()=>i.listen(h),[i,h]),b.createElement(_R,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kT=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:h,target:f,to:p,preventScrollReset:g,viewTransition:_,...w},A){let{basename:D}=b.useContext(wr),V=typeof p=="string"&&PT.test(p),k,$=!1;if(typeof p=="string"&&V&&(k=p,RT))try{let C=new URL(window.location.href),M=p.startsWith("//")?new URL(C.protocol+p):new URL(p),L=Cs(M.pathname,D);M.origin===C.origin&&L!=null?p=L+M.search+M.hash:$=!0}catch{Yn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=rR(p,{relative:i}),[z,X,q]=jR(r,w),J=KR(p,{replace:l,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:_});function R(C){e&&e(C),C.defaultPrevented||J(C)}let x=b.createElement("a",{...w,...q,href:k||F,onClick:$||a?e:R,ref:$R(A,X),target:f,"data-discover":!V&&n==="render"?"true":void 0});return z&&!V?b.createElement(b.Fragment,null,x,b.createElement(FR,{page:F})):x});kT.displayName="Link";var HR=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:h,children:f,...p},g){let _=Nu(l,{relative:p.relative}),w=Ms(),A=b.useContext(cd),{navigator:D,basename:V}=b.useContext(wr),k=A!=null&&JR(_)&&h===!0,$=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,F=w.pathname,z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(F=F.toLowerCase(),z=z?z.toLowerCase():null,$=$.toLowerCase()),z&&V&&(z=Cs(z,V)||z);const X=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let q=F===$||!i&&F.startsWith($)&&F.charAt(X)==="/",J=z!=null&&(z===$||!i&&z.startsWith($)&&z.charAt($.length)==="/"),R={isActive:q,isPending:J,isTransitioning:k},x=q?e:void 0,C;typeof r=="function"?C=r(R):C=[r,q?"active":null,J?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(R):a;return b.createElement(kT,{...p,"aria-current":x,className:C,ref:g,style:M,to:l,viewTransition:h},typeof f=="function"?f(R):f)});HR.displayName="NavLink";var WR=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=_h,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...w},A)=>{let D=YR(),V=XR(h,{relative:p}),k=l.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&PT.test(h),F=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let X=z.nativeEvent.submitter,q=X?.getAttribute("formmethod")||l;D(X||z.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return b.createElement("form",{ref:A,method:k,action:V,onSubmit:r?f:F,...w,"data-discover":!$&&t==="render"?"true":void 0})});WR.displayName="Form";function qR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(t){let e=b.useContext(Ga);return lt(e,qR(t)),e}function KR(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let h=bi(),f=Ms(),p=Nu(t,{relative:a});return b.useCallback(g=>{if(xR(g,e)){g.preventDefault();let _=n!==void 0?n:pu(f)===pu(p);h(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,h,p,n,r,e,t,i,a,l])}var GR=0,QR=()=>`__${String(++GR)}__`;function YR(){let{router:t}=bT("useSubmit"),{basename:e}=b.useContext(wr),n=pR();return b.useCallback(async(r,i={})=>{let{action:a,method:l,encType:h,formData:f,body:p}=RR(r,e);if(i.navigate===!1){let g=i.fetcherKey||QR();await t.fetch(g,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||l,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function XR(t,{relative:e}={}){let{basename:n}=b.useContext(wr),r=b.useContext(es);lt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Nu(t||".",{relative:e})},l=Ms();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:As([n,a.pathname])),pu(a)}function JR(t,{relative:e}={}){let n=b.useContext(ET);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bT("useViewTransitionState"),i=Nu(t,{relative:e});if(!n.isTransitioning)return!1;let a=Cs(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Cs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mh(i.pathname,l)!=null||Mh(i.pathname,a)!=null}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),h0=t=>{const e=eP(t);return e.charAt(0).toUpperCase()+e.slice(1)},NT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...h},f)=>b.createElement("svg",{ref:f,...tP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:NT("lucide",i),...h},[...l.map(([p,g])=>b.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const n=b.forwardRef(({className:r,...i},a)=>b.createElement(nP,{ref:a,iconNode:e,className:NT(`lucide-${ZR(h0(t))}`,`lucide-${t}`,r),...i}));return n.displayName=h0(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ra=st("arrow-left",rP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Du=st("award",sP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ta=st("camera",iP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],d0=st("check",oP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],DT=st("chevron-right",aP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uP=st("circle-check-big",lP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hP=st("circle-help",cP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fP=st("circle-x",dP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],mP=st("gift",pP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],yP=st("history",gP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],_P=st("house",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],EP=st("info",wP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],IP=st("lightbulb",TP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],VT=st("lock",SP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],AP=st("log-out",xP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],RP=st("mail",CP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kP=st("map-pin",PP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Sp=st("pencil",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],MT=st("recycle",NP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],VP=st("rotate-ccw",DP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],LP=st("save",MP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jP=st("shield",OP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],xp=st("sparkles",FP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BP=st("user",UP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],LT=st("x",$P);function zP({onComplete:t}){const[e,n]=b.useState(0),r=[{icon:T.jsx(MT,{className:"w-24 h-24 text-[#34A853]"}),title:"Welcome to TelBin",description:"Your smart trash classification assistant that helps you sort waste correctly and protect our environment.",mascot:!0},{icon:T.jsx(Ta,{className:"w-24 h-24 text-[#34A853]"}),title:"Scan & Classify",description:"Simply take a photo of any waste item. Our AI will identify whether it's plastic, paper, glass, metal, or biodegradable waste.",categories:["Plastic","Paper","Glass","Metal","Organic","Cardboard"]},{icon:T.jsx(Du,{className:"w-24 h-24 text-[#34A853]"}),title:"Earn Rewards",description:"Get points for every correct classification and unlock amazing eco-friendly rewards!",rewards:!0}],i=()=>{e<r.length-1?n(e+1):t()},a=r[e];return T.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 pb-8",children:[T.jsx("div",{className:"flex items-center justify-center mb-8",children:a.icon}),a.mascot&&T.jsx("div",{className:"mb-6 text-6xl",children:""}),T.jsx("h1",{className:"text-center text-[#34A853] mb-4",children:a.title}),T.jsx("p",{className:"text-center text-gray-600 mb-8 max-w-sm",children:a.description}),a.categories&&T.jsx("div",{className:"grid grid-cols-3 gap-3 mb-8 max-w-sm w-full",children:a.categories.map(l=>T.jsx("div",{className:"bg-green-50 rounded-2xl p-4 text-center border-2 border-green-100",children:T.jsx("div",{className:"text-green-600",children:l})},l))}),a.rewards&&T.jsxs("div",{className:"flex gap-4 mb-8",children:[T.jsx("div",{className:"text-4xl",children:""}),T.jsx("div",{className:"text-4xl",children:""}),T.jsx("div",{className:"text-4xl",children:""})]})]}),T.jsxs("div",{className:"px-8 pb-8",children:[T.jsx("div",{className:"flex justify-center gap-2 mb-6",children:r.map((l,h)=>T.jsx("div",{className:`h-2 rounded-full transition-all ${h===e?"w-8 bg-[#34A853]":"w-2 bg-gray-200"}`},h))}),T.jsxs("button",{onClick:i,className:"w-full bg-[#34A853] text-white rounded-full py-4 flex items-center justify-center gap-2 hover:bg-green-600 transition-colors",children:[e===r.length-1?"Get Started":"Next",T.jsx(DT,{className:"w-5 h-5"})]}),e>0&&T.jsx("button",{onClick:t,className:"w-full text-gray-500 py-3 mt-2",children:"Skip"})]})]})}const HP=()=>{};var f0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},jT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let w=(h&15)<<2|p>>6,A=p&63;f||(A=64,l||(w=64)),r.push(n[g],n[_],n[w],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||p==null||_==null)throw new qP;const w=a<<2|h>>4;if(r.push(w),p!==64){const A=h<<4&240|p>>2;if(r.push(A),_!==64){const D=p<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KP=function(t){const e=OT(t);return jT.encodeByteArray(e,!0)},Lh=function(t){return KP(t).replace(/\./g,"")},FT=function(t){try{return jT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=()=>GP().__FIREBASE_DEFAULTS__,YP=()=>{if(typeof process>"u"||typeof f0>"u")return;const t=f0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FT(t[1]);return e&&JSON.parse(e)},dd=()=>{try{return HP()||QP()||YP()||XP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UT=t=>dd()?.emulatorHosts?.[t],BT=t=>{const e=UT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$T=()=>dd()?.config,zT=t=>dd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ag(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Lh(JSON.stringify(n)),Lh(JSON.stringify(l)),""].join(".")}const su={};function ZP(){const t={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?t.emulator.push(e):t.prod.push(e);return t}function ek(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let p0=!1;function lg(t,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||su[t]===e||su[t]||p0)return;su[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=ZP().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{p0=!0,l()},w}function g(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=ek(r),A=n("text"),D=document.getElementById(A)||document.createElement("span"),V=n("learnmore"),k=document.getElementById(V)||document.createElement("a"),$=n("preprendIcon"),F=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const z=w.element;h(z),g(k,V);const X=p();f(F,$),z.append(F,D,k,X),document.body.appendChild(z)}a?(D.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function nk(){const t=dd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ik(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ok(){return!nk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qT(){try{return typeof indexedDB=="object"}catch{return!1}}function KT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function ak(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="FirebaseError";class Zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lk,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Po.prototype.create)}}class Po{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?uk(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new Zn(i,h,r)}}function uk(t,e){return t.replace(ck,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ck=/\{\$([^}]+)}/g;function hk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(m0(a)&&m0(l)){if(!Rs(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function m0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Zl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dk(t,e){const n=new fk(t,e);return n.subscribe.bind(n)}class fk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ap),i.error===void 0&&(i.error=Ap),i.complete===void 0&&(i.complete=Ap);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ap(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=1e3,gk=2,yk=14400*1e3,vk=.5;function g0(t,e=mk,n=gk){const r=e*Math.pow(n,t),i=Math.round(vk*r*(Math.random()-.5)*2);return Math.min(yk,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Xn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ek(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wk(t){return t===fo?void 0:t}function Ek(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _k(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const Ik={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Sk=Ve.INFO,xk={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Ak=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fd{constructor(e){this.name=e,this._logLevel=Sk,this._logHandler=Ak,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ik[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Ck=(t,e)=>e.some(n=>t instanceof n);let y0,v0;function Rk(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pk(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GT=new WeakMap,im=new WeakMap,QT=new WeakMap,Cp=new WeakMap,ug=new WeakMap;function kk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(mi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&GT.set(n,t)}).catch(()=>{}),ug.set(e,t),e}function bk(t){if(im.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});im.set(t,e)}let om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return im.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nk(t){om=t(om)}function Dk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rp(this),e,...n);return QT.set(r,e.sort?e.sort():[e]),mi(r)}:Pk().includes(t)?function(...e){return t.apply(Rp(this),e),mi(GT.get(this))}:function(...e){return mi(t.apply(Rp(this),e))}}function Vk(t){return typeof t=="function"?Dk(t):(t instanceof IDBTransaction&&bk(t),Ck(t,Rk())?new Proxy(t,om):t)}function mi(t){if(t instanceof IDBRequest)return kk(t);if(Cp.has(t))return Cp.get(t);const e=Vk(t);return e!==t&&(Cp.set(t,e),ug.set(e,t)),e}const Rp=t=>ug.get(t);function YT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=mi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(mi(l.result),f.oldVersion,f.newVersion,mi(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Mk=["get","getKey","getAll","getAllKeys","count"],Lk=["put","add","delete","clear"],Pp=new Map;function _0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pp.get(e))return Pp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Lk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Mk.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),i&&f.done]))[0]};return Pp.set(e,a),a}Nk(t=>({...t,get:(e,n,r)=>_0(e,n)||t.get(e,n,r),has:(e,n)=>!!_0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jk(t){return t.getComponent()?.type==="VERSION"}const am="@firebase/app",w0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new fd("@firebase/app"),Fk="@firebase/app-compat",Uk="@firebase/analytics-compat",Bk="@firebase/analytics",$k="@firebase/app-check-compat",zk="@firebase/app-check",Hk="@firebase/auth",Wk="@firebase/auth-compat",qk="@firebase/database",Kk="@firebase/data-connect",Gk="@firebase/database-compat",Qk="@firebase/functions",Yk="@firebase/functions-compat",Xk="@firebase/installations",Jk="@firebase/installations-compat",Zk="@firebase/messaging",eb="@firebase/messaging-compat",tb="@firebase/performance",nb="@firebase/performance-compat",rb="@firebase/remote-config",sb="@firebase/remote-config-compat",ib="@firebase/storage",ob="@firebase/storage-compat",ab="@firebase/firestore",lb="@firebase/ai",ub="@firebase/firestore-compat",cb="firebase",hb="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",db={[am]:"fire-core",[Fk]:"fire-core-compat",[Bk]:"fire-analytics",[Uk]:"fire-analytics-compat",[zk]:"fire-app-check",[$k]:"fire-app-check-compat",[Hk]:"fire-auth",[Wk]:"fire-auth-compat",[qk]:"fire-rtdb",[Kk]:"fire-data-connect",[Gk]:"fire-rtdb-compat",[Qk]:"fire-fn",[Yk]:"fire-fn-compat",[Xk]:"fire-iid",[Jk]:"fire-iid-compat",[Zk]:"fire-fcm",[eb]:"fire-fcm-compat",[tb]:"fire-perf",[nb]:"fire-perf-compat",[rb]:"fire-rc",[sb]:"fire-rc-compat",[ib]:"fire-gcs",[ob]:"fire-gcs-compat",[ab]:"fire-fst",[ub]:"fire-fst-compat",[lb]:"fire-vertex","fire-js":"fire-js",[cb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,fb=new Map,um=new Map;function E0(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vr(t){const e=t.name;if(um.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,t);for(const n of Oh.values())E0(n,t);for(const n of fb.values())E0(n,t);return!0}function Ni(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Po("app","Firebase",pb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=hb;function XT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:lm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(n||(n=$T()),!n)throw gi.create("no-options");const a=Oh.get(i);if(a){if(Rs(n,a.options)&&Rs(r,a.config))return a;throw gi.create("duplicate-app",{appName:i})}const l=new Tk(i);for(const f of um.values())l.addComponent(f);const h=new mb(n,r,l);return Oh.set(i,h),h}function pd(t=lm){const e=Oh.get(t);if(!e&&t===lm&&$T())return XT();if(!e)throw gi.create("no-app",{appName:t});return e}function Tn(t,e,n){let r=db[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(l.join(" "));return}vr(new Xn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="firebase-heartbeat-database",yb=1,mu="firebase-heartbeat-store";let kp=null;function JT(){return kp||(kp=YT(gb,yb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),kp}async function vb(t){try{const n=(await JT()).transaction(mu),r=await n.objectStore(mu).get(ZT(t));return await n.done,r}catch(e){if(e instanceof Zn)Ps.warn(e.message);else{const n=gi.create("idb-get",{originalErrorMessage:e?.message});Ps.warn(n.message)}}}async function T0(t,e){try{const r=(await JT()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,ZT(t)),await r.done}catch(n){if(n instanceof Zn)Ps.warn(n.message);else{const r=gi.create("idb-set",{originalErrorMessage:n?.message});Ps.warn(r.message)}}}function ZT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=1024,wb=30;class Eb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ib(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>wb){const i=Sb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ps.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=I0(),{heartbeatsToSend:n,unsentEntries:r}=Tb(this._heartbeatsCache.heartbeats),i=Lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ps.warn(e),""}}}function I0(){return new Date().toISOString().substring(0,10)}function Tb(t,e=_b){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),S0(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),S0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ib{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qT()?KT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return T0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return T0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S0(t){return Lh(JSON.stringify({version:2,heartbeats:t})).length}function Sb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){vr(new Xn("platform-logger",e=>new Ok(e),"PRIVATE")),vr(new Xn("heartbeat",e=>new Eb(e),"PRIVATE")),Tn(am,w0,t),Tn(am,w0,"esm2020"),Tn("fire-js","")}xb("");function eI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ab=eI,tI=new Po("auth","Firebase",eI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new fd("@firebase/auth");function Cb(t,...e){jh.logLevel<=Ve.WARN&&jh.warn(`Auth (${ko}): ${t}`,...e)}function Eh(t,...e){jh.logLevel<=Ve.ERROR&&jh.error(`Auth (${ko}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw hg(t,...e)}function gr(t,...e){return hg(t,...e)}function cg(t,e,n){const r={...Ab(),[e]:n};return new Po("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return cg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rb(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jn(t,"argument-error"),cg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tI.create(t,...e)}function we(t,e,...n){if(!t)throw hg(e,...n)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function ks(t,e){t||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return typeof self<"u"&&self.location?.href||""}function Pb(){return x0()==="http:"||x0()==="https:"}function x0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pb()||WT()||"connection"in navigator)?navigator.onLine:!0}function bb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=tk()||sk()}get(){return kb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vb=new Mu(3e4,6e4);function bo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Di(t,e,n,r,i={}){return rI(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Vu({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return rk()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ro(t.emulatorConfig.host)&&(p.credentials="include"),nI.fetch()(await sI(t,t.config.apiHost,n,h),p)})}async function rI(t,e,n){t._canInitEmulator=!1;const r={...Nb,...e};try{const i=new Lb(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw ah(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw ah(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw ah(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw cg(t,g,p);Jn(t,g)}}catch(i){if(i instanceof Zn)throw i;Jn(t,"network-request-failed",{message:String(i)})}}async function md(t,e,n,r,i={}){const a=await Di(t,e,n,r,i);return"mfaPendingCredential"in a&&Jn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function sI(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?dg(t.config,i):`${t.config.apiScheme}://${i}`;return Db.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Mb(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),Vb.get())})}}function ah(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}function A0(t){return t!==void 0&&t.enterprise!==void 0}class Ob{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Mb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jb(t,e){return Di(t,"GET","/v2/recaptchaConfig",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function Fh(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ub(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=fg(r);we(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:iu(bp(i.auth_time)),issuedAtTime:iu(bp(i.iat)),expirationTime:iu(bp(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function bp(t){return Number(t)*1e3}function fg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const i=FT(n);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function C0(t){const e=fg(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zn&&Bb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Bb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(t){const e=t.auth,n=await t.getIdToken(),r=await gu(t,Fh(e,{idToken:n}));we(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?iI(i.providerUserInfo):[],l=Hb(t.providerData,a),h=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,p=h?f:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new hm(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function zb(t){const e=ft(t);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hb(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e){const n=await rI(t,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await sI(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&Ro(t.emulatorConfig.host)&&(f.credentials="include"),nI.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qb(t,e){return Di(t,"POST","/v2/accounts:revokeToken",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=C0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Wb(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Pa;return r&&(we(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(we(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $b(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ub(this,e)}reload(){return zb(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await gu(this,Fb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:A,providerData:D,stsTokenManager:V}=n;we(_&&V,e,"internal-error");const k=Pa.fromJSON(this.name,V);we(typeof _=="string",e,"internal-error"),ui(r,e.name),ui(i,e.name),we(typeof w=="boolean",e,"internal-error"),we(typeof A=="boolean",e,"internal-error"),ui(a,e.name),ui(l,e.name),ui(h,e.name),ui(f,e.name),ui(p,e.name),ui(g,e.name);const $=new pr({uid:_,auth:e,email:i,emailVerified:w,displayName:r,isAnonymous:A,photoURL:l,phoneNumber:a,tenantId:h,stsTokenManager:k,createdAt:p,lastLoginAt:g});return D&&Array.isArray(D)&&($.providerData=D.map(F=>({...F}))),f&&($._redirectEventId=f),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pa;i.updateFromServerResponse(n);const a=new pr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Uh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];we(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?iI(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,h=new Pa;h.updateFromIdToken(r);const f=new pr({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new hm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;function xs(t){ks(t instanceof Function,"Expected a class definition");let e=R0.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oI.type="NONE";const P0=oI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t,e,n){return`firebase:${t}:${e}:${n}`}class ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Th(this.userKey,i.apiKey,a),this.fullPersistenceKey=Th("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fh(this.auth,{idToken:e}).catch(()=>{});return n?pr._fromGetAccountInfoResponse(this.auth,n,e):null}return pr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ka(xs(P0),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||xs(P0);const l=Th(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){let _;if(typeof g=="string"){const w=await Fh(e,{idToken:g}).catch(()=>{});if(!w)break;_=await pr._fromGetAccountInfoResponse(e,w,g)}else _=pr._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ka(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ka(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dI(e))return"Blackberry";if(fI(e))return"Webos";if(lI(e))return"Safari";if((e.includes("chrome/")||uI(e))&&!e.includes("edge/"))return"Chrome";if(hI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aI(t=rn()){return/firefox\//i.test(t)}function lI(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uI(t=rn()){return/crios\//i.test(t)}function cI(t=rn()){return/iemobile/i.test(t)}function hI(t=rn()){return/android/i.test(t)}function dI(t=rn()){return/blackberry/i.test(t)}function fI(t=rn()){return/webos/i.test(t)}function pg(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Kb(t=rn()){return pg(t)&&!!window.navigator?.standalone}function Gb(){return ik()&&document.documentMode===10}function pI(t=rn()){return pg(t)||hI(t)||fI(t)||dI(t)||/windows phone/i.test(t)||cI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e=[]){let n;switch(t){case"Browser":n=k0(rn());break;case"Worker":n=`${k0(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(t,e={}){return Di(t,"GET","/v2/passwordPolicy",bo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=6;class Jb{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Xb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new Qb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fh(this,{idToken:e}),r=await pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(yi(this));const n=e?ft(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yb(this),n=new Jb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Po("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xs(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Cb(`Error while retrieving App Check token: ${e.error}`),e?.token}}function No(t){return ft(t)}class b0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dk(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eN(t){gd=t}function gI(t){return gd.loadJS(t)}function tN(){return gd.recaptchaEnterpriseScript}function nN(){return gd.gapiScript}function rN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class sN{constructor(){this.enterprise=new iN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const oN="recaptcha-enterprise",yI="NO_RECAPTCHA";class aN{constructor(e){this.type=oN,this.auth=No(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{jb(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Ob(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{h(f)})})}function i(a,l,h){const f=window.grecaptcha;A0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(yI)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&A0(window.grecaptcha))i(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=tN();f.length!==0&&(f+=h),gI(f).then(()=>{i(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function N0(t,e,n,r=!1,i=!1){const a=new aN(t);let l;if(i)l=yI;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function D0(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await N0(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await N0(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e){const n=Ni(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Rs(a,e??{}))return i;Jn(i,"already-initialized")}return n.initialize({options:e})}function uN(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function cN(t,e,n){const r=No(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=vI(e),{host:l,port:h}=hN(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Rs(p,r.config.emulator)&&Rs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ro(l)?(ag(`${a}//${l}${f}`),lg("Auth",!0)):dN()}function vI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hN(t){const e=vI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:V0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:V0(l)}}}function V0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function fN(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e){return md(t,"POST","/v1/accounts:signInWithPassword",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,e){return md(t,"POST","/v1/accounts:signInWithEmailLink",bo(t,e))}async function gN(t,e){return md(t,"POST","/v1/accounts:signInWithEmailLink",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends mg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D0(e,n,"signInWithPassword",pN);case"emailLink":return mN(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D0(e,r,"signUpPassword",fN);case"emailLink":return gN(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t,e){return md(t,"POST","/v1/accounts:signInWithIdp",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="http://localhost";class To extends mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new To(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new To(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ba(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ba(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ba(e,n)}buildRequest(){const e={requestUri:yN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _N(t){const e=Jl(Zl(t)).link,n=e?Jl(Zl(e)).deep_link_id:null,r=Jl(Zl(t)).deep_link_id;return(r?Jl(Zl(r)).link:null)||r||n||e||t}class gg{constructor(e){const n=Jl(Zl(e)),r=n.apiKey??null,i=n.oobCode??null,a=vN(n.mode??null);we(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_N(e);try{return new gg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.providerId=Ya.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gg.parseLink(n);return we(r,"argument-error"),yu._fromEmailAndCode(e,r.code,r.tenantId)}}Ya.PROVIDER_ID="password";Ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Lu{constructor(){super("facebook.com")}static credential(e){return To._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return To._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Is.credential(n,r)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Lu{constructor(){super("github.com")}static credential(e){return To._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Lu{constructor(){super("twitter.com")}static credential(e,n){return To._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await pr._fromIdTokenResponse(e,r,i),l=M0(r);return new Oa({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=M0(r);return new Oa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function M0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends Zn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bh(e,n,r,i)}}function _I(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Bh._fromErrorAndOperation(t,a,e,r):a})}async function wN(t,e,n=!1){const r=await gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e,n=!1){const{auth:r}=t;if(Dn(r.app))return Promise.reject(yi(r));const i="reauthenticate";try{const a=await gu(t,_I(r,i,e,t),n);we(a.idToken,r,"internal-error");const l=fg(a.idToken);we(l,r,"internal-error");const{sub:h}=l;return we(t.uid===h,r,"user-mismatch"),Oa._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Jn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(t,e,n=!1){if(Dn(t.app))return Promise.reject(yi(t));const r="signIn",i=await _I(t,r,e),a=await Oa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function TN(t,e){return wI(No(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t){const e=No(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function SN(t,e,n){return Dn(t.app)?Promise.reject(yi(t)):TN(ft(t),Ya.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e){return ft(t).setPersistence(e)}function AN(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function CN(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function RN(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function PN(t){return ft(t).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=1e3,bN=10;class TI extends EI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Gb()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TI.type="LOCAL";const NN=TI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II extends EI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}II.type="SESSION";const vg=II;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new yd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async p=>p(n.origin,a)),f=await DN(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=_g("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(w.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function MN(t){zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function LN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ON(){return navigator?.serviceWorker?.controller||null}function jN(){return SI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firebaseLocalStorageDb",FN=1,zh="firebaseLocalStorage",AI="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vd(t,e){return t.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function UN(){const t=indexedDB.deleteDatabase(xI);return new Ou(t).toPromise()}function dm(){const t=indexedDB.open(xI,FN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zh,{keyPath:AI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zh)?e(r):(r.close(),await UN(),e(await dm()))})})}async function L0(t,e,n){const r=vd(t,!0).put({[AI]:e,value:n});return new Ou(r).toPromise()}async function BN(t,e){const n=vd(t,!1).get(e),r=await new Ou(n).toPromise();return r===void 0?null:r.value}function O0(t,e){const n=vd(t,!0).delete(e);return new Ou(n).toPromise()}const $N=800,zN=3;class CI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(jN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LN(),!this.activeServiceWorker)return;this.sender=new VN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ON()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await L0(e,$h,"1"),await O0(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>L0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=vd(i,!1).getAll();return new Ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CI.type="LOCAL";const HN=CI;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){return e?xs(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WN(t){return wI(t.auth,new wg(t),t.bypassAuthState)}function qN(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),EN(n,new wg(t),t.bypassAuthState)}async function KN(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),wN(n,new wg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WN;case"linkViaPopup":case"linkViaRedirect":return KN;case"reauthViaPopup":case"reauthViaRedirect":return qN;default:Jn(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Mu(2e3,1e4);async function QN(t,e,n){if(Dn(t.app))return Promise.reject(gr(t,"operation-not-supported-in-this-environment"));const r=No(t);Rb(t,e,yg);const i=RI(r,n);return new mo(r,"signInViaPopup",e,i).executeNotNull()}class mo extends PI{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GN.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="pendingRedirect",Ih=new Map;class XN extends PI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const r=await JN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JN(t,e){const n=t2(e),r=e2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ZN(t,e){Ih.set(t._key(),e)}function e2(t){return xs(t._redirectPersistence)}function t2(t){return Th(YN,t.config.apiKey,t.name)}async function n2(t,e,n=!1){if(Dn(t.app))return Promise.reject(yi(t));const r=No(t),i=RI(r,e),l=await new XN(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=600*1e3;class s2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!kI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(gr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r2&&this.cachedEventUids.clear(),this.cachedEventUids.has(j0(e))}saveEventToCache(e){this.cachedEventUids.add(j0(e)),this.lastProcessedEventTime=Date.now()}}function j0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function i2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l2=/^https?/;async function u2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o2(t);for(const n of e)try{if(c2(n))return}catch{}Jn(t,"unauthorized-domain")}function c2(t){const e=cm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!l2.test(n))return!1;if(a2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Mu(3e4,6e4);function F0(){const t=zr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d2(t){return new Promise((e,n)=>{function r(){F0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F0(),n(gr(t,"network-request-failed"))},timeout:h2.get()})}if(zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zr().gapi?.load)r();else{const i=rN("iframefcb");return zr()[i]=()=>{gapi.load?r():n(gr(t,"network-request-failed"))},gI(`${nN()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function f2(t){return Sh=Sh||d2(t),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Mu(5e3,15e3),m2="__/auth/iframe",g2="emulator/auth/iframe",y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _2(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dg(e,g2):`https://${t.config.authDomain}/${m2}`,r={apiKey:e.apiKey,appName:t.name,v:ko},i=v2.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Vu(r).slice(1)}`}async function w2(t){const e=await f2(t),n=zr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:_2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y2,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=gr(t,"network-request-failed"),h=zr().setTimeout(()=>{a(l)},p2.get());function f(){zr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T2=500,I2=600,S2="_blank",x2="http://localhost";class U0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A2(t,e,n,r=T2,i=I2){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...E2,width:r.toString(),height:i.toString(),top:a,left:l},p=rn().toLowerCase();n&&(h=uI(p)?S2:n),aI(p)&&(e=e||x2,f.scrollbars="yes");const g=Object.entries(f).reduce((w,[A,D])=>`${w}${A}=${D},`,"");if(Kb(p)&&h!=="_self")return C2(e||"",h),new U0(null);const _=window.open(e||"",h,g);we(_,t,"popup-blocked");try{_.focus()}catch{}return new U0(_)}function C2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="__/auth/handler",P2="emulator/auth/handler",k2=encodeURIComponent("fac");async function B0(t,e,n,r,i,a){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ko,eventId:i};if(e instanceof yg){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",hk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Lu){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),p=f?`#${k2}=${encodeURIComponent(f)}`:"";return`${b2(t)}?${Vu(h).slice(1)}${p}`}function b2({config:t}){return t.emulator?dg(t,P2):`https://${t.authDomain}/${R2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="webStorageSupport";class N2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vg,this._completeRedirectFn=n2,this._overrideRedirectResult=ZN}async _openPopup(e,n,r,i){ks(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await B0(e,n,r,cm(),i);return A2(e,a,_g())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await B0(e,n,r,cm(),i);return MN(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ks(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w2(e),r=new s2(e);return n.register("authEvent",i=>(we(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Np,{type:Np},i=>{const a=i?.[0]?.[Np];a!==void 0&&n(!!a),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pI()||lI()||pg()}}const D2=N2;var $0="@firebase/auth",z0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L2(t){vr(new Xn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;we(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mI(t)},p=new Zb(r,i,a,f);return uN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vr(new Xn("auth-internal",e=>{const n=No(e.getProvider("auth").getImmediate());return(r=>new V2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn($0,z0,M2(t)),Tn($0,z0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=300,j2=zT("authIdTokenMaxAge")||O2;let H0=null;const F2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j2)return;const i=n?.token;H0!==i&&(H0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bI(t=pd()){const e=Ni(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lN(t,{popupRedirectResolver:D2,persistence:[HN,NN,vg]}),r=zT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=F2(a.toString());CN(n,l,()=>l(n.currentUser)),AN(n,h=>l(h))}}const i=UT("auth");return i&&cN(n,`http://${i}`),n}function U2(){return document.getElementsByTagName("head")?.[0]??document}eN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=gr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",U2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L2("Browser");var B2="firebase",$2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn(B2,$2,"app");const NI="@firebase/installations",Eg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=1e4,VI=`w:${Eg}`,MI="FIS_v2",z2="https://firebaseinstallations.googleapis.com/v1",H2=3600*1e3,W2="installations",q2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Io=new Po(W2,q2,K2);function LI(t){return t instanceof Zn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI({projectId:t}){return`${z2}/projects/${t}/installations`}function jI(t){return{token:t.token,requestStatus:2,expiresIn:Q2(t.expiresIn),creationTime:Date.now()}}async function FI(t,e){const r=(await e.json()).error;return Io.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function UI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function G2(t,{refreshToken:e}){const n=UI(t);return n.append("Authorization",Y2(e)),n}async function BI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Q2(t){return Number(t.replace("s","000"))}function Y2(t){return`${MI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=OI(t),i=UI(t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:n,authVersion:MI,appId:t.appId,sdkVersion:VI},h={method:"POST",headers:i,body:JSON.stringify(l)},f=await BI(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:jI(p.authToken)}}else throw await FI("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/^[cdef][\w-]{21}$/,fm="";function eD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=tD(t);return Z2.test(n)?n:fm}catch{return fm}}function tD(t){return J2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Map;function HI(t,e){const n=_d(t);WI(n,e),nD(n,e)}function WI(t,e){const n=zI.get(t);if(n)for(const r of n)r(e)}function nD(t,e){const n=rD();n&&n.postMessage({key:t,fid:e}),sD()}let go=null;function rD(){return!go&&"BroadcastChannel"in self&&(go=new BroadcastChannel("[Firebase] FID Change"),go.onmessage=t=>{WI(t.data.key,t.data.fid)}),go}function sD(){zI.size===0&&go&&(go.close(),go=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="firebase-installations-database",oD=1,So="firebase-installations-store";let Dp=null;function Tg(){return Dp||(Dp=YT(iD,oD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(So)}}})),Dp}async function Hh(t,e){const n=_d(t),i=(await Tg()).transaction(So,"readwrite"),a=i.objectStore(So),l=await a.get(n);return await a.put(e,n),await i.done,(!l||l.fid!==e.fid)&&HI(t,e.fid),e}async function qI(t){const e=_d(t),r=(await Tg()).transaction(So,"readwrite");await r.objectStore(So).delete(e),await r.done}async function wd(t,e){const n=_d(t),i=(await Tg()).transaction(So,"readwrite"),a=i.objectStore(So),l=await a.get(n),h=e(l);return h===void 0?await a.delete(n):await a.put(h,n),await i.done,h&&(!l||l.fid!==h.fid)&&HI(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(t){let e;const n=await wd(t.appConfig,r=>{const i=aD(r),a=lD(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===fm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aD(t){const e=t||{fid:eD(),registrationStatus:0};return KI(e)}function lD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Io.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=uD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cD(t)}:{installationEntry:e}}async function uD(t,e){try{const n=await X2(t,e);return Hh(t.appConfig,n)}catch(n){throw LI(n)&&n.customData.serverCode===409?await qI(t.appConfig):await Hh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function cD(t){let e=await W0(t.appConfig);for(;e.registrationStatus===1;)await $I(100),e=await W0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ig(t);return r||n}return e}function W0(t){return wd(t,e=>{if(!e)throw Io.create("installation-not-found");return KI(e)})}function KI(t){return hD(t)?{fid:t.fid,registrationStatus:0}:t}function hD(t){return t.registrationStatus===1&&t.registrationTime+DI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD({appConfig:t,heartbeatServiceProvider:e},n){const r=fD(t,n),i=G2(t,n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:VI,appId:t.appId}},h={method:"POST",headers:i,body:JSON.stringify(l)},f=await BI(()=>fetch(r,h));if(f.ok){const p=await f.json();return jI(p)}else throw await FI("Generate Auth Token",f)}function fD(t,{fid:e}){return`${OI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sg(t,e=!1){let n;const r=await wd(t.appConfig,a=>{if(!GI(a))throw Io.create("not-registered");const l=a.authToken;if(!e&&gD(l))return a;if(l.requestStatus===1)return n=pD(t,e),a;{if(!navigator.onLine)throw Io.create("app-offline");const h=vD(a);return n=mD(t,h),h}});return n?await n:r.authToken}async function pD(t,e){let n=await q0(t.appConfig);for(;n.authToken.requestStatus===1;)await $I(100),n=await q0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Sg(t,e):r}function q0(t){return wd(t,e=>{if(!GI(e))throw Io.create("not-registered");const n=e.authToken;return _D(n)?{...e,authToken:{requestStatus:0}}:e})}async function mD(t,e){try{const n=await dD(t,e),r={...e,authToken:n};return await Hh(t.appConfig,r),n}catch(n){if(LI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await qI(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Hh(t.appConfig,r)}throw n}}function GI(t){return t!==void 0&&t.registrationStatus===2}function gD(t){return t.requestStatus===2&&!yD(t)}function yD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+H2}function vD(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function _D(t){return t.requestStatus===1&&t.requestTime+DI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ig(e);return r?r.catch(console.error):Sg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e=!1){const n=t;return await TD(n),(await Sg(n,e)).token}async function TD(t){const{registrationPromise:e}=await Ig(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){if(!t||!t.options)throw Vp("App Configuration");if(!t.name)throw Vp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vp(t){return Io.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="installations",SD="installations-internal",xD=t=>{const e=t.getProvider("app").getImmediate(),n=ID(e),r=Ni(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},AD=t=>{const e=t.getProvider("app").getImmediate(),n=Ni(e,QI).getImmediate();return{getId:()=>wD(n),getToken:i=>ED(n,i)}};function CD(){vr(new Xn(QI,xD,"PUBLIC")),vr(new Xn(SD,AD,"PRIVATE"))}CD();Tn(NI,Eg);Tn(NI,Eg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="analytics",RD="firebase_id",PD="origin",kD=60*1e3,bD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new fd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Po("analytics","Analytics",ND);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t){if(!t.startsWith(xg)){const e=Mn.create("invalid-gtag-resource",{gtagURL:t});return ln.warn(e.message),""}return t}function YI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function VD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function MD(t,e){const n=VD("firebase-js-sdk-policy",{createScriptURL:DD}),r=document.createElement("script"),i=`${xg}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function LD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function OD(t,e,n,r,i,a){const l=r[i];try{if(l)await e[l];else{const f=(await YI(n)).find(p=>p.measurementId===i);f&&await e[f.appId]}}catch(h){ln.error(h)}t("config",i,a)}async function jD(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const h=await YI(n);for(const f of l){const p=h.find(_=>_.measurementId===f),g=p&&e[p.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){ln.error(a)}}function FD(t,e,n,r){async function i(a,...l){try{if(a==="event"){const[h,f]=l;await jD(t,e,n,h,f)}else if(a==="config"){const[h,f]=l;await OD(t,e,n,r,h,f)}else if(a==="consent"){const[h,f]=l;t("consent",h,f)}else if(a==="get"){const[h,f,p]=l;t("get",h,f,p)}else if(a==="set"){const[h]=l;t("set",h)}else t(a,...l)}catch(h){ln.error(h)}}return i}function UD(t,e,n,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=FD(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function BD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(xg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=30,zD=1e3;class HD{constructor(e={},n=zD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const XI=new HD;function WD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function qD(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:WD(n)},i=bD.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let l="";try{const h=await a.json();h.error?.message&&(l=h.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function KD(t,e=XI,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Mn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Mn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new YD;return setTimeout(async()=>{h.abort()},kD),JI({appId:r,apiKey:i,measurementId:a},l,h,e)}async function JI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=XI){const{appId:a,measurementId:l}=t;try{await GD(r,e)}catch(h){if(l)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw h}try{const h=await qD(t);return i.deleteThrottleMetadata(a),h}catch(h){const f=h;if(!QD(f)){if(i.deleteThrottleMetadata(a),l)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:a,measurementId:l};throw h}const p=Number(f?.customData?.httpStatus)===503?g0(n,i.intervalMillis,$D):g0(n,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(a,g),ln.debug(`Calling attemptFetch again in ${p} millis`),JI(t,g,r,i)}}function GD(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QD(t){if(!(t instanceof Zn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class YD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function XD(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function JD(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(){if(qT())try{await KT()}catch(t){return ln.warn(Mn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ln.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function eV(t,e,n,r,i,a,l){const h=KD(t);h.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>ln.error(w)),e.push(h);const f=ZD().then(w=>{if(w)return r.getId()}),[p,g]=await Promise.all([h,f]);BD(a)||MD(a,p.measurementId),i("js",new Date);const _=l?.config??{};return _[PD]="firebase",_.update=!0,g!=null&&(_[RD]=g),i("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.app=e}_delete(){return delete Na[this.app.options.appId],Promise.resolve()}}let Na={},K0=[];const G0={};let Mp="dataLayer",nV="gtag",Q0,Ag,Y0=!1;function rV(){const t=[];if(WT()&&t.push("This is a browser extension environment."),ak()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function sV(t,e,n){rV();const r=t.options.appId;if(!r)throw Mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(Na[r]!=null)throw Mn.create("already-exists",{id:r});if(!Y0){LD(Mp);const{wrappedGtag:a,gtagCore:l}=UD(Na,K0,G0,Mp,nV);Ag=a,Q0=l,Y0=!0}return Na[r]=eV(t,K0,G0,e,Q0,Mp,n),new tV(t)}function iV(t=pd()){t=ft(t);const e=Ni(t,Wh);return e.isInitialized()?e.getImmediate():oV(t)}function oV(t,e={}){const n=Ni(t,Wh);if(n.isInitialized()){const i=n.getImmediate();if(Rs(e,n.getOptions()))return i;throw Mn.create("already-initialized")}return n.initialize({options:e})}function aV(t,e,n){t=ft(t),JD(Ag,Na[t.app.options.appId],e,n).catch(r=>ln.error(r))}function lV(t,e,n,r){t=ft(t),XD(Ag,Na[t.app.options.appId],e,n,r).catch(i=>ln.error(i))}const X0="@firebase/analytics",J0="0.10.19";function uV(){vr(new Xn(Wh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return sV(r,i,n)},"PUBLIC")),vr(new Xn("analytics-internal",t,"PRIVATE")),Tn(X0,J0),Tn(X0,J0,"esm2020");function t(e){try{const n=e.getProvider(Wh).getImmediate();return{logEvent:(r,i,a)=>lV(n,r,i,a),setUserProperties:(r,i)=>aV(n,r,i)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}uV();var Z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,ZI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(M,L,B){for(var N=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)N[ze-2]=arguments[ze];return x.prototype[L].apply(M,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,x,C){C||(C=0);const M=Array(16);if(typeof x=="string")for(var L=0;L<16;++L)M[L]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(L=0;L<16;++L)M[L]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],L=R.g[2];let B=R.g[3],N;N=x+(B^C&(L^B))+M[0]+3614090360&4294967295,x=C+(N<<7&4294967295|N>>>25),N=B+(L^x&(C^L))+M[1]+3905402710&4294967295,B=x+(N<<12&4294967295|N>>>20),N=L+(C^B&(x^C))+M[2]+606105819&4294967295,L=B+(N<<17&4294967295|N>>>15),N=C+(x^L&(B^x))+M[3]+3250441966&4294967295,C=L+(N<<22&4294967295|N>>>10),N=x+(B^C&(L^B))+M[4]+4118548399&4294967295,x=C+(N<<7&4294967295|N>>>25),N=B+(L^x&(C^L))+M[5]+1200080426&4294967295,B=x+(N<<12&4294967295|N>>>20),N=L+(C^B&(x^C))+M[6]+2821735955&4294967295,L=B+(N<<17&4294967295|N>>>15),N=C+(x^L&(B^x))+M[7]+4249261313&4294967295,C=L+(N<<22&4294967295|N>>>10),N=x+(B^C&(L^B))+M[8]+1770035416&4294967295,x=C+(N<<7&4294967295|N>>>25),N=B+(L^x&(C^L))+M[9]+2336552879&4294967295,B=x+(N<<12&4294967295|N>>>20),N=L+(C^B&(x^C))+M[10]+4294925233&4294967295,L=B+(N<<17&4294967295|N>>>15),N=C+(x^L&(B^x))+M[11]+2304563134&4294967295,C=L+(N<<22&4294967295|N>>>10),N=x+(B^C&(L^B))+M[12]+1804603682&4294967295,x=C+(N<<7&4294967295|N>>>25),N=B+(L^x&(C^L))+M[13]+4254626195&4294967295,B=x+(N<<12&4294967295|N>>>20),N=L+(C^B&(x^C))+M[14]+2792965006&4294967295,L=B+(N<<17&4294967295|N>>>15),N=C+(x^L&(B^x))+M[15]+1236535329&4294967295,C=L+(N<<22&4294967295|N>>>10),N=x+(L^B&(C^L))+M[1]+4129170786&4294967295,x=C+(N<<5&4294967295|N>>>27),N=B+(C^L&(x^C))+M[6]+3225465664&4294967295,B=x+(N<<9&4294967295|N>>>23),N=L+(x^C&(B^x))+M[11]+643717713&4294967295,L=B+(N<<14&4294967295|N>>>18),N=C+(B^x&(L^B))+M[0]+3921069994&4294967295,C=L+(N<<20&4294967295|N>>>12),N=x+(L^B&(C^L))+M[5]+3593408605&4294967295,x=C+(N<<5&4294967295|N>>>27),N=B+(C^L&(x^C))+M[10]+38016083&4294967295,B=x+(N<<9&4294967295|N>>>23),N=L+(x^C&(B^x))+M[15]+3634488961&4294967295,L=B+(N<<14&4294967295|N>>>18),N=C+(B^x&(L^B))+M[4]+3889429448&4294967295,C=L+(N<<20&4294967295|N>>>12),N=x+(L^B&(C^L))+M[9]+568446438&4294967295,x=C+(N<<5&4294967295|N>>>27),N=B+(C^L&(x^C))+M[14]+3275163606&4294967295,B=x+(N<<9&4294967295|N>>>23),N=L+(x^C&(B^x))+M[3]+4107603335&4294967295,L=B+(N<<14&4294967295|N>>>18),N=C+(B^x&(L^B))+M[8]+1163531501&4294967295,C=L+(N<<20&4294967295|N>>>12),N=x+(L^B&(C^L))+M[13]+2850285829&4294967295,x=C+(N<<5&4294967295|N>>>27),N=B+(C^L&(x^C))+M[2]+4243563512&4294967295,B=x+(N<<9&4294967295|N>>>23),N=L+(x^C&(B^x))+M[7]+1735328473&4294967295,L=B+(N<<14&4294967295|N>>>18),N=C+(B^x&(L^B))+M[12]+2368359562&4294967295,C=L+(N<<20&4294967295|N>>>12),N=x+(C^L^B)+M[5]+4294588738&4294967295,x=C+(N<<4&4294967295|N>>>28),N=B+(x^C^L)+M[8]+2272392833&4294967295,B=x+(N<<11&4294967295|N>>>21),N=L+(B^x^C)+M[11]+1839030562&4294967295,L=B+(N<<16&4294967295|N>>>16),N=C+(L^B^x)+M[14]+4259657740&4294967295,C=L+(N<<23&4294967295|N>>>9),N=x+(C^L^B)+M[1]+2763975236&4294967295,x=C+(N<<4&4294967295|N>>>28),N=B+(x^C^L)+M[4]+1272893353&4294967295,B=x+(N<<11&4294967295|N>>>21),N=L+(B^x^C)+M[7]+4139469664&4294967295,L=B+(N<<16&4294967295|N>>>16),N=C+(L^B^x)+M[10]+3200236656&4294967295,C=L+(N<<23&4294967295|N>>>9),N=x+(C^L^B)+M[13]+681279174&4294967295,x=C+(N<<4&4294967295|N>>>28),N=B+(x^C^L)+M[0]+3936430074&4294967295,B=x+(N<<11&4294967295|N>>>21),N=L+(B^x^C)+M[3]+3572445317&4294967295,L=B+(N<<16&4294967295|N>>>16),N=C+(L^B^x)+M[6]+76029189&4294967295,C=L+(N<<23&4294967295|N>>>9),N=x+(C^L^B)+M[9]+3654602809&4294967295,x=C+(N<<4&4294967295|N>>>28),N=B+(x^C^L)+M[12]+3873151461&4294967295,B=x+(N<<11&4294967295|N>>>21),N=L+(B^x^C)+M[15]+530742520&4294967295,L=B+(N<<16&4294967295|N>>>16),N=C+(L^B^x)+M[2]+3299628645&4294967295,C=L+(N<<23&4294967295|N>>>9),N=x+(L^(C|~B))+M[0]+4096336452&4294967295,x=C+(N<<6&4294967295|N>>>26),N=B+(C^(x|~L))+M[7]+1126891415&4294967295,B=x+(N<<10&4294967295|N>>>22),N=L+(x^(B|~C))+M[14]+2878612391&4294967295,L=B+(N<<15&4294967295|N>>>17),N=C+(B^(L|~x))+M[5]+4237533241&4294967295,C=L+(N<<21&4294967295|N>>>11),N=x+(L^(C|~B))+M[12]+1700485571&4294967295,x=C+(N<<6&4294967295|N>>>26),N=B+(C^(x|~L))+M[3]+2399980690&4294967295,B=x+(N<<10&4294967295|N>>>22),N=L+(x^(B|~C))+M[10]+4293915773&4294967295,L=B+(N<<15&4294967295|N>>>17),N=C+(B^(L|~x))+M[1]+2240044497&4294967295,C=L+(N<<21&4294967295|N>>>11),N=x+(L^(C|~B))+M[8]+1873313359&4294967295,x=C+(N<<6&4294967295|N>>>26),N=B+(C^(x|~L))+M[15]+4264355552&4294967295,B=x+(N<<10&4294967295|N>>>22),N=L+(x^(B|~C))+M[6]+2734768916&4294967295,L=B+(N<<15&4294967295|N>>>17),N=C+(B^(L|~x))+M[13]+1309151649&4294967295,C=L+(N<<21&4294967295|N>>>11),N=x+(L^(C|~B))+M[4]+4149444226&4294967295,x=C+(N<<6&4294967295|N>>>26),N=B+(C^(x|~L))+M[11]+3174756917&4294967295,B=x+(N<<10&4294967295|N>>>22),N=L+(x^(B|~C))+M[2]+718787259&4294967295,L=B+(N<<15&4294967295|N>>>17),N=C+(B^(L|~x))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+B&4294967295}r.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,M=this.C;let L=this.h,B=0;for(;B<x;){if(L==0)for(;B<=C;)i(this,R,B),B+=this.blockSize;if(typeof R=="string"){for(;B<x;)if(M[L++]=R.charCodeAt(B++),L==this.blockSize){i(this,M),L=0;break}}else for(;B<x;)if(M[L++]=R[B++],L==this.blockSize){i(this,M),L=0;break}}this.h=L,this.o+=x},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)R[x++]=this.g[C]>>>M&255;return R};function a(R,x){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function l(R,x){this.h=x;const C=[];let M=!0;for(let L=R.length-1;L>=0;L--){const B=R[L]|0;M&&B==x||(C[L]=B,M=!1)}this.g=C}var h={};function f(R){return-128<=R&&R<128?a(R,function(x){return new l([x|0],x<0?-1:0)}):new l([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return k(p(-R));const x=[];let C=1;for(let M=0;R>=C;M++)x[M]=R/C|0,C*=4294967296;return new l(x,0)}function g(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return k(g(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(x,8));let M=_;for(let B=0;B<R.length;B+=8){var L=Math.min(8,R.length-B);const N=parseInt(R.substring(B,B+L),x);L<8?(L=p(Math.pow(x,L)),M=M.j(L).add(p(N))):(M=M.j(C),M=M.add(p(N)))}return M}var _=f(0),w=f(1),A=f(16777216);t=l.prototype,t.m=function(){if(V(this))return-k(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);R+=(M>=0?M:4294967296+M)*x,x*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(V(this))return"-"+k(this).toString(R);const x=p(Math.pow(R,6));var C=this;let M="";for(;;){const L=X(C,x).g;C=$(C,L.j(x));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=L,D(C))return B+M;for(;B.length<6;)B="0"+B;M=B+M}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function V(R){return R.h==-1}t.l=function(R){return R=$(this,R),V(R)?-1:D(R)?0:1};function k(R){const x=R.g.length,C=[];for(let M=0;M<x;M++)C[M]=~R.g[M];return new l(C,~R.h).add(w)}t.abs=function(){return V(this)?k(this):this},t.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let M=0;for(let L=0;L<=x;L++){let B=M+(this.i(L)&65535)+(R.i(L)&65535),N=(B>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);M=N>>>16,B&=65535,N&=65535,C[L]=N<<16|B}return new l(C,C[C.length-1]&-2147483648?-1:0)};function $(R,x){return R.add(k(x))}t.j=function(R){if(D(this)||D(R))return _;if(V(this))return V(R)?k(this).j(k(R)):k(k(this).j(R));if(V(R))return k(this.j(k(R)));if(this.l(A)<0&&R.l(A)<0)return p(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let L=0;L<R.g.length;L++){const B=this.i(M)>>>16,N=this.i(M)&65535,ze=R.i(L)>>>16,Ge=R.i(L)&65535;C[2*M+2*L]+=N*Ge,F(C,2*M+2*L),C[2*M+2*L+1]+=B*Ge,F(C,2*M+2*L+1),C[2*M+2*L+1]+=N*ze,F(C,2*M+2*L+1),C[2*M+2*L+2]+=B*ze,F(C,2*M+2*L+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new l(C,0)};function F(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function z(R,x){this.g=R,this.h=x}function X(R,x){if(D(x))throw Error("division by zero");if(D(R))return new z(_,_);if(V(R))return x=X(k(R),x),new z(k(x.g),k(x.h));if(V(x))return x=X(R,k(x)),new z(k(x.g),x.h);if(R.g.length>30){if(V(R)||V(x))throw Error("slowDivide_ only works with positive integers.");for(var C=w,M=x;M.l(R)<=0;)C=q(C),M=q(M);var L=J(C,1),B=J(M,1);for(M=J(M,2),C=J(C,2);!D(M);){var N=B.add(M);N.l(R)<=0&&(L=L.add(C),B=N),M=J(M,1),C=J(C,1)}return x=$(R,L.j(x)),new z(L,x)}for(L=_;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),B=p(C),N=B.j(x);V(N)||N.l(R)>0;)C-=M,B=p(C),N=B.j(x);D(B)&&(B=w),L=L.add(B),R=$(R,N)}return new z(L,R)}t.B=function(R){return X(this,R).h},t.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)&R.i(M);return new l(C,this.h&R.h)},t.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)|R.i(M);return new l(C,this.h|R.h)},t.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)^R.i(M);return new l(C,this.h^R.h)};function q(R){const x=R.g.length+1,C=[];for(let M=0;M<x;M++)C[M]=R.i(M)<<1|R.i(M-1)>>>31;return new l(C,R.h)}function J(R,x){const C=x>>5;x%=32;const M=R.g.length-C,L=[];for(let B=0;B<M;B++)L[B]=x>0?R.i(B+C)>>>x|R.i(B+C+1)<<32-x:R.i(B+C);return new l(L,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,vi=l}).apply(typeof Z0<"u"?Z0:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e1,eu,t1,xh,pm,n1,r1,s1;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(c,v){if(v)e:{var E=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var W=c[S];if(!(W in E))break e;E=E[W]}c=c[c.length-1],S=E[c],v=v(S),v!=S&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(v){var E=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&E.push([S,v[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function h(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function f(c,v,E){return c.call.apply(c.bind,arguments)}function p(c,v,E){return p=f,p.apply(null,arguments)}function g(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function _(c,v){function E(){}E.prototype=v.prototype,c.Z=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,W,Q){for(var oe=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)oe[Ce-2]=arguments[Ce];return v.prototype[W].apply(S,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const v=c.length;if(v>0){const E=Array(v);for(let S=0;S<v;S++)E[S]=c[S];return E}return[]}function D(c,v){for(let S=1;S<arguments.length;S++){const W=arguments[S];var E=typeof W;if(E=E!="object"?E:W?Array.isArray(W)?"array":E:"null",E=="array"||E=="object"&&typeof W.length=="number"){E=c.length||0;const Q=W.length||0;c.length=E+Q;for(let oe=0;oe<Q;oe++)c[E+oe]=W[oe]}else c.push(W)}}class V{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(c){l.setTimeout(()=>{throw c},0)}function $(){var c=R;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,E){const S=z.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var z=new V(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let q,J=!1,R=new F,x=()=>{const c=Promise.resolve(void 0);q=()=>{c.then(C)}};function C(){for(var c;c=$();){try{c.h.call(c.g)}catch(E){k(E)}var v=z;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}J=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};l.addEventListener("test",E,v),l.removeEventListener("test",E,v)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function ze(c,v){L.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}_(ze,L),ze.prototype.init=function(c,v){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),vt=0;function _e(c,v,E,S,W){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=W,this.key=++vt,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ue(c,v,E){for(const S in c)v.call(E,c[S],S,c)}function ae(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function U(c){const v={};for(const E in c)v[E]=c[E];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(c,v){let E,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(E in S)c[E]=S[E];for(let Q=0;Q<ee.length;Q++)E=ee[Q],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,v,E,S,W){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const oe=Pe(c,v,S,W);return oe>-1?(v=c[oe],E||(v.fa=!1)):(v=new _e(v,this.src,Q,!!S,W),v.fa=E,c.push(v)),v};function be(c,v){const E=v.type;if(E in c.g){var S=c.g[E],W=Array.prototype.indexOf.call(S,v,void 0),Q;(Q=W>=0)&&Array.prototype.splice.call(S,W,1),Q&&(re(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Pe(c,v,E,S){for(let W=0;W<c.length;++W){const Q=c[W];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==S)return W}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Oe={};function qe(c,v,E,S,W){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)qe(c,v[Q],E,S,W);return null}return E=rs(E),c&&c[Ge]?c.J(v,E,h(S)?!!S.capture:!1,W):Ft(c,v,E,!1,S,W)}function Ft(c,v,E,S,W,Q){if(!v)throw Error("Invalid event type");const oe=h(W)?!!W.capture:!!W;let Ce=Ir(c);if(Ce||(c[Be]=Ce=new Ae(c)),E=Ce.add(v,E,S,oe,Q),E.proxy)return E;if(S=Ls(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)B||(W=oe),W===void 0&&(W=!1),c.addEventListener(v.toString(),S,W);else if(c.attachEvent)c.attachEvent(ns(v.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ls(){function c(E){return v.call(c.src,c.listener,E)}const v=er;return c}function Er(c,v,E,S,W){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Er(c,v[Q],E,S,W);else S=h(S)?!!S.capture:!!S,E=rs(E),c&&c[Ge]?(c=c.i,Q=String(v).toString(),Q in c.g&&(v=c.g[Q],E=Pe(v,E,S,W),E>-1&&(re(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete c.g[Q],c.h--)))):c&&(c=Ir(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Pe(v,E,S,W)),(E=c>-1?v[c]:null)&&Tr(E))}function Tr(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Ge])be(v.i,c);else{var E=c.type,S=c.proxy;v.removeEventListener?v.removeEventListener(E,S,c.capture):v.detachEvent?v.detachEvent(ns(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=Ir(v))?(be(E,c),E.h==0&&(E.src=null,v[Be]=null)):re(c)}}}function ns(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function er(c,v){if(c.da)c=!0;else{v=new ze(v,this);const E=c.listener,S=c.ha||c.src;c.fa&&Tr(c),c=E.call(S,v)}return c}function Ir(c){return c=c[Be],c instanceof Ae?c:null}var tr="__closure_events_fn_"+(Math.random()*1e9>>>0);function rs(c){return typeof c=="function"?c:(c[tr]||(c[tr]=function(v){return c.handleEvent(v)}),c[tr])}function ut(){M.call(this),this.i=new Ae(this),this.M=this,this.G=null}_(ut,M),ut.prototype[Ge]=!0,ut.prototype.removeEventListener=function(c,v,E,S){Er(this,c,v,E,S)};function it(c,v){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=v.type||v,typeof v=="string")v=new L(v,c);else if(v instanceof L)v.target=v.target||c;else{var W=v;v=new L(S,c),xe(v,W)}W=!0;let Q,oe;if(E)for(oe=E.length-1;oe>=0;oe--)Q=v.g=E[oe],W=In(Q,S,!0,v)&&W;if(Q=v.g=c,W=In(Q,S,!0,v)&&W,W=In(Q,S,!1,v)&&W,E)for(oe=0;oe<E.length;oe++)Q=v.g=E[oe],W=In(Q,S,!1,v)&&W}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const E=c.g[v];for(let S=0;S<E.length;S++)re(E[S]);delete c.g[v],c.h--}}this.G=null},ut.prototype.J=function(c,v,E,S){return this.i.add(String(c),v,!1,E,S)},ut.prototype.K=function(c,v,E,S){return this.i.add(String(c),v,!0,E,S)};function In(c,v,E,S){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let Q=0;Q<v.length;++Q){const oe=v[Q];if(oe&&!oe.da&&oe.capture==E){const Ce=oe.listener,_t=oe.ha||oe.src;oe.fa&&be(c.i,oe),W=Ce.call(_t,S)!==!1&&W}}return W&&!S.defaultPrevented}function Os(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(c,v||0)}function ji(c){c.g=Os(()=>{c.g=null,c.i&&(c.i=!1,ji(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class ke extends M{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ji(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function De(c){M.call(this),this.h=c,this.g={}}_(De,M);var Qe=[];function Xe(c){ue(c.g,function(v,E){this.g.hasOwnProperty(E)&&Tr(v)},c),c.g={}}De.prototype.N=function(){De.Z.N.call(this),Xe(this)},De.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pt=l.JSON.stringify,ss=l.JSON.parse,cn=class{stringify(c){return l.JSON.stringify(c,void 0)}parse(c){return l.JSON.parse(c,void 0)}};function Vt(){}function On(){}var hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dn(){L.call(this,"d")}_(dn,L);function nr(){L.call(this,"c")}_(nr,L);var rr={},Mo=null;function js(){return Mo=Mo||new ut}rr.Ia="serverreachability";function Lo(c){L.call(this,rr.Ia,c)}_(Lo,L);function is(c){const v=js();it(v,new Lo(v))}rr.STAT_EVENT="statevent";function os(c,v){L.call(this,rr.STAT_EVENT,c),this.stat=v}_(os,L);function mt(c){const v=js();it(v,new os(v,c))}rr.Ja="timingevent";function al(c,v){L.call(this,rr.Ja,c),this.size=v}_(al,L);function Fs(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){c()},v)}function Us(){this.g=!0}Us.prototype.ua=function(){this.g=!1};function Gu(c,v,E,S,W,Q){c.info(function(){if(c.g)if(Q){var oe="",Ce=Q.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var _t=Ce[Ke].split("=");if(_t.length>1){const Tt=_t[0];_t=_t[1];const Pn=Tt.split("_");oe=Pn.length>=2&&Pn[1]=="type"?oe+(Tt+"="+_t+"&"):oe+(Tt+"=redacted&")}}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+v+`
`+E+`
`+oe})}function Qu(c,v,E,S,W,Q,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+v+`
`+E+`
`+Q+" "+oe})}function Sr(c,v,E,S){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Fi(c,E)+(S?" "+S:"")})}function Yu(c,v){c.info(function(){return"TIMEOUT: "+v})}Us.prototype.info=function(){};function Fi(c,v){if(!c.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var E=Q[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var W=S[0];if(W!="noop"&&W!="stop"&&W!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return Pt(Q)}catch{return v}}var Bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$s={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xu;function as(){}_(as,Vt),as.prototype.g=function(){return new XMLHttpRequest},Xu=new as;function xr(c){return encodeURIComponent(String(c))}function Oo(c){var v=1;c=c.split(":");const E=[];for(;v>0&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function jn(c,v,E,S){this.j=c,this.i=v,this.l=E,this.S=S||1,this.V=new De(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ju}function Ju(){this.i=null,this.g="",this.h=!1}var Zu={},ll={};function sr(c,v,E){c.M=1,c.A=us(Fn(v)),c.u=E,c.R=!0,ul(c,null)}function ul(c,v){c.F=Date.now(),Ui(c),c.B=Fn(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),_l(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Ju,c.g=uc(c.j,E?v:null,!c.u),c.P>0&&(c.O=new ke(p(c.Y,c,c.g),c.P)),v=c.V,E=c.g,S=c.ba;var W="readystatechange";Array.isArray(W)||(W&&(Qe[0]=W.toString()),W=Qe);for(let Q=0;Q<W.length;Q++){const oe=qe(E,W[Q],S||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),is(),Gu(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const v=this.O;v&&Nr(c)==3?v.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Nr(this.g),_t=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||ac(this.g)))){this.K||Ce!=4||_t==7||(_t==8||Ke<=0?is(3):is(2)),jo(this);var v=this.g.ca();this.X=v;var E=ec(this);if(this.o=v==200,Qu(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,W=this.g;if((S=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var Q=S;break t}}Q=null}if(c=Q)Sr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,et(this,c);else{this.o=!1,this.m=3,mt(12),ls(this),Bi(this);break e}}if(this.R){c=!0;let Tt;for(;!this.K&&this.C<E.length;)if(Tt=nc(this,E),Tt==ll){Ce==4&&(this.m=4,mt(14),c=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Zu){this.m=4,mt(15),Sr(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Sr(this.i,this.l,Tt,null),et(this,Tt);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,mt(16),c=!1),this.o=this.o&&c,!c)Sr(this.i,this.l,E,"[Invalid Chunked Response]"),ls(this),Bi(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Yi(oe),oe.P=!0,mt(11))}}else Sr(this.i,this.l,E,null),et(this,E);Ce==4&&ls(this),this.o&&!this.K&&(Ce==4?Go(this.j,this):(this.o=!1,Ui(this)))}else El(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),ls(this),Bi(this)}}}catch{}finally{}};function ec(c){if(!tc(c))return c.g.la();const v=ac(c.g);if(v==="")return"";let E="";const S=v.length,W=Nr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ls(c),Bi(c),"";c.h.i=new l.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,E+=c.h.i.decode(v[Q],{stream:!(W&&Q==S-1)});return v.length=0,c.h.g+=E,c.C=0,c.h.g}function tc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function nc(c,v){var E=c.C,S=v.indexOf(`
`,E);return S==-1?ll:(E=Number(v.substring(E,S)),isNaN(E)?Zu:(S+=1,S+E>v.length?ll:(v=v.slice(S,S+E),c.C=S+E,v)))}jn.prototype.cancel=function(){this.K=!0,ls(this)};function Ui(c){c.T=Date.now()+c.H,cl(c,c.H)}function cl(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Fs(p(c.aa,c),v)}function jo(c){c.D&&(l.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Yu(this.i,this.B),this.M!=2&&(is(),mt(17)),ls(this),this.m=2,Bi(this)):cl(this,this.T-c)};function Bi(c){c.j.I==0||c.K||Go(c.j,c)}function ls(c){jo(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Xe(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function et(c,v){try{var E=c.j;if(E.I!=0&&(E.g==c||dl(E.h,c))){if(!c.L&&dl(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ko(E),Cn(E);else break e;Mr(E),mt(18)}}else E.xa=W[1],0<E.xa-E.K&&W[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Fs(p(E.Va,E),6e3));$i(E.h)<=1&&E.ta&&(E.ta=void 0)}else Rn(E,11)}else if((c.L||E.g==c)&&Ko(E),!N(v))for(W=E.Ba.g.parse(v),v=0;v<W.length;v++){let Ke=W[v];const Tt=Ke[0];if(!(Tt<=E.K))if(E.K=Tt,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Pn=Ke[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const ps=Ke[4];ps!=null&&(E.za=ps,E.j.info("SVER="+E.za));const Lr=Ke[5];Lr!=null&&typeof Lr=="number"&&Lr>0&&(S=1.5*Lr,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Or=c.g;if(Or){const Xo=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xo){var Q=S.h;Q.g||Xo.indexOf("spdy")==-1&&Xo.indexOf("quic")==-1&&Xo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Uo(Q,Q.h),Q.h=null))}if(S.G){const Sl=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(S.wa=Sl,He(S.J,S.G,Sl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var oe=c;if(S.na=Il(S,S.L?S.ba:null,S.W),oe.L){zi(S.h,oe);var Ce=oe,_t=S.O;_t&&(Ce.H=_t),Ce.D&&(jo(Ce),Ui(Ce)),S.g=oe}else Gt(S);E.i.length>0&&fs(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Rn(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Rn(E,7):Wo(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}is(4)}catch{}}var Kd=class{constructor(c,v){this.g=c,this.map=v}};function Fo(c){this.l=c||10,l.PerformanceNavigationTiming?(c=l.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $i(c){return c.h?1:c.g?c.g.size:0}function dl(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Uo(c,v){c.g?c.g.add(v):c.h=v}function zi(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Fo.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.G);return v}return A(c.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xn(c,v){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let W,Q=null;S>=0?(W=c[E].substring(0,S),Q=c[E].substring(S+1)):W=c[E],v(W,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ar(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof Ar?(this.l=c.l,Hi(this,c.j),this.o=c.o,this.g=c.g,Cr(this,c.u),this.h=c.h,zs(this,wl(c.i)),this.m=c.m):c&&(v=String(c).match(rc))?(this.l=!1,Hi(this,v[1]||"",!0),this.o=Wi(v[2]||""),this.g=Wi(v[3]||"",!0),Cr(this,v[4]),this.h=Wi(v[5]||"",!0),zs(this,v[6]||"",!0),this.m=Wi(v[7]||"")):(this.l=!1,this.i=new je(null,this.l))}Ar.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(qi(v,pl,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(qi(v,pl,!0),"@"),c.push(xr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(qi(E,E.charAt(0)=="/"?Ki:ml,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",qi(E,gl)),c.join("")},Ar.prototype.resolve=function(c){const v=Fn(this);let E=!!c.j;E?Hi(v,c.j):E=!!c.o,E?v.o=c.o:E=!!c.g,E?v.g=c.g:E=c.u!=null;var S=c.h;if(E)Cr(v,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var W=v.h.lastIndexOf("/");W!=-1&&(S=v.h.slice(0,W+1)+S)}if(W=S,W==".."||W==".")S="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){S=W.lastIndexOf("/",0)==0,W=W.split("/");const Q=[];for(let oe=0;oe<W.length;){const Ce=W[oe++];Ce=="."?S&&oe==W.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&oe==W.length&&Q.push("")):(Q.push(Ce),S=!0)}S=Q.join("/")}else S=W}return E?v.h=S:E=c.i.toString()!=="",E?zs(v,wl(c.i)):E=!!c.m,E&&(v.m=c.m),v};function Fn(c){return new Ar(c)}function Hi(c,v,E){c.j=E?Wi(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Cr(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function zs(c,v,E){v instanceof je?(c.i=v,$o(c.i,c.l)):(E||(v=qi(v,Gd)),c.i=new je(v,c.l))}function He(c,v,E){c.i.set(v,E)}function us(c){return He(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Wi(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qi(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,fl),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pl=/[#\/\?@]/g,ml=/[#\?:]/g,Ki=/[#\?]/g,Gd=/[#\?@]/g,gl=/#/g;function je(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Rr(c){c.g||(c.g=new Map,c.h=0,c.i&&xn(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=je.prototype,t.add=function(c,v){Rr(this),this.i=null,c=Pr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function yl(c,v){Rr(c),v=Pr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Bo(c,v){return Rr(c),v=Pr(c,v),c.g.has(v)}t.forEach=function(c,v){Rr(this),this.g.forEach(function(E,S){E.forEach(function(W){c.call(v,W,S,this)},this)},this)};function vl(c,v){Rr(c);let E=[];if(typeof v=="string")Bo(c,v)&&(E=E.concat(c.g.get(Pr(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)E=E.concat(c[v]);return E}t.set=function(c,v){return Rr(this),this.i=null,c=Pr(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},t.get=function(c,v){return c?(c=vl(this,c),c.length>0?String(c[0]):v):v};function _l(c,v,E){yl(c,v),E.length>0&&(c.i=null,c.g.set(Pr(c,v),A(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var E=v[S];const W=xr(E);E=vl(this,E);for(let Q=0;Q<E.length;Q++){let oe=W;E[Q]!==""&&(oe+="="+xr(E[Q])),c.push(oe)}}return this.i=c.join("&")};function wl(c){const v=new je;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Pr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function $o(c,v){v&&!c.j&&(Rr(c),c.i=null,c.g.forEach(function(E,S){const W=S.toLowerCase();S!=W&&(yl(this,S),_l(this,W,E))},c)),c.j=v}function kr(c,v){const E=new Us;if(l.Image){const S=new Image;S.onload=g(Ut,E,"TestLoadImage: loaded",!0,v,S),S.onerror=g(Ut,E,"TestLoadImage: error",!1,v,S),S.onabort=g(Ut,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=g(Ut,E,"TestLoadImage: timeout",!1,v,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else v(!1)}function br(c,v){const E=new Us,S=new AbortController,W=setTimeout(()=>{S.abort(),Ut(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(W),Q.ok?Ut(E,"TestPingServer: ok",!0,v):Ut(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),Ut(E,"TestPingServer: error",!1,v)})}function Ut(c,v,E,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(E)}catch{}}function Gi(){this.g=new cn}function cs(c){this.i=c.Sb||null,this.h=c.ab||!1}_(cs,Vt),cs.prototype.g=function(){return new An(this.i,this.h)};function An(c,v){ut.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(An,ut),t=An.prototype,t.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,ir(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sc(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function sc(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Hs(this):ir(this),this.readyState==3&&sc(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Hs(this))},t.Na=function(c){this.g&&(this.response=c,Hs(this))},t.ga=function(){this.g&&Hs(this)};function Hs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ir(c)}t.setRequestHeader=function(c,v){this.A.append(c,v)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(An.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ic(c){let v="";return ue(c,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function zo(c,v,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=ic(E),typeof c=="string"?E!=null&&xr(E):He(c,v,E))}function Ye(c){ut.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ye,ut);var oc=/^https?$/i,Qd=["POST","PUT"];t=Ye.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xu.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Q){Ws(this,Q);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)E.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())E.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=l.FormData&&c instanceof l.FormData,!(Array.prototype.indexOf.call(Qd,v,void 0)>=0)||S||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of E)this.g.setRequestHeader(Q,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ws(this,Q)}};function Ws(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,qs(c),ds(c)}function qs(c){c.A||(c.A=!0,it(c,"complete"),it(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,it(this,"complete"),it(this,"abort"),ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?hs(this):this.Xa())},t.Xa=function(){hs(this)};function hs(c){if(c.h&&typeof a<"u"){if(c.v&&Nr(c)==4)setTimeout(c.Ca.bind(c),0);else if(it(c,"readystatechange"),Nr(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var S;if(S=Q===0){let oe=String(c.D).match(rc)[1]||null;!oe&&l.self&&l.self.location&&(oe=l.self.location.protocol.slice(0,-1)),S=!oc.test(oe?oe.toLowerCase():"")}E=S}if(E)it(c,"complete"),it(c,"success");else{c.o=6;try{var W=Nr(c)>2?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.ca()+"]",qs(c)}}finally{ds(c)}}}}function ds(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,v||it(c,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Nr(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Nr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),ss(v)}};function ac(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function El(c){const v={};c=(c.g&&Nr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var E=Oo(c[S]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[W]||[];v[W]=Q,Q.push(E)}ae(v,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function Ho(c){this.za=0,this.i=[],this.j=new Us,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Dr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Dr("baseRetryDelayMs",5e3,c),this.Za=Dr("retryDelaySeedMs",1e4,c),this.Ta=Dr("forwardChannelMaxRetries",2,c),this.va=Dr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Fo(c&&c.concurrentRequestLimit),this.Ba=new Gi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ho.prototype,t.ka=8,t.I=1,t.connect=function(c,v,E,S){mt(0),this.W=c,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Il(this,null,this.W),fs(this)};function Wo(c){if(qo(c),c.I==3){var v=c.V++,E=Fn(c.J);if(He(E,"SID",c.M),He(E,"RID",v),He(E,"TYPE","terminate"),Vr(c,E),v=new jn(c,c.j,v),v.M=2,v.A=us(Fn(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=v.A,E=!0),E||(v.g=uc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ui(v)}Xi(c)}function Cn(c){c.g&&(Yi(c),c.g.cancel(),c.g=null)}function qo(c){Cn(c),c.v&&(l.clearTimeout(c.v),c.v=null),Ko(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&l.clearTimeout(c.m),c.m=null)}function fs(c){if(!hl(c.h)&&!c.m){c.m=!0;var v=c.Ea;q||x(),J||(q(),J=!0),R.add(v,c),c.D=0}}function lc(c,v){return $i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Fs(p(c.Ea,c,v),Qo(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const W=new jn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=U(Q),xe(Q,this.U)):Q=this.U),this.u!==null||this.R||(W.J=Q,Q=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Tl(this,W,v),E=Fn(this.J),He(E,"RID",c),He(E,"CVER",22),this.G&&He(E,"X-HTTP-Session-Id",this.G),Vr(this,E),Q&&(this.R?v="headers="+xr(ic(Q))+"&"+v:this.u&&zo(E,this.u,Q)),Uo(this.h,W),this.Ra&&He(E,"TYPE","init"),this.S?(He(E,"$req",v),He(E,"SID","null"),W.U=!0,sr(W,E,null)):sr(W,E,v),this.I=2}}else this.I==3&&(c?Qi(this,c):this.i.length==0||hl(this.h)||Qi(this))};function Qi(c,v){var E;v?E=v.l:E=c.V++;const S=Fn(c.J);He(S,"SID",c.M),He(S,"RID",E),He(S,"AID",c.K),Vr(c,S),c.u&&c.o&&zo(S,c.u,c.o),E=new jn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Tl(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,E),sr(E,S,v)}function Vr(c,v){c.H&&ue(c.H,function(E,S){He(v,S,E)}),c.l&&ue({},function(E,S){He(v,S,E)})}function Tl(c,v,E){E=Math.min(c.i.length,E);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var W=c.i;let Ce=-1;for(;;){const _t=["count="+E];Ce==-1?E>0?(Ce=W[0].g,_t.push("ofs="+Ce)):Ce=0:_t.push("ofs="+Ce);let Ke=!0;for(let Tt=0;Tt<E;Tt++){var Q=W[Tt].g;const Pn=W[Tt].map;if(Q-=Ce,Q<0)Ce=Math.max(0,W[Tt].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var oe=Pn instanceof Map?Pn:Object.entries(Pn);for(const[ps,Lr]of oe){let Or=Lr;h(Lr)&&(Or=Pt(Lr)),_t.push(Q+ps+"="+encodeURIComponent(Or))}}catch(ps){throw _t.push(Q+"type="+encodeURIComponent("_badmap")),ps}}catch{S&&S(Pn)}}if(Ke){oe=_t.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),v.G=c,oe}function Gt(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;q||x(),J||(q(),J=!0),R.add(v,c),c.A=0}}function Mr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Fs(p(c.Da,c),Qo(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Ks(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Fs(p(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),Cn(this),Ks(this))};function Yi(c){c.B!=null&&(l.clearTimeout(c.B),c.B=null)}function Ks(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Fn(c.na);He(v,"RID","rpc"),He(v,"SID",c.M),He(v,"AID",c.K),He(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&He(v,"TO",c.ia),He(v,"TYPE","xmlhttp"),Vr(c,v),c.u&&c.o&&zo(v,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=us(Fn(v)),E.u=null,E.R=!0,ul(E,c)}t.Va=function(){this.C!=null&&(this.C=null,Cn(this),Mr(this),mt(19))};function Ko(c){c.C!=null&&(l.clearTimeout(c.C),c.C=null)}function Go(c,v){var E=null;if(c.g==v){Ko(c),Yi(c),c.g=null;var S=2}else if(dl(c.h,v))E=v.G,zi(c.h,v),S=1;else return;if(c.I!=0){if(v.o)if(S==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var W=c.D;S=js(),it(S,new al(S,E)),fs(c)}else Gt(c);else if(W=v.m,W==3||W==0&&v.X>0||!(S==1&&lc(c,v)||S==2&&Mr(c)))switch(E&&E.length>0&&(v=c.h,v.i=v.i.concat(E)),W){case 1:Rn(c,5);break;case 4:Rn(c,10);break;case 3:Rn(c,6);break;default:Rn(c,2)}}}function Qo(c,v){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*v}function Rn(c,v){if(c.j.info("Error code "+v),v==2){var E=p(c.bb,c),S=c.Ua;const W=!S;S=new Ar(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Hi(S,"https"),us(S),W?kr(S.toString(),E):br(S.toString(),E)}else mt(2);c.I=0,c.l&&c.l.pa(v),Xi(c),qo(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Xi(c){if(c.I=0,c.ja=[],c.l){const v=Sn(c.h);(v.length!=0||c.i.length!=0)&&(D(c.ja,v),D(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function Il(c,v,E){var S=E instanceof Ar?Fn(E):new Ar(E);if(S.g!="")v&&(S.g=v+"."+S.g),Cr(S,S.u);else{var W=l.location;S=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const Q=new Ar(null);S&&Hi(Q,S),v&&(Q.g=v),W&&Cr(Q,W),E&&(Q.h=E),S=Q}return E=c.G,v=c.wa,E&&v&&He(S,E,v),He(S,"VER",c.ka),Vr(c,S),S}function uc(c,v,E){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Ye(new cs({ab:E})):new Ye(c.ma),v.Fa(c.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}t=cc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Yo(){}Yo.prototype.g=function(c,v){return new Bt(c,v)};function Bt(c,v){ut.call(this),this.g=new Ho(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!N(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Gs(this)}_(Bt,ut),Bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Wo(this.g)},Bt.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Pt(c),c=E);v.i.push(new Kd(v.Ya++,c)),v.I==3&&fs(v)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,Bt.Z.N.call(this)};function hc(c){dn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}_(hc,dn);function dc(){nr.call(this),this.status=1}_(dc,nr);function Gs(c){this.g=c}_(Gs,cc),Gs.prototype.ra=function(){it(this.g,"a")},Gs.prototype.qa=function(c){it(this.g,new hc(c))},Gs.prototype.pa=function(c){it(this.g,new dc)},Gs.prototype.oa=function(){it(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,s1=function(){return new Yo},r1=function(){return js()},n1=rr,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bs.NO_ERROR=0,Bs.TIMEOUT=8,Bs.HTTP_ERROR=6,xh=Bs,$s.COMPLETE="complete",t1=$s,On.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",ut.prototype.listen=ut.prototype.J,eu=On,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,e1=Ye}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const ew="@firebase/firestore",tw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new fd("@firebase/firestore");function va(){return xo.logLevel}function he(t,...e){if(xo.logLevel<=Ve.DEBUG){const n=e.map(Cg);xo.debug(`Firestore (${Xa}): ${t}`,...n)}}function bs(t,...e){if(xo.logLevel<=Ve.ERROR){const n=e.map(Cg);xo.error(`Firestore (${Xa}): ${t}`,...n)}}function ja(t,...e){if(xo.logLevel<=Ve.WARN){const n=e.map(Cg);xo.warn(`Firestore (${Xa}): ${t}`,...n)}}function Cg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,i1(t,r,n)}function i1(t,e,n){let r=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bs(r),new Error(r)}function We(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||i1(e,i,r)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class hV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dV{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _i,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},h=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _i)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new o1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class fV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=gV(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function mm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Lp(i)===Lp(a)?Me(i,a):Lp(i)?1:-1}return Me(t.length,e.length)}const yV=55296,vV=57343;function Lp(t){const e=t.charCodeAt(0);return e>=yV&&e<=vV}function Fa(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="__name__";class $r{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=$r.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Me(e.length,n.length)}static compareSegments(e,n){const r=$r.isNumericId(e),i=$r.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?$r.extractNumericId(e).compare($r.extractNumericId(n)):mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vi.fromString(e.substring(4,e.length-2))}}class Ze extends $r{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ze(n)}static emptyPath(){return new Ze([])}}const _V=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends $r{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return _V.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rw}static keyField(){return new qt([rw])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new le(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new le(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ze.fromString(e))}static fromName(e){return new ge(Ze.fromString(e).popFirst(5))}static empty(){return new ge(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t,e,n){if(!n)throw new le(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wV(t,e,n,r){if(e===!0&&r===!0)throw new le(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sw(t){if(!ge.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iw(t){if(ge.isDocumentKey(t))throw new le(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function l1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ed(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function Ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ed(t);throw new le(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e){const n={typeString:t};return e&&(n.value=e),n}function ju(t,e){if(!l1(t))throw new le(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new le(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=-62135596800,aw=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aw);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ow)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aw}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ju(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ow;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ct("string",rt._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new rt(0,0))}static max(){return new Se(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function EV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ti(i,ge.empty(),e)}function TV(t){return new Ti(t.readTime,t.key,vu)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(Se.min(),ge.empty(),vu)}static max(){return new Ti(Se.max(),ge.empty(),vu)}}function IV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==SV)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,r)=>{n(e)}))}static reject(e){return new Z(((n,r)=>{r(e)}))}static waitFor(e){return new Z(((n,r)=>{let i=0,a=0,l=!1;e.forEach((h=>{++i,h.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next((i=>i?Z.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Z(((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((g=>{l[p]=g,++h,h===a&&r(l)}),(g=>i(g)))}}))}static doWhile(e,n){return new Z(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function AV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Za(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Td.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=-1;function Id(t){return t==null}function qh(t){return t===0&&1/t==-1/0}function CV(t){return typeof t=="number"&&Number.isInteger(t)&&!qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="";function RV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lw(e)),e=PV(t.get(n),e);return lw(e)}function PV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case u1:n+="";break;default:n+=a}}return n}function lw(t){return t+u1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=a??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Dt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new h1("Invalid base64 string: "+a):a}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const kV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=kV.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="server_timestamp",f1="__type__",p1="__previous_value__",m1="__local_write_time__";function kg(t){return(t?.mapValue?.fields||{})[f1]?.stringValue===d1}function Sd(t){const e=t.mapValue.fields[p1];return kg(e)?Sd(e):e}function _u(t){const e=Ii(t.mapValue.fields[m1].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r,i,a,l,h,f,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const Kh="(default)";class wu{constructor(e,n){this.projectId=e,this.database=n||Kh}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__type__",NV="__max__",ch={mapValue:{}},y1="__vector__",Gh="value";function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kg(t)?4:VV(t)?9007199254740991:DV(t)?10:11:Ee(28295,{value:t})}function Xr(t,e){if(t===e)return!0;const n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _u(t).isEqual(_u(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Ii(i.timestampValue),h=Ii(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Si(i.bytesValue).isEqual(Si(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Et(i.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Et(i.integerValue)===Et(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Et(i.doubleValue),h=Et(a.doubleValue);return l===h?qh(l)===qh(h):isNaN(l)&&isNaN(h)}return!1})(t,e);case 9:return Fa(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},h=a.mapValue.fields||{};if(uw(l)!==uw(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!Xr(l[f],h[f])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function Eu(t,e){return(t.values||[]).find((n=>Xr(n,e)))!==void 0}function Ua(t,e){if(t===e)return 0;const n=xi(t),r=xi(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const h=Et(a.integerValue||a.doubleValue),f=Et(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return hw(t.timestampValue,e.timestampValue);case 4:return hw(_u(t),_u(e));case 5:return mm(t.stringValue,e.stringValue);case 6:return(function(a,l){const h=Si(a),f=Si(l);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=Me(h[p],f[p]);if(g!==0)return g}return Me(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const h=Me(Et(a.latitude),Et(l.latitude));return h!==0?h:Me(Et(a.longitude),Et(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return dw(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const h=a.fields||{},f=l.fields||{},p=h[Gh]?.arrayValue,g=f[Gh]?.arrayValue,_=Me(p?.values?.length||0,g?.values?.length||0);return _!==0?_:dw(p,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===ch.mapValue&&l===ch.mapValue)return 0;if(a===ch.mapValue)return 1;if(l===ch.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const w=mm(f[_],g[_]);if(w!==0)return w;const A=Ua(h[f[_]],p[g[_]]);if(A!==0)return A}return Me(f.length,g.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function hw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Ii(t),r=Ii(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function dw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ua(n[i],r[i]);if(a)return a}return Me(n.length,r.length)}function Ba(t){return gm(t)}function gm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ii(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Si(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=gm(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${gm(n.fields[l])}`;return i+"}"})(t.mapValue):Ee(61005,{value:t})}function Ah(t){switch(xi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(t);return e?16+Ah(e):16;case 5:return 2*t.stringValue.length;case 6:return Si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Ah(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Vi(r.fields,((a,l)=>{i+=a.length+Ah(l)})),i})(t.mapValue);default:throw Ee(13486,{value:t})}}function fw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ym(t){return!!t&&"integerValue"in t}function bg(t){return!!t&&"arrayValue"in t}function pw(t){return!!t&&"nullValue"in t}function mw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ch(t){return!!t&&"mapValue"in t}function DV(t){return(t?.mapValue?.fields||{})[g1]?.stringValue===y1}function ou(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vi(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ou(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ou(t.arrayValue.values[n]);return e}return{...t}}function VV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach(((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=ou(l):i.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vi(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new wn(ou(this.value))}}function v1(t){const e=[];return Vi(t.fields,((n,r)=>{const i=new qt([n]);if(Ch(r)){const a=v1(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,i,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new tn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new tn(e,2,n,Se.min(),Se.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Se.min(),Se.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.position=e,this.inclusive=n}}function gw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(l.referenceValue),n.key):r=Ua(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function yw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function MV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{}class At extends _1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OV(e,n,r):n==="array-contains"?new UV(e,r):n==="in"?new BV(e,r):n==="not-in"?new $V(e,r):n==="array-contains-any"?new zV(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jV(e,r):new FV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ua(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(Ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends _1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _r(e,n)}matches(e){return w1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w1(t){return t.op==="and"}function E1(t){return LV(t)&&w1(t)}function LV(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function vm(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Ba(t.value);if(E1(t))return t.filters.map((e=>vm(e))).join(",");{const e=t.filters.map((n=>vm(n))).join(",");return`${t.op}(${e})`}}function T1(t,e){return t instanceof At?(function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)})(t,e):t instanceof _r?(function(r,i){return i instanceof _r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,h)=>a&&T1(l,i.filters[h])),!0):!1})(t,e):void Ee(19439)}function I1(t){return t instanceof At?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ba(n.value)}`})(t):t instanceof _r?(function(n){return n.op.toString()+" {"+n.getFilters().map(I1).join(" ,")+"}"})(t):"Filter"}class OV extends At{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class jV extends At{constructor(e,n){super(e,"in",n),this.keys=S1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class FV extends At{constructor(e,n){super(e,"not-in",n),this.keys=S1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function S1(t,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class UV extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bg(n)&&Eu(n.arrayValue,this.value)}}class BV extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class $V extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eu(this.value.arrayValue,n)}}class zV extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Eu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.Te=null}}function vw(t,e=null,n=[],r=[],i=null,a=null,l=null){return new HV(t,e,n,r,i,a,l)}function Ng(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>vm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ba(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ba(r))).join(",")),e.Te=n}return e.Te}function Dg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!T1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yw(t.startAt,e.startAt)&&yw(t.endAt,e.endAt)}function _m(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WV(t,e,n,r,i,a,l,h){return new el(t,e,n,r,i,a,l,h)}function x1(t){return new el(t)}function _w(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function A1(t){return t.collectionGroup!==null}function au(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new Dt(qt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Tu(a,r))})),n.has(qt.keyField().canonicalString())||e.Ie.push(new Tu(qt.keyField(),r))}return e.Ie}function Hr(t){const e=Re(t);return e.Ee||(e.Ee=qV(e,au(t))),e.Ee}function qV(t,e){if(t.limitType==="F")return vw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Tu(i.field,a)}));const n=t.endAt?new Qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qh(t.startAt.position,t.startAt.inclusive):null;return vw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wm(t,e){const n=t.filters.concat([e]);return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yh(t,e,n){return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return Dg(Hr(t),Hr(e))&&t.limitType===e.limitType}function C1(t){return`${Ng(Hr(t))}|lt:${t.limitType}`}function _a(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>I1(i))).join(", ")}]`),Id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Ba(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Ba(i))).join(",")),`Target(${r})`})(Hr(t))}; limitType=${t.limitType})`}function Ad(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of au(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,h,f){const p=gw(l,h,f);return l.inclusive?p<=0:p<0})(r.startAt,au(r),i)||r.endAt&&!(function(l,h,f){const p=gw(l,h,f);return l.inclusive?p>=0:p>0})(r.endAt,au(r),i))})(t,e)}function KV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R1(t){return(e,n)=>{let r=!1;for(const i of au(t)){const a=GV(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function GV(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Ua(f,p):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return c1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=new pt(ge.comparator);function Ns(){return QV}const P1=new pt(ge.comparator);function tu(...t){let e=P1;for(const n of t)e=e.insert(n.key,n);return e}function k1(t){let e=P1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function yo(){return lu()}function b1(){return lu()}function lu(){return new Do((t=>t.toString()),((t,e)=>t.isEqual(e)))}const YV=new pt(ge.comparator),XV=new Dt(ge.comparator);function Le(...t){let e=XV;for(const n of t)e=e.add(n);return e}const JV=new Dt(Me);function ZV(){return JV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function N1(t){return{integerValue:""+t}}function D1(t,e){return CV(e)?N1(e):Vg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this._=void 0}}function eM(t,e,n){return t instanceof Iu?(function(i,a){const l={fields:{[f1]:{stringValue:d1},[m1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&kg(a)&&(a=Sd(a)),a&&(l.fields[p1]=a),{mapValue:l}})(n,e):t instanceof $a?M1(t,e):t instanceof Su?L1(t,e):(function(i,a){const l=V1(i,a),h=ww(l)+ww(i.Ae);return ym(l)&&ym(i.Ae)?N1(h):Vg(i.serializer,h)})(t,e)}function tM(t,e,n){return t instanceof $a?M1(t,e):t instanceof Su?L1(t,e):n}function V1(t,e){return t instanceof xu?(function(r){return ym(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Iu extends Cd{}class $a extends Cd{constructor(e){super(),this.elements=e}}function M1(t,e){const n=O1(e);for(const r of t.elements)n.some((i=>Xr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Su extends Cd{constructor(e){super(),this.elements=e}}function L1(t,e){let n=O1(e);for(const r of t.elements)n=n.filter((i=>!Xr(i,r)));return{arrayValue:{values:n}}}class xu extends Cd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ww(t){return Et(t.integerValue||t.doubleValue)}function O1(t){return bg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.field=e,this.transform=n}}function nM(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof $a&&i instanceof $a||r instanceof Su&&i instanceof Su?Fa(r.elements,i.elements,Xr):r instanceof xu&&i instanceof xu?Xr(r.Ae,i.Ae):r instanceof Iu&&i instanceof Iu})(t.transform,e.transform)}class rM{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rd{}function j1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new U1(t.key,yr.none()):new Fu(t.key,t.data,yr.none());{const n=t.data,r=wn.empty();let i=new Dt(qt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Mi(t.key,r,new Vn(i.toArray()),yr.none())}}function sM(t,e,n){t instanceof Fu?(function(i,a,l){const h=i.value.clone(),f=Tw(i.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Mi?(function(i,a,l){if(!Rh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const h=Tw(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(F1(i)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function uu(t,e,n,r){return t instanceof Fu?(function(a,l,h,f){if(!Rh(a.precondition,l))return h;const p=a.value.clone(),g=Iw(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Mi?(function(a,l,h,f){if(!Rh(a.precondition,l))return h;const p=Iw(a.fieldTransforms,f,l),g=l.data;return g.setAll(F1(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(a,l,h){return Rh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(t,e,n)}function iM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=V1(r.transform,i||null);a!=null&&(n===null&&(n=wn.empty()),n.set(r.field,a))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fa(r,i,((a,l)=>nM(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fu extends Rd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mi extends Rd{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function F1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Tw(t,e,n){const r=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,tM(l,h,n[i]))}return r}function Iw(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,eM(a,l,e))}return r}class U1 extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oM extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&sM(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b1();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const f=j1(l,h);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,((n,r)=>Ew(n,r)))&&Fa(this.baseMutations,e.baseMutations,((n,r)=>Ew(n,r)))}}class Lg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return YV})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Lg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Fe;function cM(t){switch(t){case Y.OK:return Ee(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function B1(t){if(t===void 0)return bs("GRPC error has no .code"),Y.UNKNOWN;switch(t){case St.OK:return Y.OK;case St.CANCELLED:return Y.CANCELLED;case St.UNKNOWN:return Y.UNKNOWN;case St.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case St.INTERNAL:return Y.INTERNAL;case St.UNAVAILABLE:return Y.UNAVAILABLE;case St.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case St.NOT_FOUND:return Y.NOT_FOUND;case St.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case St.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case St.ABORTED:return Y.ABORTED;case St.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case St.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case St.DATA_LOSS:return Y.DATA_LOSS;default:return Ee(39323,{code:t})}}(Fe=St||(St={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new vi([4294967295,4294967295],0);function Sw(t){const e=hM().encode(t),n=new ZI;return n.update(e),new Uint8Array(n.digest())}function xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new vi([n,r],0),new vi([i,a],0)]}class Og{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(r<0)throw new nu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(vi.fromNumber(r)));return i.compare(dM)===1&&(i=new vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Sw(e),[r,i]=xw(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Og(a,i,n);return r.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const n=Sw(e),[r,i]=xw(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pd(Se.min(),i,new pt(Me),Ns(),Le())}}class Uu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uu(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class $1{constructor(e,n){this.targetId=e,this.Ce=n}}class z1{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Aw{constructor(){this.ve=0,this.Fe=Cw(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee(38017,{changeType:a})}})),new Uu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Cw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ns(),this.Je=hh(),this.He=hh(),this.Ye=new pt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(_m(a))if(r===0){const l=new ge(a.path);this.et(n,l,tn.newNoDocument(l,Se.min()))}else We(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const h=this.ut(e),f=h?this.ct(h,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,h;try{l=Si(r).toUint8Array()}catch(f){if(f instanceof h1)return ja("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Og(l,i,a)}catch(f){return ja(f instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const h=this.ot(l);if(h){if(a.current&&_m(h.target)){const f=new ge(h.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,tn.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Le();this.He.forEach(((a,l)=>{let h=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Pd(e,n,this.Ye,this.je,r);return this.je=Ns(),this.Je=hh(),this.He=hh(),this.Ye=new pt(Me),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Aw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Aw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hh(){return new pt(ge.comparator)}function Cw(){return new pt(ge.comparator)}const pM={asc:"ASCENDING",desc:"DESCENDING"},mM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gM={and:"AND",or:"OR"};class yM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Em(t,e){return t.useProto3Json||Id(e)?e:{value:e}}function Xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vM(t,e){return Xh(t,e.toTimestamp())}function Wr(t){return We(!!t,49232),Se.fromTimestamp((function(n){const r=Ii(n);return new rt(r.seconds,r.nanos)})(t))}function jg(t,e){return Tm(t,e).canonicalString()}function Tm(t,e){const n=(function(i){return new Ze(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function W1(t){const e=Ze.fromString(t);return We(Y1(e),10190,{key:e.toString()}),e}function Im(t,e){return jg(t.databaseId,e.path)}function Op(t,e){const n=W1(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(K1(n))}function q1(t,e){return jg(t.databaseId,e)}function _M(t){const e=W1(t);return e.length===4?Ze.emptyPath():K1(e)}function Sm(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function K1(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Rw(t,e,n){return{name:Im(t,e),fields:n.value.mapValue.fields}}function wM(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(We(g===void 0||typeof g=="string",58123),Kt.fromBase64String(g||"")):(We(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Kt.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(p){const g=p.code===void 0?Y.UNKNOWN:B1(p.code);return new le(g,p.message||"")})(l);n=new z1(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Op(t,r.document.name),a=Wr(r.document.updateTime),l=r.document.createTime?Wr(r.document.createTime):Se.min(),h=new wn({mapValue:{fields:r.document.fields}}),f=tn.newFoundDocument(i,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Ph(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Op(t,r.document),a=r.readTime?Wr(r.readTime):Se.min(),l=tn.newNoDocument(i,a),h=r.removedTargetIds||[];n=new Ph([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Op(t,r.document),a=r.removedTargetIds||[];n=new Ph([],a,i,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new uM(i,a),h=r.targetId;n=new $1(h,l)}}return n}function EM(t,e){let n;if(e instanceof Fu)n={update:Rw(t,e.key,e.value)};else if(e instanceof U1)n={delete:Im(t,e.key)};else if(e instanceof Mi)n={update:Rw(t,e.key,e.data),updateMask:kM(e.fieldMask)};else{if(!(e instanceof oM))return Ee(16599,{Vt:e.type});n={verify:Im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const h=l.transform;if(h instanceof Iu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof $a)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Su)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof xu)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw Ee(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:vM(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ee(27497)})(t,e.precondition)),n}function TM(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Wr(i.updateTime):Wr(a);return l.isEqual(Se.min())&&(l=Wr(a)),new rM(l,i.transformResults||[])})(n,e)))):[]}function IM(t,e){return{documents:[q1(t,e.path)]}}function SM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q1(t,i);const a=(function(p){if(p.length!==0)return Q1(_r.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(w){return{field:wa(w.field),direction:CM(w.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=Em(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:i}}function xM(t){let e=_M(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(_){const w=G1(_);return w instanceof _r&&E1(w)?w.getFilters():[w]})(n.where));let l=[];n.orderBy&&(l=(function(_){return _.map((w=>(function(D){return new Tu(Ea(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let w;return w=typeof _=="object"?_.value:_,Id(w)?null:w})(n.limit));let f=null;n.startAt&&(f=(function(_){const w=!!_.before,A=_.values||[];return new Qh(A,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const w=!_.before,A=_.values||[];return new Qh(A,w)})(n.endAt)),WV(e,i,l,a,h,"F",f,p)}function AM(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ea(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ea(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ea(n.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ea(n.unaryFilter.field);return At.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return At.create(Ea(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return _r.create(n.compositeFilter.filters.map((r=>G1(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function CM(t){return pM[t]}function RM(t){return mM[t]}function PM(t){return gM[t]}function wa(t){return{fieldPath:t.canonicalString()}}function Ea(t){return qt.fromServerFormat(t.fieldPath)}function Q1(t){return t instanceof At?(function(n){if(n.op==="=="){if(mw(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NAN"}};if(pw(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mw(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NAN"}};if(pw(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(n.field),op:RM(n.op),value:n.value}}})(t):t instanceof _r?(function(n){const r=n.getFilters().map((i=>Q1(i)));return r.length===1?r[0]:{compositeFilter:{op:PM(n.op),filters:r}}})(t):Ee(54877,{filter:t})}function kM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Y1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,i,a=Se.min(),l=Se.min(),h=Kt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.yt=e}}function NM(t){const e=xM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.Cn=new VM}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Ti.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class VM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(Ze.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X1=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(X1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new za(0)}static cr(){return new za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="LruGarbageCollector",MM=1048576;function bw([t,e],[n,r]){const i=Me(t,n);return i===0?Me(e,r):i}class LM{constructor(e){this.Ir=e,this.buffer=new Dt(bw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(kw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Za(n)?he(kw,"Ignoring IndexedDB error during garbage collection: ",n):await Ja(n)}await this.Vr(3e5)}))}}class jM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Td.ce);const r=new LM(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Pw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,n)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),va()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_}))))}}function FM(t,e){return new jM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.changes=new Do((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&uu(r.mutation,i,Vn.empty(),rt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const i=yo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=tu();return a.forEach(((h,f)=>{l=l.insert(h,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=yo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,h)=>{n.set(l,h)}))}))}computeViews(e,n,r,i){let a=Ns();const l=lu(),h=(function(){return lu()})();return n.forEach(((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Mi)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),uu(g.mutation,p,g.mutation.getFieldMask(),rt.now())):l.set(p.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>h.set(p,new BM(g,l.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=lu();let i=new pt(((l,h)=>l-h)),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const h of l)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||Vn.empty();g=h.applyToLocalView(p,g),r.set(f,g);const _=(i.get(h.batchId)||Le()).add(f);i=i.insert(h.batchId,_)}))})).next((()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,_=b1();g.forEach((w=>{if(!a.has(w)){const A=j1(n.get(w),r.get(w));A!==null&&_.set(w,A),a=a.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Z.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ge.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Z.resolve(yo());let h=vu,f=a;return l.next((p=>Z.forEach(p,((g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{f=f.insert(g,w)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Le()))).next((g=>({batchId:h,changes:k1(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let i=tu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=tu();return this.indexManager.getCollectionParents(e,a).next((h=>Z.forEach(h,(f=>{const p=(function(_,w){return new el(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((g=>{g.forEach(((_,w)=>{l=l.insert(_,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,tn.newInvalidDocument(g)))}));let h=tu();return l.forEach(((f,p)=>{const g=a.get(f);g!==void 0&&uu(g.mutation,p,Vn.empty(),rt.now()),Ad(n,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Wr(i.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:NM(i.bundledQuery),readTime:Wr(i.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.overlays=new pt(ge.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yo();return Z.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const i=yo(),a=n.length+1,l=new ge(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new pt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=yo(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=yo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>h.set(p,g))),!(h.size()>=i)););return Z.resolve(h)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new lM(n,r));let a=this.qr.get(n);a===void 0&&(a=Le(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Qr=new Dt(jt.$r),this.Ur=new Dt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ge(new Ze([])),r=new jt(n,e),i=new jt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new Ze([])),r=new jt(n,e),i=new jt(n,e+1);let a=Le();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new jt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(jt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new aM(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.Zr=this.Zr.add(new jt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Pg:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const h=this.Xr(l.Yr);a.push(h)})),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Me);return n.forEach((i=>{const a=new jt(i,0),l=new jt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(h=>{r=r.add(h.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const l=new jt(new ge(a),0);let h=new Dt(Me);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.Yr)),!0)}),l),Z.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,(i=>{const a=new jt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new jt(n,0),i=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.ri=e,this.docs=(function(){return new pt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=Ns();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():tn.newInvalidDocument(i))})),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ns();const l=n.path,h=new ge(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||IV(TV(g),r)<=0||(i.has(g.key)||Ad(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ee(9500)}ii(e,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new GM(this)}getSize(e){return Z.resolve(this.size)}}class GM extends UM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.persistence=e,this.si=new Do((n=>Ng(n)),Dg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Fg,this.targetCount=0,this.ai=za.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new za(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),Z.waitFor(a).next((()=>i))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Z.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Td(0),this.li=!1,this.li=!0,this.hi=new WM,this.referenceDelegate=e(this),this.Pi=new QM(this),this.indexManager=new DM,this.remoteDocumentCache=(function(i){return new KM(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new bM(n),this.Ii=new zM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new YM(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class YM extends xV{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.Ri=new Fg,this.Vi=null}static mi(e){return new Ug(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const i=ge.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jh{constructor(e,n){this.persistence=e,this.pi=new Do((r=>RV(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=FM(this,n)}static mi(e,n){return new Jh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Z.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((h=>{h||(r++,a.removeEntry(l,Se.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ah(e.data.value)),n}br(e,n,r){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Le(),i=Le();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Bg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ok()?8:AV(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new XM;return this.Ss(e,n,l).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,l,h.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(va()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",_a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(va()<=Ve.DEBUG&&he("QueryEngine","Query:",_a(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(va()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",_a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):Z.resolve())}ys(e,n){if(_w(n))return Z.resolve(null);let r=Hr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Yh(n,null,"F"),r=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Le(...a);return this.ps.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(n,h);return this.Cs(n,p,l,f.readTime)?this.ys(e,Yh(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,r,i){return _w(n)||i.isEqual(Se.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?Z.resolve(null):(va()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_a(n)),this.vs(e,l,n,EV(i,vu)).next((h=>h)))}))}Ds(e,n){let r=new Dt(R1(e));return n.forEach(((i,a)=>{Ad(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return va()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",_a(n)),this.ps.getDocumentsMatchingQuery(e,n,Ti.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="LocalStore",ZM=3e8;class eL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new pt(Me),this.xs=new Do((a=>Ng(a)),Dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $M(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function tL(t,e,n,r){return new eL(t,e,n,r)}async function Z1(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],h=[];let f=Le();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:h})))}))}))}function nL(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,g){const _=p.batch,w=_.keys();let A=Z.resolve();return w.forEach((D=>{A=A.next((()=>g.getEntry(f,D))).next((V=>{const k=p.docVersions.get(D);We(k!==null,48541),V.version.compareTo(k)<0&&(_.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),g.addEntry(V)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Le();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function eS(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function rL(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const h=[];e.targetChanges.forEach(((g,_)=>{const w=i.get(_);if(!w)return;h.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,_))));let A=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Kt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),i=i.insert(_,A),(function(V,k,$){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=ZM?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,A,g)&&h.push(n.Pi.updateTargetData(a,A))}));let f=Ns(),p=Le();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),h.push(sL(a,l,e.documentUpdates).next((g=>{f=g.ks,p=g.qs}))),!r.isEqual(Se.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(g)}return Z.waitFor(h).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.Ms=i,a)))}function sL(t,e,n){let r=Le(),i=Le();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Ns();return n.forEach(((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):he($g,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function iL(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Pg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function oL(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Z.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new pi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function xm(t,e,n){const r=Re(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Za(l))throw l;he($g,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Nw(t,e,n){const r=Re(t);let i=Se.min(),a=Le();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,g){const _=Re(f),w=_.xs.get(g);return w!==void 0?Z.resolve(_.Ms.get(w)):_.Pi.getTargetData(p,g)})(r,l,Hr(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Se.min(),n?a:Le()))).next((h=>(aL(r,KV(e),h),{documents:h,Qs:a})))))}function aL(t,e,n){let r=t.Os.get(e)||Se.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class Dw{constructor(){this.activeTargetIds=ZV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lL{constructor(){this.Mo=new Dw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Dw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="ConnectivityMonitor";class Mw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Vw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Vw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Am(){return dh===null?dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",cL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=Am(),h=this.zo(e,n.toUriEncodedString());he(jp,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:p}=new URL(h),g=Ro(p);return this.Jo(e,h,f,r,g).then((_=>(he(jp,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw ja(jp,`RPC '${e}' ${l} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=cL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class fL extends hL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=Am();return new Promise(((h,f)=>{const p=new e1;p.setWithCredentials(!0),p.listenOnce(t1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case xh.NO_ERROR:const _=p.getResponseJson();he(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case xh.TIMEOUT:he(Zt,`RPC '${e}' ${l} timed out`),f(new le(Y.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const w=p.getStatus();if(he(Zt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const V=(function($){const F=$.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(F)>=0?F:Y.UNKNOWN})(D.status);f(new le(V,D.message))}else f(new le(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new le(Y.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(Zt,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);he(Zt,`RPC '${e}' ${l} sending request:`,i),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=Am(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=s1(),h=r1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");he(Zt,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);this.I_(_);let w=!1,A=!1;const D=new dL({Yo:k=>{A?he(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(w||(he(Zt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),he(Zt,`RPC '${e}' stream ${i} sending:`,k),_.send(k))},Zo:()=>_.close()}),V=(k,$,F)=>{k.listen($,(z=>{try{F(z)}catch(X){setTimeout((()=>{throw X}),0)}}))};return V(_,eu.EventType.OPEN,(()=>{A||(he(Zt,`RPC '${e}' stream ${i} transport opened.`),D.o_())})),V(_,eu.EventType.CLOSE,(()=>{A||(A=!0,he(Zt,`RPC '${e}' stream ${i} transport closed`),D.a_(),this.E_(_))})),V(_,eu.EventType.ERROR,(k=>{A||(A=!0,ja(Zt,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),D.a_(new le(Y.UNAVAILABLE,"The operation could not be completed")))})),V(_,eu.EventType.MESSAGE,(k=>{if(!A){const $=k.data[0];We(!!$,16349);const F=$,z=F?.error||F[0]?.error;if(z){he(Zt,`RPC '${e}' stream ${i} received error:`,z);const X=z.status;let q=(function(x){const C=St[x];if(C!==void 0)return B1(C)})(X),J=z.message;q===void 0&&(q=Y.INTERNAL,J="Unknown error status: "+X+" with message "+z.message),A=!0,D.a_(new le(q,J)),_.close()}else he(Zt,`RPC '${e}' stream ${i} received:`,$),D.u_($)}})),V(h,n1.STAT_EVENT,(k=>{k.stat===pm.PROXY?he(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===pm.NOPROXY&&he(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return new yM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="PersistentStream";class nS{constructor(e,n,r,i,a,l,h,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new le(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Lw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(Lw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pL extends nS{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wM(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Se.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Se.min():l.readTime?Wr(l.readTime):Se.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Sm(this.serializer),n.addTarget=(function(a,l){let h;const f=l.target;if(h=_m(f)?{documents:IM(a,f)}:{query:SM(a,f).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=H1(a,l.resumeToken);const p=Em(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Se.min())>0){h.readTime=Xh(a,l.snapshotVersion.toTimestamp());const p=Em(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=AM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Sm(this.serializer),n.removeTarget=e,this.q_(n)}}class mL extends nS{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=TM(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Sm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>EM(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{}class yL extends gL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Tm(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(Y.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Ho(e,Tm(n,r),i,l,h,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Y.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class _L{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Vo(this)&&(he(Ao,"Restarting streams for network reachability change."),await(async function(f){const p=Re(f);p.Ea.add(4),await Bu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await bd(p)})(this))}))})),this.Ra=new vL(r,i)}}async function bd(t){if(Vo(t))for(const e of t.da)await e(!0)}async function Bu(t){for(const e of t.da)await e(!1)}function rS(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qg(n)?Wg(n):tl(n).O_()&&Hg(n,e))}function zg(t,e){const n=Re(t),r=tl(n);n.Ia.delete(e),r.O_()&&sS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Vo(n)&&n.Ra.set("Unknown"))}function Hg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tl(t).Y_(e)}function sS(t,e){t.Va.Ue(e),tl(t).Z_(e)}function Wg(t){t.Va=new fM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),tl(t).start(),t.Ra.ua()}function qg(t){return Vo(t)&&!tl(t).x_()&&t.Ia.size>0}function Vo(t){return Re(t).Ea.size===0}function iS(t){t.Va=void 0}async function wL(t){t.Ra.set("Online")}async function EL(t){t.Ia.forEach(((e,n)=>{Hg(t,e)}))}async function TL(t,e){iS(t),qg(t)?(t.Ra.ha(e),Wg(t)):t.Ra.set("Unknown")}async function IL(t,e,n){if(t.Ra.set("Online"),e instanceof z1&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,l),i.Ia.delete(h),i.Va.removeTarget(h))})(t,e)}catch(r){he(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zh(t,r)}else if(e instanceof Ph?t.Va.Ze(e):e instanceof $1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const r=await eS(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const h=a.Va.Tt(l);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,l))}})),h.targetMismatches.forEach(((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Kt.EMPTY_BYTE_STRING,g.snapshotVersion)),sS(a,f);const _=new pi(g.target,f,p,g.sequenceNumber);Hg(a,_)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){he(Ao,"Failed to raise snapshot:",r),await Zh(t,r)}}async function Zh(t,e,n){if(!Za(e))throw e;t.Ea.add(1),await Bu(t),t.Ra.set("Offline"),n||(n=()=>eS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he(Ao,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bd(t)}))}function oS(t,e){return e().catch((n=>Zh(t,n,e)))}async function Nd(t){const e=Re(t),n=Ai(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pg;for(;SL(e);)try{const i=await iL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,xL(e,i)}catch(i){await Zh(e,i)}aS(e)&&lS(e)}function SL(t){return Vo(t)&&t.Ta.length<10}function xL(t,e){t.Ta.push(e);const n=Ai(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aS(t){return Vo(t)&&!Ai(t).x_()&&t.Ta.length>0}function lS(t){Ai(t).start()}async function AL(t){Ai(t).ra()}async function CL(t){const e=Ai(t);for(const n of t.Ta)e.ea(n.mutations)}async function RL(t,e,n){const r=t.Ta.shift(),i=Lg.from(r,e,n);await oS(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Nd(t)}async function PL(t,e){e&&Ai(t).X_&&await(async function(r,i){if((function(l){return cM(l)&&l!==Y.ABORTED})(i.code)){const a=r.Ta.shift();Ai(r).B_(),await oS(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Nd(r)}})(t,e),aS(t)&&lS(t)}async function Ow(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),he(Ao,"RemoteStore received new credentials");const r=Vo(n);n.Ea.add(3),await Bu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bd(n)}async function kL(t,e){const n=Re(t);e?(n.Ea.delete(2),await bd(n)):e||(n.Ea.add(2),await Bu(n),n.Ra.set("Unknown"))}function tl(t){return t.ma||(t.ma=(function(n,r,i){const a=Re(n);return a.sa(),new pL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:wL.bind(null,t),t_:EL.bind(null,t),r_:TL.bind(null,t),H_:IL.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),qg(t)?Wg(t):t.Ra.set("Unknown")):(await t.ma.stop(),iS(t))}))),t.ma}function Ai(t){return t.fa||(t.fa=(function(n,r,i){const a=Re(n);return a.sa(),new mL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:AL.bind(null,t),r_:PL.bind(null,t),ta:CL.bind(null,t),na:RL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Nd(t)):(await t.fa.stop(),t.Ta.length>0&&(he(Ao,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new Kg(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(t,e){if(bs("AsyncQueue",`${e}: ${t}`),Za(t))return new le(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(e){return new Da(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=tu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Da;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.ga=new pt(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ha{constructor(e,n,r,i,a,l,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((h=>{l.push({type:0,doc:h})})),new Ha(e,n,Da.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NL{constructor(){this.queries=Fw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Re(n),a=i.queries;i.queries=Fw(),a.forEach(((l,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new le(Y.ABORTED,"Firestore shutting down"))}}function Fw(){return new Do((t=>C1(t)),xd)}async function DL(t,e){const n=Re(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new bL,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const h=Gg(l,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Qg(n)}async function VL(t,e){const n=Re(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ML(t,e){const n=Re(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.Sa)h.Fa(i)&&(r=!0);l.wa=i}}r&&Qg(n)}function LL(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Qg(t){t.Ca.forEach((e=>{e.next()}))}var Cm,Uw;(Uw=Cm||(Cm={})).Ma="default",Uw.Cache="cache";class OL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.key=e}}class cS{constructor(e){this.key=e}}class jL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=R1(e),this.tu=new Da(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new jw,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,_)=>{const w=i.get(g),A=Ad(this.query,_)?_:null,D=!!w&&this.mutatedKeys.has(w.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;w&&A?w.data.isEqual(A.data)?D!==V&&(r.track({type:3,doc:A}),k=!0):this.su(w,A)||(r.track({type:2,doc:A}),k=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(h=!0)):!w&&A?(r.track({type:0,doc:A}),k=!0):w&&!A&&(r.track({type:1,doc:w}),k=!0,(f||p)&&(h=!0)),k&&(A?(l=l.add(A),a=V?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,_)=>(function(A,D){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:k})}};return V(A)-V(D)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(r),i=i??!1;const h=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new Ha(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new cS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new uS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ha.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yg="SyncEngine";class FL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UL{constructor(e){this.key=e,this.hu=!1}}class BL{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Do((h=>C1(h)),xd),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ge.comparator),this.Au=new Map,this.Ru=new Fg,this.Vu={},this.mu=new Map,this.fu=za.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $L(t,e,n=!0){const r=gS(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await hS(r,e,n,!0),i}async function zL(t,e){const n=gS(t);await hS(n,e,!0,!1)}async function hS(t,e,n,r){const i=await oL(t.localStore,Hr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await HL(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&rS(t.remoteStore,i),h}async function HL(t,e,n,r,i){t.pu=(_,w,A)=>(async function(V,k,$,F){let z=k.view.ru($);z.Cs&&(z=await Nw(V.localStore,k.query,!1).then((({documents:R})=>k.view.ru(R,z))));const X=F&&F.targetChanges.get(k.targetId),q=F&&F.targetMismatches.get(k.targetId)!=null,J=k.view.applyChanges(z,V.isPrimaryClient,X,q);return $w(V,k.targetId,J.au),J.snapshot})(t,_,w,A);const a=await Nw(t.localStore,e,!0),l=new jL(e,a.Qs),h=l.ru(a.documents),f=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(h,t.isPrimaryClient,f);$w(t,n,p.au);const g=new FL(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function WL(t,e,n){const r=Re(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!xd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zg(r.remoteStore,i.targetId),Rm(r,i.targetId)})).catch(Ja)):(Rm(r,i.targetId),await xm(r.localStore,i.targetId,!0))}async function qL(t,e){const n=Re(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zg(n.remoteStore,r.targetId))}async function KL(t,e,n){const r=eO(t);try{const i=await(function(l,h){const f=Re(l),p=rt.now(),g=h.reduce(((A,D)=>A.add(D.key)),Le());let _,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Ns(),V=Le();return f.Ns.getEntries(A,g).next((k=>{D=k,D.forEach((($,F)=>{F.isValidDocument()||(V=V.add($))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,D))).next((k=>{_=k;const $=[];for(const F of h){const z=iM(F,_.get(F.key).overlayedDocument);z!=null&&$.push(new Mi(F.key,z,v1(z.value.mapValue),yr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,$,h)})).next((k=>{w=k;const $=k.applyToLocalDocumentSet(_,V);return f.documentOverlayCache.saveOverlays(A,k.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:k1(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,h,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new pt(Me)),p=p.insert(h,f),l.Vu[l.currentUser.toKey()]=p})(r,i.batchId,n),await $u(r,i.changes),await Nd(r.remoteStore)}catch(i){const a=Gg(i,"Failed to persist write");n.reject(a)}}async function dS(t,e){const n=Re(t);try{const r=await rL(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?We(l.hu,14607):i.removedDocuments.size>0&&(We(l.hu,42227),l.hu=!1))})),await $u(n,r,e)}catch(r){await Ja(r)}}function Bw(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const h=l.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(l,h){const f=Re(l);f.onlineState=h;let p=!1;f.queries.forEach(((g,_)=>{for(const w of _.Sa)w.va(h)&&(p=!0)})),p&&Qg(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GL(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new pt(ge.comparator);l=l.insert(a,tn.newNoDocument(a,Se.min()));const h=Le().add(a),f=new Pd(Se.min(),new Map,new pt(Me),l,h);await dS(r,f),r.du=r.du.remove(a),r.Au.delete(e),Xg(r)}else await xm(r.localStore,e,!1).then((()=>Rm(r,e,n))).catch(Ja)}async function QL(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await nL(n.localStore,e);pS(n,r,null),fS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $u(n,i)}catch(i){await Ja(i)}}async function YL(t,e,n){const r=Re(t);try{const i=await(function(l,h){const f=Re(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next((_=>(We(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);pS(r,e,n),fS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $u(r,i)}catch(i){await Ja(i)}}function fS(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function pS(t,e,n){const r=Re(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Rm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||mS(t,r)}))}function mS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Xg(t))}function $w(t,e,n){for(const r of n)r instanceof uS?(t.Ru.addReference(r.key,e),XL(t,r)):r instanceof cS?(he(Yg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mS(t,r.key)):Ee(19791,{wu:r})}function XL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(Yg,"New document in limbo: "+n),t.Eu.add(r),Xg(t))}function Xg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(Ze.fromString(e)),r=t.fu.next();t.Au.set(r,new UL(n)),t.du=t.du.insert(n,r),rS(t.remoteStore,new pi(Hr(x1(n.path)),r,"TargetPurposeLimboResolution",Td.ce))}}async function $u(t,e,n){const r=Re(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{l.push(r.pu(f,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){i.push(p);const g=Bg.As(f.targetId,p);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,p){const g=Re(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>Z.forEach(p,(w=>Z.forEach(w.Es,(A=>g.persistence.referenceDelegate.addReference(_,w.targetId,A))).next((()=>Z.forEach(w.ds,(A=>g.persistence.referenceDelegate.removeReference(_,w.targetId,A)))))))))}catch(_){if(!Za(_))throw _;he($g,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const A=g.Ms.get(w),D=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(D);g.Ms=g.Ms.insert(w,V)}}})(r.localStore,a))}async function JL(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){he(Yg,"User change. New user:",e.toKey());const r=await Z1(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new le(Y.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $u(n,r.Ls)}}function ZL(t,e){const n=Re(t),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let i=Le();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const h=n.Tu.get(l);i=i.unionWith(h.view.nu)}return i}}function gS(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GL.bind(null,e),e.Pu.H_=ML.bind(null,e.eventManager),e.Pu.yu=LL.bind(null,e.eventManager),e}function eO(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YL.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tL(this.persistence,new JM,e.initialUser,this.serializer)}Cu(e){return new J1(Ug.mi,this.serializer)}Du(e){return new lL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class tO extends ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof Jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new J1((r=>Jh.mi(r,n)),this.serializer)}}class Pm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JL.bind(null,this.syncEngine),await kL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NL})()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),r=(function(a){return new fL(a)})(e.databaseInfo);return(function(a,l,h,f){return new yL(a,l,h,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,h){return new _L(r,i,a,l,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Bw(this.syncEngine,n,0)),(function(){return Mw.v()?new Mw:new uL})())}createSyncEngine(e,n){return(function(i,a,l,h,f,p,g){const _=new BL(i,a,l,h,f,p);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);he(Ao,"RemoteStore shutting down."),r.Ea.add(5),await Bu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class rO{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=Rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{he(Ci,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(he(Ci,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Up(t,e){t.asyncQueue.verifyOperationInProgress(),he(Ci,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Z1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function zw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sO(t);he(Ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Ow(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Ow(e.remoteStore,i))),t._onlineComponents=e}async function sO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Ci,"Using user provided OfflineComponentProvider");try{await Up(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await Up(t,new ed)}}else he(Ci,"Using default OfflineComponentProvider"),await Up(t,new tO(void 0));return t._offlineComponents}async function yS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Ci,"Using user provided OnlineComponentProvider"),await zw(t,t._uninitializedComponentsProvider._online)):(he(Ci,"Using default OnlineComponentProvider"),await zw(t,new Pm))),t._onlineComponents}function iO(t){return yS(t).then((e=>e.syncEngine))}async function oO(t){const e=await yS(t),n=e.eventManager;return n.onListen=$L.bind(null,e.syncEngine),n.onUnlisten=WL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qL.bind(null,e.syncEngine),n}function aO(t,e,n={}){const r=new _i;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,f,p){const g=new nO({next:w=>{g.Nu(),l.enqueueAndForget((()=>VL(a,_))),w.fromCache&&f.source==="server"?p.reject(new le(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new OL(h,g,{includeMetadataChanges:!0,qa:!0});return DL(a,_)})(await oO(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firestore.googleapis.com",Ww=!0;class qw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_S,this.ssl=Ww}else this.host=e.host,this.ssl=e.ssl??Ww;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MM)throw new le(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cV;switch(r.type){case"firstParty":return new pV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Hw.get(n);r&&(he("ComponentProvider","Removing Datastore"),Hw.delete(n),r.terminate())})(this),Promise.resolve()}}function lO(t,e,n,r={}){t=Ei(t,Dd);const i=Ro(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(ag(`https://${h}`),lg("Firestore",!0)),a.host!==_S&&a.host!==h&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:i,emulatorOptions:r};if(!Rs(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=en.MOCK_USER;else{p=HT(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new le(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new en(_)}t._authCredentials=new hV(new o1(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ju(n,Rt._jsonSchema))return new Rt(e,r||null,new ge(Ze.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Ct("string",Rt._jsonSchemaVersion),referencePath:Ct("string")};class wi extends Li{constructor(e,n,r){super(e,n,x1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ge(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function Ln(t,e,...n){if(t=ft(t),a1("collection","path",e),t instanceof Dd){const r=Ze.fromString(e,...n);return iw(r),new wi(t,null,r)}{if(!(t instanceof Rt||t instanceof wi))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return iw(r),new wi(t.firestore,null,r)}}function Vd(t,e,...n){if(t=ft(t),arguments.length===1&&(e=Rg.newId()),a1("doc","path",e),t instanceof Dd){const r=Ze.fromString(e,...n);return sw(r),new Rt(t,null,new ge(r))}{if(!(t instanceof Rt||t instanceof wi))throw new le(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return sw(r),new Rt(t.firestore,t instanceof wi?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="AsyncQueue";class Gw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tS(this,"async_queue_retry"),this._c=()=>{const r=Fp();r&&he(Kw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _i;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Za(e))throw e;he(Kw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",Qw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Kg.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ee(47125,{Pc:Qw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Qw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zu extends Dd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Gw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gw(e),this._firestoreClient=void 0,await e}}}function uO(t,e){const n=typeof t=="object"?t:pd(),r=typeof t=="string"?t:Kh,i=Ni(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=BT("firestore");a&&lO(i,...a)}return i}function wS(t){if(t._terminated)throw new le(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cO(t),t._firestoreClient}function cO(t){const e=t._freezeSettings(),n=(function(i,a,l,h){return new bV(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new rO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Kt.fromBase64String(e))}catch(n){throw new le(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ju(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ct("string",Kn._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(e){if(ju(e,qr._jsonSchema))return new qr(e.latitude,e.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:Ct("string",qr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ju(e,Kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Kr(e.vectorValues);throw new le(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kr._jsonSchemaVersion="firestore/vectorValue/1.0",Kr._jsonSchema={type:Ct("string",Kr._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^__.*__$/;class dO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class ES{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class Ld{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ld({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return td(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TS(this.Ac)&&hO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class fO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kd(e)}Cc(e,n,r,i=!1){return new Ld({Ac:e,methodName:n,Dc:r,path:qt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(t){const e=t._freezeSettings(),n=kd(t._databaseId);return new fO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IS(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);ty("Data must be an object, but it was:",l,r);const h=SS(r,l);let f,p;if(a.merge)f=new Vn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const w=km(e,_,n);if(!l.contains(w))throw new le(Y.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);AS(g,w)||g.push(w)}f=new Vn(g),p=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=l.fieldTransforms;return new dO(new wn(h),f,p)}class jd extends nl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function pO(t,e,n){return new Ld({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jg extends nl{_toFieldTransform(e){return new Mg(e.path,new Iu)}isEqual(e){return e instanceof Jg}}class Zg extends nl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=pO(this,e,!0),r=this.vc.map((a=>rl(a,n))),i=new $a(r);return new Mg(e.path,i)}isEqual(e){return e instanceof Zg&&Rs(this.vc,e.vc)}}class ey extends nl{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new xu(e.serializer,D1(e.serializer,this.Fc));return new Mg(e.path,n)}isEqual(e){return e instanceof ey&&this.Fc===e.Fc}}function mO(t,e,n,r){const i=t.Cc(1,e,n);ty("Data must be an object, but it was:",i,r);const a=[],l=wn.empty();Vi(r,((f,p)=>{const g=ny(e,f,n);p=ft(p);const _=i.yc(g);if(p instanceof jd)a.push(g);else{const w=rl(p,_);w!=null&&(a.push(g),l.set(g,w))}}));const h=new Vn(a);return new ES(l,h,i.fieldTransforms)}function gO(t,e,n,r,i,a){const l=t.Cc(1,e,n),h=[km(e,r,n)],f=[i];if(a.length%2!=0)throw new le(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)h.push(km(e,a[w])),f.push(a[w+1]);const p=[],g=wn.empty();for(let w=h.length-1;w>=0;--w)if(!AS(p,h[w])){const A=h[w];let D=f[w];D=ft(D);const V=l.yc(A);if(D instanceof jd)p.push(A);else{const k=rl(D,V);k!=null&&(p.push(A),g.set(A,k))}}const _=new Vn(p);return new ES(g,_,l.fieldTransforms)}function yO(t,e,n,r=!1){return rl(n,t.Cc(r?4:3,e))}function rl(t,e){if(xS(t=ft(t)))return ty("Unsupported field value:",e,t),SS(t,e);if(t instanceof nl)return(function(r,i){if(!TS(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const h of r){let f=rl(h,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rt.fromDate(r);return{timestampValue:Xh(i.serializer,a)}}if(r instanceof rt){const a=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xh(i.serializer,a)}}if(r instanceof qr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:H1(i.serializer,r._byteString)};if(r instanceof Rt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:jg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kr)return(function(l,h){return{mapValue:{fields:{[g1]:{stringValue:y1},[Gh]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Vg(h.serializer,p)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Ed(r)}`)})(t,e)}function SS(t,e){const n={};return c1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(t,((r,i)=>{const a=rl(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function xS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof qr||t instanceof Kn||t instanceof Rt||t instanceof nl||t instanceof Kr)}function ty(t,e,n){if(!xS(n)||!l1(n)){const r=Ed(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function km(t,e,n){if((e=ft(e))instanceof Md)return e._internalPath;if(typeof e=="string")return ny(t,e);throw td("Field path arguments must be of type string or ",t,!1,void 0,n)}const vO=new RegExp("[~\\*/\\[\\]]");function ny(t,e,n){if(e.search(vO)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Md(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function td(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new le(Y.INVALID_ARGUMENT,h+t+f)}function AS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _O extends CS{data(){return super.data()}}function Fd(t,e){return typeof e=="string"?ny(t,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class sy extends ry{}function Ri(t,e,...n){let r=[];e instanceof ry&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof iy)).length,h=a.filter((f=>f instanceof Ud)).length;if(l>1||l>0&&h>0)throw new le(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Ud extends sy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ud(e,n,r)}_apply(e){const n=this._parse(e);return RS(e._query,n),new Li(e.firestore,e.converter,wm(e._query,n))}_parse(e){const n=Od(e.firestore);return(function(a,l,h,f,p,g,_){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new le(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Xw(_,g);const D=[];for(const V of _)D.push(Yw(f,a,V));w={arrayValue:{values:D}}}else w=Yw(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Xw(_,g),w=yO(h,l,_,g==="in"||g==="not-in");return At.create(p,g,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Co(t,e,n){const r=e,i=Fd("where",t);return Ud._create(i,r,n)}class iy extends ry{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:_r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const h=a.getFlattenedFilters();for(const f of h)RS(l,f),l=wm(l,f)})(e._query,n),new Li(e.firestore,e.converter,wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class oy extends sy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new oy(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tu(a,l)})(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new el(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function EO(t,e="asc"){const n=e,r=Fd("orderBy",t);return oy._create(r,n)}class ay extends sy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ay(e,n,r)}_apply(e){return new Li(e.firestore,e.converter,Yh(e._query,this._limit,this._limitType))}}function TO(t){return ay._create("limit",t,"F")}function Yw(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new le(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A1(e)&&n.indexOf("/")!==-1)throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!ge.isDocumentKey(r))throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fw(t,new ge(r))}if(n instanceof Rt)return fw(t,n._key);throw new le(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(n)}.`)}function Xw(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RS(t,e){const n=(function(i,a){for(const l of i)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IO{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vi(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Gh].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new Kr(n)}convertGeoPoint(e){return new qr(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=Ii(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);We(Y1(r),9688,{name:e});const i=new wu(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return i.isEqual(n)||bs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class fh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends CS{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:Ct("string",Va._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class kh extends Va{data(e={}){return super.data(e)}}class Ma{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new kh(this._firestore,this._userDataWriter,r.key,r,new fh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((h=>{const f=new kh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new fh(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new kh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new fh(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:SO(h.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}Ma._jsonSchemaVersion="firestore/querySnapshot/1.0",Ma._jsonSchema={type:Ct("string",Ma._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class xO extends IO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function Jr(t){t=Ei(t,Li);const e=Ei(t.firestore,zu),n=wS(e),r=new xO(e);return wO(t._query),aO(n,t._query).then((i=>new Ma(e,r,t,i)))}function kS(t,e,n){t=Ei(t,Rt);const r=Ei(t.firestore,zu),i=PS(t.converter,e);return ly(r,[IS(Od(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,yr.none())])}function Bd(t,e,n,...r){t=Ei(t,Rt);const i=Ei(t.firestore,zu),a=Od(i);let l;return l=typeof(e=ft(e))=="string"||e instanceof Md?gO(a,"updateDoc",t._key,e,n,r):mO(a,"updateDoc",t._key,e),ly(i,[l.toMutation(t._key,yr.exists(!0))])}function Jw(t,e){const n=Ei(t.firestore,zu),r=Vd(t),i=PS(t.converter,e);return ly(n,[IS(Od(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then((()=>r))}function ly(t,e){return(function(r,i){const a=new _i;return r.asyncQueue.enqueueAndForget((async()=>KL(await iO(r),i,a))),a.promise})(wS(t),e)}function AO(){return new Jg("serverTimestamp")}function bS(...t){return new Zg("arrayUnion",t)}function CO(t){return new ey("increment",t)}(function(e,n=!0){(function(i){Xa=i})(ko),vr(new Xn("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new zu(new dV(r.getProvider("auth-internal")),new mV(l,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(p.options.projectId,g)})(l,i),l);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Tn(ew,tw,e),Tn(ew,tw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebasestorage.googleapis.com",RO="storageBucket",PO=120*1e3,kO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Zn{constructor(e,n,r=0){super(Bp(e),`Firebase Storage: ${n} (${Bp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ts.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zr||(Zr={}));function Bp(t){return"storage/"+t}function bO(){const t="An unknown error occurred, please check the error payload for server response.";return new ts(Zr.UNKNOWN,t)}function NO(){return new ts(Zr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DO(){return new ts(Zr.CANCELED,"User canceled the upload/download.")}function VO(t){return new ts(Zr.INVALID_URL,"Invalid URL '"+t+"'.")}function MO(t){return new ts(Zr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Zw(t){return new ts(Zr.INVALID_ARGUMENT,t)}function DS(){return new ts(Zr.APP_DELETED,"The Firebase app was deleted.")}function LO(t){return new ts(Zr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=mr.makeFromUrl(e,n)}catch{return new mr(e,"")}if(r.path==="")return r;throw MO(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function p(X){X.path_=decodeURIComponent(X.path)}const g="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${g}/b/${i}/o${w}`,"i"),D={bucket:1,path:3},V=n===NS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",$=new RegExp(`^https?://${V}/${i}/${k}`,"i"),z=[{regex:h,indices:f,postModify:a},{regex:A,indices:D,postModify:p},{regex:$,indices:{bucket:1,path:2},postModify:p}];for(let X=0;X<z.length;X++){const q=z[X],J=q.regex.exec(e);if(J){const R=J[q.indices.bucket];let x=J[q.indices.path];x||(x=""),r=new mr(R,x),q.postModify(r);break}}if(r==null)throw VO(e);return r}}class OO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t,e,n){let r=1,i=null,a=null,l=!1,h=0;function f(){return h===2}let p=!1;function g(...k){p||(p=!0,e.apply(null,k))}function _(k){i=setTimeout(()=>{i=null,t(A,f())},k)}function w(){a&&clearTimeout(a)}function A(k,...$){if(p){w();return}if(k){w(),g.call(null,k,...$);return}if(f()||l){w(),g.call(null,k,...$);return}r<64&&(r*=2);let z;h===1?(h=2,z=0):z=(r+Math.random())*1e3,_(z)}let D=!1;function V(k){D||(D=!0,w(),!p&&(i!==null?(k||(h=2),clearTimeout(i),_(0)):k||(h=1)))}return _(0),a=setTimeout(()=>{l=!0,V(!0)},n),V}function FO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){return t!==void 0}function eE(t,e,n,r){if(r<e)throw Zw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Zw(`Invalid value for '${t}'. Expected ${n} or less.`)}function BO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var nd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nd||(nd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r,i,a,l,h,f,p,g,_,w=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=w,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,V)=>{this.resolve_=D,this.reject_=V,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ph(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const h=a.getErrorCode()===nd.NO_ERROR,f=a.getStatus();if(!h||$O(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===nd.ABORT;r(!1,new ph(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new ph(p,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());UO(f)?a(f):a()}catch(f){l(f)}else if(h!==null){const f=bO();f.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,f)):l(f)}else if(i.canceled){const f=this.appDelete_?DS():DO();l(f)}else{const f=NO();l(f)}};this.canceled_?n(!1,new ph(!1,null,!0)):this.backoffId_=jO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ph{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function HO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function GO(t,e,n,r,i,a,l=!0,h=!1){const f=BO(t.urlParams),p=t.url+f,g=Object.assign({},t.headers);return qO(g,e),HO(g,n),WO(g,a),KO(g,r),new zO(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this._service=e,n instanceof mr?this._location=n:this._location=mr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rd(e,n)}get root(){const e=new mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YO(this._location.path)}get storage(){return this._service}get parent(){const e=QO(this._location.path);if(e===null)return null;const n=new mr(this._location.bucket,e);return new rd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LO(e)}}function tE(t,e){const n=e?.[RO];return n==null?null:mr.makeFromBucketSpec(n,t)}function XO(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ro(e);i&&(ag(`https://${t.host}/b`),lg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:HT(a,t.app.options.projectId))}class JO{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=NS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PO,this._maxUploadRetryTime=kO,this._requests=new Set,i!=null?this._bucket=mr.makeFromBucketSpec(i,this._host):this._bucket=tE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mr.makeFromBucketSpec(this._url,e):this._bucket=tE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rd(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new OO(DS());{const l=GO(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const nE="@firebase/storage",rE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="storage";function ZO(t=pd(),e){t=ft(t);const r=Ni(t,VS).getImmediate({identifier:e}),i=BT("storage");return i&&e4(r,...i),r}function e4(t,e,n,r={}){XO(t,e,n,r)}function t4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new JO(n,r,i,e,ko)}function n4(){vr(new Xn(VS,t4,"PUBLIC").setMultipleInstances(!0)),Tn(nE,rE,""),Tn(nE,rE,"esm2020")}n4();const r4={apiKey:"AIzaSyD8QCty87P075OsXycE5dWclXFzcywpd0o",authDomain:"telbin.firebaseapp.com",projectId:"telbin",storageBucket:"telbin.firebasestorage.app",messagingSenderId:"303025158806",appId:"1:303025158806:web:6b12ba8368493bcc99a0b7",measurementId:"G-54CTE31TFL"},$d=XT(r4);iV($d);const Gr=bI($d),s4=new Is,un=uO($d);ZO($d);const i4=async()=>{const t=Gr.currentUser;if(!t){console.error("No authenticated user found.");return}const e=t.email;if(!e){console.error("User has no email.");return}const n=Ri(Ln(un,"User"),Co("email","==",e));if(!(await Jr(n)).empty){console.log("User already exists in Firestore.");return}const i=Ri(Ln(un,"Medal"),Co("minPoints","==",0)),a=await Jr(i);if(a.empty){console.error("Iron medal not found in Medal collection.");return}const l=a.docs[0],h=l.data(),f=l.id,p=Vd(Ln(un,"User"));await kS(p,{userId:p.id,email:e,nim:"Update your NIM",fullName:"Update your name",phoneNumber:"Update your phone number",createdAt:AO(),medals:[{medalID:f,name:h.name,emoji:h.emoji,minPoints:h.minPoints}],history:[],totalPoints:0,claimedRewards:[]}),console.log("New user document created:",p.id)};function o4({onLogin:t}){const[e,n]=b.useState(""),[r,i]=b.useState(""),[a,l]=b.useState(!1),[h,f]=b.useState(""),p=async _=>{_.preventDefault(),l(!0),f("");try{await SN(Gr,e,r),t()}catch(w){switch(w.code){case"auth/user-not-found":f("User not found. Please check your email.");break;case"auth/wrong-password":f("Incorrect password. Try again.");break;case"auth/invalid-email":f("Invalid email format.");break;case"auth/invalid-credential":f("Invalid credentials. Please try again.");break;default:f("Login failed: "+w.message);break}}finally{l(!1)}},g=async()=>{l(!0),f("");try{await QN(Gr,s4),await i4(),t()}catch(_){_.code==="auth/popup-closed-by-user"?f("Login cancelled by user."):f("Google login failed: "+_.message)}finally{l(!1)}};return T.jsx("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center px-8",children:T.jsxs("div",{className:"w-full max-w-md",children:[T.jsxs("div",{className:"flex flex-col items-center mb-8",children:[T.jsx("div",{className:"w-20 h-20 bg-[#34A853] rounded-3xl flex items-center justify-center mb-4 shadow-lg",children:T.jsx(MT,{className:"w-12 h-12 text-white"})}),T.jsx("h1",{className:"text-[#34A853]",children:"TelBin"}),T.jsx("p",{className:"text-gray-500",children:"Smart Waste Sorting Assistant"})]}),T.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-gray-100",children:[T.jsx("h2",{className:"text-center mb-6",children:"Login"}),T.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h&&T.jsxs("div",{className:"flex items-center bg-red-100 border border-red-400 px-4 py-2 rounded transition-all text-red-600",children:[T.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsx("span",{className:"text-sm text-red-600",children:h})]}),T.jsxs("div",{className:"relative",children:[T.jsx(RP,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),T.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:_=>{n(_.target.value),f("")},className:`w-full pl-12 pr-4 py-3 rounded-full border-2 focus:outline-none transition-colors ${h?"border-red-400":"border-gray-200 focus:border-[#34A853]"}`,required:!0})]}),T.jsxs("div",{className:"relative",children:[T.jsx(VT,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),T.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:_=>{i(_.target.value),f("")},className:`w-full pl-12 pr-4 py-3 rounded-full border-2 focus:outline-none transition-colors ${h?"border-red-400":"border-gray-200 focus:border-[#34A853]"}`,required:!0})]}),T.jsx("button",{type:"submit",disabled:a,className:"w-full bg-[#34A853] text-white rounded-full py-3 hover:bg-green-600",children:a?"Logging in...":"Login with Email"})]}),T.jsxs("div",{className:"relative my-6",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("div",{className:"w-full border-t border-gray-200"})}),T.jsx("div",{className:"relative flex justify-center",children:T.jsx("span",{className:"px-4 bg-white text-gray-500",children:"or"})})]}),T.jsxs("button",{type:"button",onClick:g,disabled:a,className:"w-full border-2 border-gray-200 rounded-full py-3 flex items-center justify-center gap-2 hover:bg-gray-50",children:[T.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]})]})})}function a4(){const t=bi(),[e,n]=b.useState(""),[r,i]=b.useState(0),[a,l]=b.useState([]),h=g=>{const _=g instanceof Date?g:new Date(g),A=new Date().getTime()-_.getTime(),D=Math.floor(A/(1e3*60)),V=Math.floor(D/60),k=Math.floor(V/24);return k>0?`${k}d ago`:V>0?`${V}h ago`:D>0?`${D}m ago`:"Just now"},f=["Rinse plastic bottles before disposing!","Remove caps from bottles before recycling","Cardboard should be flattened to save space","Check local guidelines for e-waste disposal","Organic waste can be composted at home"],p=f[Math.floor(Math.random()*f.length)];return b.useEffect(()=>{const g=async()=>{const w=Gr.currentUser;if(!w||!w.email)return;const A=Ri(Ln(un,"User"),Co("email","==",w.email)),D=await Jr(A);if(!D.empty){const V=D.docs[0].data();n(V.fullName),i(V.totalPoints)}},_=async()=>{const w=Ri(Ln(un,"Report"),EO("timestampISO","desc"),TO(5)),D=(await Jr(w)).docs.map(V=>({submissionId:V.data().submissionId,...V.data()}));l(D)};g(),_()},[]),T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsxs("div",{className:"bg-gradient-to-b from-green-50 to-white px-6 pt-12 pb-8",children:[T.jsxs("div",{className:"flex items-center justify-between mb-8",children:[T.jsxs("div",{children:[T.jsxs("h1",{className:"text-gray-800",children:["Hello, ",!e||e==="Update your name"?"Eco Warrior":e,"!"]}),T.jsx("p",{className:"text-gray-500",children:"Let's make Earth cleaner today"})]}),T.jsx("button",{onClick:()=>t("/profile"),className:"w-12 h-12 bg-[#34A853] rounded-full flex items-center justify-center text-white",children:""})]}),T.jsx("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-green-100 mb-6",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-gray-500 mb-1",children:"Your Points"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Du,{className:"w-8 h-8 text-[#34A853]"}),T.jsx("span",{className:"text-[#34A853]",children:r})]})]}),T.jsx("button",{onClick:()=>t("/rewards"),className:"bg-green-100 text-[#34A853] px-6 py-2 rounded-full hover:bg-green-200 transition-colors",children:"View Rewards"})]})}),T.jsxs("button",{onClick:()=>t("/scan"),className:"w-full bg-[#34A853] text-white rounded-3xl py-6 flex items-center justify-center gap-3 shadow-lg hover:bg-green-600 transition-colors",children:[T.jsx(Ta,{className:"w-6 h-6"}),T.jsx("span",{children:"Scan Trash"})]})]}),T.jsxs("div",{className:"px-6 py-6",children:[T.jsxs("div",{className:"bg-green-50 rounded-2xl p-4 flex gap-3 mb-6 border border-green-100",children:[T.jsx(IP,{className:"w-6 h-6 text-[#34A853] flex-shrink-0"}),T.jsx("div",{children:T.jsxs("p",{className:"text-gray-600",children:[" Tip of the day: ",p]})})]}),T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h2",{className:"text-gray-800",children:"Recent Reports"}),T.jsx("button",{onClick:()=>t("/history"),className:"text-[#34A853]",children:"See All"})]}),a.length===0?T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("p",{className:"text-gray-400",children:"No reports yet"}),T.jsx("p",{className:"text-gray-400",children:"Start by scanning your first item!"})]}):T.jsx("div",{className:"space-y-3",children:a.map(g=>T.jsxs("div",{className:"bg-white border-2 border-gray-100 rounded-2xl p-4 flex gap-4 items-center hover:border-green-200 transition-colors",children:[T.jsx("img",{src:g.scannedTrash||g.proofUrl,alt:g.trashClass,className:"w-16 h-16 rounded-xl object-cover"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-gray-800",children:g.trashClass}),T.jsxs("p",{className:"text-gray-500",children:["By: ",g.userFullName]}),g.highestMedal&&T.jsxs("p",{className:"text-gray-500",children:[g.highestMedal.emoji??""," ",g.highestMedal.name]}),T.jsx("p",{className:"text-gray-400",children:h(g.timestampISO)})]}),g.points&&T.jsxs("div",{className:"text-[#34A853]",children:["+",g.points]})]},g.submissionId))})]})]})}function l4({onScanComplete:t}){const e=bi(),n="NeGo6JvVRY3BJZ2HUtYF",r="classification-waste/11",i="trash-can-ze7w8/2",[a,l]=b.useState(null),[h,f]=b.useState(!1),[p,g]=b.useState(null),[_,w]=b.useState(!1),[A,D]=b.useState(!0),[V,k]=b.useState(""),[$,F]=b.useState(!1),[z,X]=b.useState(null),[q,J]=b.useState(!1),[R,x]=b.useState(!1),[C,M]=b.useState(""),[L,B]=b.useState(""),[N,ze]=b.useState(new Date),Ge=b.useRef(null),vt=b.useRef(null),_e=b.useRef(null),re=b.useRef(null),ue=b.useRef(null),ae=b.useRef(null),U=b.useRef(null),ee=b.useRef(null),xe=async()=>{A&&!_?await Ae():Ge.current?.click()},Ae=async()=>{try{const ke=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});_e.current&&(_e.current.srcObject=ke,U.current=ke,w(!0))}catch(ke){console.error("Camera access denied or not available:",ke),D(!1),Ge.current?.click()}},be=async()=>{if(!_e.current||!ue.current)return;const ke=ue.current.getContext("2d");ke&&(ue.current.width=_e.current.videoWidth,ue.current.height=_e.current.videoHeight,ke.drawImage(_e.current,0,0),ue.current.toBlob(async De=>{if(!De)return;const Qe=new File([De],"camera-capture.jpg",{type:"image/jpeg"}),Xe=ue.current?.toDataURL("image/jpeg")||"";l(Xe),w(!1),Pe(),M(" Item scanned successfully!"),setTimeout(()=>M(""),3e3),await it(Qe,Xe)},"image/jpeg",.95))},Pe=()=>{U.current&&(U.current.getTracks().forEach(ke=>ke.stop()),U.current=null),w(!1)};b.useEffect(()=>()=>{Pe(),Er()},[]),b.useEffect(()=>{ze(new Date)},[p]);const Be=()=>{F(!0),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(ke=>{const{latitude:De,longitude:Qe}=ke.coords;k(`${De.toFixed(6)}, ${Qe.toFixed(6)}`),F(!1)},ke=>{console.error("Error getting location:",ke),k("Location access denied"),F(!1)}):(k("Geolocation not supported"),F(!1))},Oe=ke=>{k(ke.target.value)},qe=async()=>{q||(J(!0),await Ft())},Ft=async()=>{try{const ke=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});re.current&&(re.current.srcObject=ke,ee.current=ke)}catch(ke){console.error("Error accessing camera for proof:",ke),J(!1),vt.current?.click()}},Ls=async()=>{if(!re.current||!ae.current)return;const ke=ae.current.getContext("2d");ke&&(ae.current.width=re.current.videoWidth,ae.current.height=re.current.videoHeight,ke.drawImage(re.current,0,0),ae.current.toBlob(async De=>{if(!De)return;const Qe=ae.current?.toDataURL("image/jpeg")||"",Xe=new File([De],"proof-capture.jpg",{type:"image/jpeg"});J(!1),Er(),await ns(Xe,Qe)},"image/jpeg",.95))},Er=()=>{ee.current&&(ee.current.getTracks().forEach(ke=>ke.stop()),ee.current=null),J(!1)},Tr=async ke=>{const De=ke.target.files?.[0];if(!De)return;const Qe=new FileReader;Qe.onload=async Xe=>{const Pt=Xe.target?.result;await ns(De,Pt)},Qe.readAsDataURL(De)};async function ns(ke,De){x(!0);const Qe=new FormData;Qe.append("file",ke);try{((await(await fetch(`https://detect.roboflow.com/${i}?api_key=${n}`,{method:"POST",body:Qe})).json()).predictions||[]).length>0?(X(De),B(" Trash can detected  proof accepted!")):B(" No trash can found. Please try again.")}catch(Xe){console.error("Proof validation error:",Xe),B(" Error validating proof. Try again.")}setTimeout(()=>B(""),1e4),x(!1)}const er=p&&p.category!=="Unknown",Ir=V.trim().length>0,tr=z!==null,rs=er&&Ir&&tr,ut=async ke=>{const De=ke.target.files?.[0];if(!De)return;const Qe=new FileReader;Qe.onload=async Xe=>{const Pt=Xe.target?.result;l(Pt),await it(De,Pt)},Qe.readAsDataURL(De)};async function it(ke,De){f(!0);const Qe=["biodegradable","cardboard","glass","metal","paper","plastic"],Xe=new FormData;Xe.append("file",ke);try{const cn=(await(await fetch(`https://classify.roboflow.com/${r}?api_key=${n}`,{method:"POST",body:Xe})).json()).predictions||{},On=Object.entries(cn).map(([dn,nr])=>({class:dn,confidence:(nr.confidence||0)*100})).filter(dn=>Qe.includes(dn.class)).sort((dn,nr)=>nr.confidence-dn.confidence);let hn=null;On.length>0&&On[0].confidence>=10?(hn={image:De,category:On[0].class,confidence:Math.round(On[0].confidence),type:On[0].class.toLowerCase()},M(" Item scanned successfully!")):(hn={image:De,category:"Unknown",confidence:0,type:"unknown"},M("")),g(hn)}catch(Pt){console.error(Pt),g({image:De,category:"Unknown",confidence:0,type:"unknown"}),M("")}finally{f(!1)}}const In=async()=>{if(p&&rs){const De=bI().currentUser;if(!De||!De.email)return;try{const Qe=await Jw(Ln(un,"Submission"),{}),Xe={trashClass:p.category,location:V,timestampString:N.toLocaleString(),proofUrl:z,userId:De?.uid,submissionId:Qe.id,scannedTrash:a,timestampISO:N.toISOString()};await kS(Qe,Xe),console.log("Submission saved with ID:",Qe.id);const Pt=Ri(Ln(un,"User"),Co("email","==",De.email)),ss=await Jr(Pt);if(!ss.empty){const cn=ss.docs[0],Vt=cn.data(),On=cn.data().totalPoints||0,hn=Vt.history||[];await Bd(cn.ref,{totalPoints:On+10,history:[...hn,Xe]});const dn=Vt.medals&&Vt.medals.length>0?Vt.medals[Vt.medals.length-1]:null,nr={...Xe,userFullName:Vt.fullName==="Update your name"?Vt.userId:Vt.fullName||"Unknown",highestMedal:dn||null};await Jw(Ln(un,"Report"),nr)}t?.(Xe),e("/")}catch(Qe){console.error("Error saving submission:",Qe),alert("Failed to save submission. Try again.")}}},Os=()=>{Pe(),Er(),l(null),g(null),f(!1),M(""),B(""),X(null),k("")},ji=ke=>({plastic:"bg-blue-100 text-blue-600",glass:"bg-green-100 text-green-600",metal:"bg-gray-100 text-gray-600",paper:"bg-amber-100 text-amber-600",organic:"bg-lime-100 text-lime-600"})[ke]||"bg-gray-100 text-gray-600";return T.jsx("div",{className:"min-h-screen bg-black relative",children:a?T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:Os,className:"absolute top-6 left-6 z-10 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg",children:T.jsx(Ra,{className:"w-5 h-5 text-gray-800"})}),T.jsx("img",{src:a,alt:"Captured",className:"w-full h-80 object-cover"})]}),T.jsx("div",{className:"p-6",children:h?T.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-lg border border-gray-100 text-center",children:[T.jsx("div",{className:"w-16 h-16 border-4 border-[#34A853] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),T.jsx("h2",{className:"text-gray-800 mb-2",children:"Analyzing..."}),T.jsx("p",{className:"text-gray-500",children:"Identifying waste category"})]}):p?T.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:[T.jsx("div",{className:"text-center mb-6",children:er?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("span",{className:"text-3xl",children:""})}),T.jsx("h2",{className:"text-gray-800 mb-2",children:p.category}),T.jsx("div",{className:`inline-block px-4 py-2 rounded-full ${ji(p.type)}`,children:p.type.charAt(0).toUpperCase()+p.type.slice(1)}),C&&T.jsx("p",{className:"text-green-600 text-sm mt-2",children:C})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("span",{className:"text-3xl",children:""})}),T.jsx("h2",{className:"text-red-600 mb-2",children:"Unknown Item"}),T.jsx("p",{className:"text-red-500 text-sm",children:"Please rescan the item"})]})}),T.jsxs("div",{className:"space-y-4 mb-6",children:[T.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-2xl",children:[T.jsx("span",{className:"text-gray-600",children:"Confidence"}),T.jsxs("span",{className:"text-gray-800",children:[p.confidence,"%"]})]}),T.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-2xl",children:[T.jsx("span",{className:"text-gray-600",children:"Submit your report and clean proof to earn points!"}),T.jsx("span",{className:"text-[#34A853]",children:"+10"})]})]}),er&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-2xl",children:[T.jsx("label",{className:"text-gray-600 text-sm font-medium",children:"Scan Date & Time"}),T.jsx("p",{className:"text-gray-800 font-semibold",children:N.toLocaleString()})]}),T.jsxs("div",{className:"mb-6",children:[T.jsxs("label",{className:"text-gray-700 font-semibold mb-2 flex items-center gap-2",children:[T.jsx(kP,{className:"w-4 h-4"}),"Location",Ir&&T.jsx(d0,{className:"w-4 h-4 text-green-600"})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{type:"text",value:V,onChange:Oe,placeholder:"Enter location or click Get Location",className:"flex-1 px-4 py-2 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-green-500"}),T.jsx("button",{onClick:Be,disabled:$,className:"px-4 py-2 bg-blue-500 text-white rounded-2xl hover:bg-blue-600 disabled:bg-blue-300",children:$?"...":"Get"})]})]}),T.jsxs("div",{className:"mb-6",children:[T.jsxs("label",{className:"text-gray-700 font-semibold mb-2 flex items-center gap-2",children:[T.jsx(Ta,{className:"w-4 h-4"}),"Proof of Cleaning",tr&&T.jsx(d0,{className:"w-4 h-4 text-green-600"})]}),q?T.jsxs("div",{className:"bg-black rounded-2xl overflow-hidden mb-3",children:[T.jsx("video",{ref:re,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-48 object-cover"}),T.jsxs("div",{className:"flex gap-2 p-4",children:[T.jsx("button",{onClick:Ls,className:"flex-1 bg-green-600 text-white py-2 rounded-lg",children:"Capture"}),T.jsx("button",{onClick:Er,className:"flex-1 bg-black-500 text-white py-2 rounded-lg",children:"Cancel"})]}),T.jsx("canvas",{ref:ae,className:"hidden"})]}):z?T.jsxs(T.Fragment,{children:[T.jsx("img",{src:z,alt:"Proof of Cleaning",className:"w-full h-32 object-cover rounded-2xl mb-2"}),T.jsx("button",{onClick:()=>X(null),className:"w-full bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300",children:"Remove Proof"})]}):T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:qe,className:"flex-1 bg-[#34A853]  text-white py-3 rounded-2xl flex items-center justify-center gap-2",children:[T.jsx(Ta,{className:"w-5 h-5"}),"Capture"]}),T.jsx("button",{onClick:()=>vt.current?.click(),className:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-2xl",children:"Upload"})]}),L&&T.jsx("p",{className:"text-green-600 text-sm mt-2",children:L})]})]}),!er&&T.jsx("div",{className:"mb-6 p-4 bg-red-50 rounded-2xl text-red-600 text-sm",children:" Item type is unknown. Please rescan."}),er&&!Ir&&T.jsx("div",{className:"mb-6 p-4 bg-yellow-50 rounded-2xl text-yellow-700 text-sm",children:" Please provide your location to proceed"}),er&&!tr&&T.jsx("div",{className:"mb-6 p-4 bg-yellow-50 rounded-2xl text-yellow-700 text-sm",children:" Please provide proof of cleaning to proceed"}),T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("button",{onClick:Os,className:"flex-1 border-2 border-gray-200 text-gray-700 rounded-full py-3 flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors",children:[T.jsx(VP,{className:"w-5 h-5"}),"Rescan"]}),T.jsxs("button",{onClick:In,disabled:!rs,className:`flex-1 rounded-full py-3 flex items-center justify-center gap-2 transition-colors ${rs?"bg-[#34A853] text-white hover:bg-green-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[T.jsx(LP,{className:"w-5 h-5"}),"Submit"]})]}),T.jsx("input",{ref:Ge,type:"file",accept:"image/*",capture:"environment",onChange:ut,className:"hidden"}),T.jsx("input",{ref:vt,type:"file",accept:"image/*",capture:"environment",onChange:Tr,className:"hidden"})]}):null})]}):T.jsx(T.Fragment,{children:_?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 p-6 flex items-center justify-between",children:[T.jsx("button",{onClick:()=>{Pe(),w(!1)},className:"w-10 h-10 bg-black/50 rounded-full flex items-center justify-center text-white",children:T.jsx(Ra,{className:"w-5 h-5"})}),T.jsx("h2",{className:"text-white",children:"Scan Item"}),T.jsx("div",{className:"w-10"})]}),T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:[T.jsx("div",{className:"w-full max-w-md aspect-square bg-gray-900 rounded-3xl mb-8 flex items-center justify-center border-4 border-dashed border-gray-700 overflow-hidden",children:T.jsx("video",{ref:_e,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),T.jsxs("div",{className:"flex gap-6",children:[T.jsx("button",{onClick:be,className:"w-20 h-20 bg-[#34A853] rounded-full flex items-center justify-center shadow-lg hover:bg-green-600 transition-colors",children:T.jsx(Ta,{className:"w-8 h-8 text-white"})}),T.jsx("button",{onClick:()=>{Pe(),w(!1),Ge.current?.click()},className:"w-20 h-20 bg-gray-600 rounded-full flex items-center justify-center shadow-lg hover:bg-gray-700 transition-colors",children:T.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),T.jsx("canvas",{ref:ue,className:"hidden"})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 p-6 flex items-center justify-between",children:[T.jsx("button",{onClick:()=>e("/"),className:"w-10 h-10 bg-black/50 rounded-full flex items-center justify-center text-white",children:T.jsx(Ra,{className:"w-5 h-5"})}),T.jsx("h2",{className:"text-white",children:"Scan Item"}),T.jsx("div",{className:"w-10"})]}),T.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:[T.jsx("div",{className:"w-full max-w-md aspect-square bg-gray-900 rounded-3xl mb-8 flex items-center justify-center border-4 border-dashed border-gray-700 overflow-hidden",children:T.jsx("video",{ref:_e,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"})}),T.jsxs("div",{className:"flex gap-6",children:[T.jsx("button",{onClick:xe,className:"w-20 h-20 bg-[#34A853] rounded-full flex items-center justify-center shadow-lg hover:bg-green-600 transition-colors",children:T.jsx(Ta,{className:"w-8 h-8 text-white"})}),T.jsx("button",{onClick:()=>Ge.current?.click(),className:"w-20 h-20 bg-gray-600 rounded-full flex items-center justify-center shadow-lg hover:bg-gray-700 transition-colors",children:T.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),T.jsx("input",{ref:Ge,type:"file",accept:"image/*",capture:"environment",onChange:ut,className:"hidden"})]})]})})})}function u4(){const t=bi(),[e,n]=b.useState("all"),[r,i]=b.useState([]),[a,l]=b.useState(!0),h=["biodegradable","cardboard","glass","metal","paper","plastic"],f={plastic:"bg-blue-100 text-blue-600",glass:"bg-green-100 text-green-600",metal:"bg-gray-100 text-gray-600",paper:"bg-amber-100 text-amber-600",biodegradable:"bg-lime-100 text-lime-600",cardboard:"bg-orange-100 text-orange-600"},p=[{id:"all",label:"All"},...h.map(w=>({id:w,label:w.charAt(0).toUpperCase()+w.slice(1)}))];b.useEffect(()=>{(async()=>{const A=Gr.currentUser;if(!A||!A.email)return;const D=Ri(Ln(un,"User"),Co("email","==",A.email)),V=await Jr(D);if(!V.empty){const k=V.docs[0].data();i(k.history||[])}l(!1)})()},[]);const g=e==="all"?r:r.filter(w=>w.trashClass.toLowerCase()===e),_=w=>{const A=new Date(w);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(A)};return a?T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 z-10",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("button",{onClick:()=>t("/"),className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors",children:T.jsx(Ra,{className:"w-5 h-5 text-gray-800"})}),T.jsx("h1",{className:"text-gray-800",children:"Submission History"})]}),T.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:p.map(w=>T.jsx("button",{onClick:()=>n(w.id),className:`px-4 py-2 rounded-full whitespace-nowrap transition-colors ${e===w.id?"bg-[#34A853] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:w.label},w.id))})]}),T.jsx("div",{className:"px-6 py-6",children:g.length===0?T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-6xl mb-4",children:""}),T.jsx("p",{className:"text-gray-400",children:"No scans found"}),T.jsx("p",{className:"text-gray-400",children:e==="all"?"Start scanning items!":`No ${e} items scanned yet`})]}):T.jsx("div",{className:"space-y-4",children:g.map((w,A)=>{const D=new Date(w.timestampString),V=A>0?new Date(g[A-1].timestampString):null,k=A===0||D.toDateString()!==V?.toDateString();return T.jsxs("div",{children:[k&&T.jsx("div",{className:"text-gray-500 mb-3 mt-4",children:D.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),T.jsx("div",{className:"bg-white border-2 border-gray-100 rounded-2xl p-4 hover:border-green-200 transition-colors",children:T.jsxs("div",{className:"flex gap-4",children:[T.jsx("img",{src:w.scannedTrash||w.proofURL,alt:w.trashClass,className:"w-20 h-20 rounded-xl object-cover"}),T.jsxs("div",{className:"flex-1",children:[T.jsxs("h3",{className:"text-gray-800 mb-1",children:[T.jsx("span",{className:"font-semibold",children:"Location:"})," ",w.location]}),T.jsx("div",{className:"flex items-center gap-2 mb-1",children:T.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${f[w.trashClass]||"bg-gray-100 text-gray-600"}`,children:w.trashClass})}),T.jsx("div",{className:"flex items-center justify-between",children:T.jsx("p",{className:"text-gray-400",children:_(w.timestampString)})})]})]})})]},w.submissionId)})})})]})}function c4(){const t=bi(),[e,n]=b.useState([]),[r,i]=b.useState(!0),[a,l]=b.useState(0),[h,f]=b.useState([]),[p,g]=b.useState([]),[_,w]=b.useState(null),[A,D]=b.useState([]),V=(F,z="success")=>{const X=Date.now();D(q=>[...q,{id:X,message:F,type:z}]),setTimeout(()=>{D(q=>q.filter(J=>J.id!==X))},4e3)};b.useEffect(()=>{(async()=>{try{const X=(await Jr(Ln(un,"Reward"))).docs.map(q=>({rewardId:q.data().rewardId,...q.data()}));X.sort((q,J)=>q.submissionsRequired-J.submissionsRequired),n(X)}catch(z){console.error("Error fetching rewards:",z)}finally{i(!1)}})()},[]),b.useEffect(()=>{(async()=>{try{const z=Gr.currentUser;if(!z||!z.email)return;const X=Ri(Ln(un,"User"),Co("email","==",z.email)),q=await Jr(X);if(!q.empty){const J=q.docs[0].ref,R=q.docs[0].data();w(J),l(R.totalPoints??0),g(R.claimedRewards??[]),f(R.history??[])}}catch(z){console.error("Error fetching user:",z)}})()},[]);const k=async(F,z,X)=>{if(_)try{await Bd(_,{totalPoints:CO(X),claimedRewards:bS(F)}),l(q=>q+X),g(q=>[...q,F]),V(`Successfully claimed ${z}! `,"success")}catch(q){console.error("Error claiming reward:",q),V("Failed to claim reward.","error")}},$=F=>Math.min(h.length/F*100,100);return r?T.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-600",children:"Loading rewards..."}):T.jsxs("div",{className:"min-h-screen bg-white relative",children:[T.jsx("div",{className:"fixed top-4 right-4 flex flex-col gap-2 z-50",children:A.map(F=>T.jsx("div",{className:`px-4 py-2 rounded shadow-lg text-white ${F.type==="success"?"bg-green-500":F.type==="error"?"bg-red-500":"bg-blue-500"}`,children:F.message},F.id))}),T.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 z-10",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("button",{onClick:()=>t("/"),className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors",children:T.jsx(Ra,{className:"w-5 h-5 text-gray-800"})}),T.jsx("h1",{className:"text-gray-800",children:"Rewards"})]}),T.jsx("div",{className:"bg-gradient-to-r from-[#34A853] to-green-600 rounded-2xl p-6 text-white",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"opacity-90 mb-1",children:"Your Points"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Du,{className:"w-8 h-8"}),T.jsx("span",{className:"text-white",children:a})]})]}),T.jsx("div",{className:"text-5xl",children:""})]})})]}),T.jsx("div",{className:"px-6 py-6",children:T.jsx("div",{className:"grid gap-4",children:e.map(F=>{const z=$(F.submissionsRequired),X=h.length>=F.submissionsRequired,q=p.includes(F.rewardId);return T.jsxs("div",{className:`border-2 rounded-3xl p-5 transition-all ${q?"bg-gray-50 border-gray-200 opacity-75":X?"bg-green-50 border-[#34A853] shadow-md":"bg-white border-gray-200"}`,children:[T.jsxs("div",{className:"flex gap-4 mb-4",children:[T.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center text-3xl ${F.color} border-2 ${q?"opacity-50":""}`,children:F.icon}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-gray-800 mb-1",children:F.title}),T.jsx("p",{className:"text-gray-500 mb-2",children:F.description}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(mP,{className:"w-4 h-4 text-[#34A853]"}),T.jsxs("span",{className:`${q?"text-gray-400 line-through":"text-[#34A853]"}`,children:["+",F.bonus," bonus pts"]})]}),q&&T.jsx("p",{className:"text-xs text-green-600 mt-2",children:" Claimed"})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between text-gray-600",children:[T.jsx("span",{children:"Progress"}),T.jsx("span",{children:q?`${F.submissionsRequired} / ${F.submissionsRequired} submissions`:`${h.length} / ${F.submissionsRequired} submissions`})]}),T.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:T.jsx("div",{className:`h-full transition-all duration-500 rounded-full ${q?"bg-gray-300":"bg-[#34A853]"}`,style:{width:`${q?100:z}%`}})})]}),!q&&X&&T.jsx("button",{onClick:()=>k(F.rewardId,F.title,F.bonus),className:"w-full mt-4 bg-[#34A853] text-white rounded-full py-3 hover:bg-green-600 transition-colors",children:"Claim Reward"})]},F.rewardId)})})})]})}async function h4(t,e){if(!(!t||!e))try{const n=Vd(un,"User",t);await Bd(n,{medals:bS({medalID:e.medalID,name:e.name,emoji:e.emoji,minPoints:e.minPoints})}),console.log("Medal awarded:",e.name)}catch(n){console.error("Failed to award medal:",n)}}function d4({onLogout:t}){const e=bi(),[n,r]=b.useState([]),[i,a]=b.useState(null),[l,h]=b.useState(null),[f,p]=b.useState(""),[g,_]=b.useState(""),[w,A]=b.useState(!1);b.useEffect(()=>{(async()=>{const J=Gr.currentUser;if(!J?.email)return;const R=Ri(Ln(un,"User"),Co("email","==",J.email)),x=await Jr(R);if(!x.empty){const C=x.docs[0].data();a({...C,medals:C.medals||[],history:C.history||[]}),_(x.docs[0].id)}})()},[]),b.useEffect(()=>{(async()=>{const R=(await Jr(Ln(un,"Medal"))).docs.map(x=>({medalID:x.id,...x.data()}));R.sort((x,C)=>x.minPoints-C.minPoints),r(R)})()},[]),b.useEffect(()=>{if(!i||n.length===0)return;const q=i.medals.map(R=>R.medalID)||[],J=n.filter(R=>i.totalPoints>=R.minPoints&&!q.includes(R.medalID));J.length>0&&J.forEach(async R=>{await h4(g,R),a(x=>x&&{...x,medals:[...x.medals,R]})})},[i,n]);const D=async()=>{if(!(!l||!g))try{A(!0);const q=Vd(un,"User",g);let J=f;if(l==="nim"||l==="phoneNumber"){if(!f)return;J=String(parseInt(f))}await Bd(q,{[l]:J}),a(R=>R&&{...R,[l]:J}),h(null),p("")}catch(q){console.error("Update failed:",q),alert("Failed to update profile")}finally{A(!1)}};if(!i)return T.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:T.jsx("p",{className:"text-gray-400",children:"Loading profile..."})});const V=i.totalPoints,k=i?.history?.length||0,$=i.history.reduce((q,J)=>(q[J.type]=(q[J.type]||0)+1,q),{});Object.entries($).sort((q,J)=>J[1]-q[1])[0];const F=n.filter(q=>V>=q.minPoints).length||0,z=[...n].reverse().find(q=>V>=q.minPoints)||n[0],X=[{icon:jP,label:"Privacy Policy",action:()=>{}},{icon:hP,label:"Help & Support",action:()=>{}},{icon:AP,label:"Logout",action:t,danger:!0}];return T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsxs("div",{className:"bg-gradient-to-b from-green-50 to-white px-6 pt-12 pb-8",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[T.jsx("button",{onClick:()=>e("/"),className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-white",children:T.jsx(Ra,{className:"w-5 h-5 text-gray-800"})}),T.jsx("h1",{className:"text-gray-800",children:"Profile"})]}),T.jsxs("div",{className:"flex flex-col items-center mb-8",children:[T.jsx("div",{className:"w-24 h-24 bg-[#34A853] rounded-full flex items-center justify-center text-white text-4xl mb-4 shadow-lg",children:""}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h2",{className:"text-gray-800",children:i.fullName}),T.jsx(Sp,{onClick:()=>{h("fullName"),p(i.fullName)},className:"w-4 h-4 text-gray-400 cursor-pointer"})]}),T.jsx("p",{className:"text-gray-500",children:i.email}),T.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[T.jsxs("span",{children:["NIM: ",i.nim]}),T.jsx(Sp,{onClick:()=>{h("nim"),p(i.nim)},className:"w-4 h-4 cursor-pointer"})]}),T.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mt-1",children:[T.jsx("span",{children:i.phoneNumber}),T.jsx(Sp,{onClick:()=>{h("phoneNumber"),p(i.phoneNumber)},className:"w-4 h-4 cursor-pointer"})]})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[T.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center shadow-sm border border-gray-100",children:[T.jsx("div",{className:"text-[#34A853]",children:k}),T.jsx("p",{className:"text-gray-500",children:"Reports"})]}),T.jsxs("div",{className:"rounded-2xl p-4 text-center shadow-sm border-2 border-gray-200 bg-gray-50",children:[T.jsx("div",{className:"text-3xl mb-1",children:z?.emoji}),T.jsx("p",{className:"text-gray-700 text-sm",children:z?.name})]}),T.jsxs("div",{className:"bg-white rounded-2xl p-4 text-center shadow-sm border border-gray-100",children:[T.jsx("div",{className:"text-[#34A853]",children:V}),T.jsx("p",{className:"text-gray-500",children:"Points"})]})]}),T.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h3",{className:"text-gray-800",children:"Achievements"}),T.jsxs("div",{className:"text-gray-500",children:[F,"/",n.length]})]}),T.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.map(q=>{const J=V>=q.minPoints;return T.jsxs("div",{className:`rounded-2xl p-4 text-center ${J?`${q.bgColor} border-2 ${q.borderColor}`:"bg-gray-50 border-2 border-gray-200 opacity-50"}`,children:[T.jsxs("div",{className:"relative mb-2 text-4xl",children:[q.emoji,!J&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md",children:T.jsx(VT,{className:"w-4 h-4 text-gray-400"})})})]}),T.jsx("p",{className:"text-xs",children:q.name}),T.jsx("p",{className:"text-xs",children:J?" Unlocked":`${q.minPoints} pts`})]},q.level)})})]})]}),T.jsx("div",{className:"px-6 py-6 space-y-2",children:X.map((q,J)=>T.jsxs("button",{onClick:q.action,className:`w-full flex items-center justify-between p-4 rounded-2xl hover:bg-gray-50 ${q.danger?"text-red-500":"text-gray-800"}`,children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(q.icon,{className:"w-5 h-5 text-gray-600"}),T.jsx("span",{children:q.label})]}),T.jsx(DT,{className:"w-5 h-5 text-gray-400"})]},J))}),l&&T.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white w-[90%] max-w-sm rounded-2xl p-5 shadow-xl",children:[T.jsxs("h3",{className:"text-gray-800 mb-4",children:["Edit ",l==="fullName"?"Full Name":l==="nim"?"NIM":"Phone Number"]}),T.jsx("input",{type:l==="fullName"?"text":"number",value:f,onChange:q=>p(q.target.value),className:"w-full border rounded-xl p-3 text-sm mb-4"}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{onClick:()=>{h(null),p("")},className:"flex-1 p-3 rounded-xl border",children:"Cancel"}),T.jsx("button",{onClick:D,disabled:w,className:"flex-1 p-3 rounded-xl bg-[#34A853] text-white disabled:opacity-50",children:w?"Saving...":"Save"})]})]})})]})}function f4(){const t=bi(),e=Ms(),n=[{icon:_P,label:"Home",path:"/"},{icon:yP,label:"History",path:"/history"},{icon:Du,label:"Rewards",path:"/rewards"},{icon:BP,label:"Profile",path:"/profile"}];return T.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-6 py-3 z-50",children:T.jsx("div",{className:"flex items-center justify-around max-w-md mx-auto",children:n.map(r=>{const i=e.pathname===r.path;return T.jsxs("button",{onClick:()=>t(r.path),className:`flex flex-col items-center gap-1 py-2 px-4 rounded-2xl transition-colors ${i?"text-[#34A853]":"text-gray-400"}`,children:[T.jsx(r.icon,{className:`w-6 h-6 ${i?"text-[#34A853]":"text-gray-400"}`}),T.jsx("span",{className:"text-xs",children:r.label})]},r.path)})})})}const uy=b.createContext({});function cy(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const hy=typeof window<"u",MS=hy?b.useLayoutEffect:b.useEffect,zd=b.createContext(null);function dy(t,e){t.indexOf(e)===-1&&t.push(e)}function fy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ds=(t,e,n)=>n>e?e:n<t?t:n;let py=()=>{};const Vs={},LS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function OS(t){return typeof t=="object"&&t!==null}const jS=t=>/^0[^.\s]+$/u.test(t);function my(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qn=t=>t,p4=(t,e)=>n=>e(t(n)),Hu=(...t)=>t.reduce(p4),Au=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class gy{constructor(){this.subscriptions=[]}add(e){return dy(this.subscriptions,e),()=>fy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qr=t=>t*1e3,Gn=t=>t/1e3;function FS(t,e){return e?t*(1e3/e):0}const US=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,m4=1e-7,g4=12;function y4(t,e,n,r,i){let a,l,h=0;do l=e+(n-e)/2,a=US(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>m4&&++h<g4);return l}function Wu(t,e,n,r){if(t===e&&n===r)return Qn;const i=a=>y4(a,0,1,t,n);return a=>a===0||a===1?a:US(i(a),e,r)}const BS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$S=t=>e=>1-t(1-e),zS=Wu(.33,1.53,.69,.99),yy=$S(zS),HS=BS(yy),WS=t=>(t*=2)<1?.5*yy(t):.5*(2-Math.pow(2,-10*(t-1))),vy=t=>1-Math.sin(Math.acos(t)),qS=$S(vy),KS=BS(vy),v4=Wu(.42,0,1,1),_4=Wu(0,0,.58,1),GS=Wu(.42,0,.58,1),w4=t=>Array.isArray(t)&&typeof t[0]!="number",QS=t=>Array.isArray(t)&&typeof t[0]=="number",E4={linear:Qn,easeIn:v4,easeInOut:GS,easeOut:_4,circIn:vy,circInOut:KS,circOut:qS,backIn:yy,backInOut:HS,backOut:zS,anticipate:WS},T4=t=>typeof t=="string",sE=t=>{if(QS(t)){py(t.length===4);const[e,n,r,i]=t;return Wu(e,n,r,i)}else if(T4(t))return E4[t];return t},mh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function I4(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,_=!1,w=!1)=>{const D=w&&i?n:r;return _&&l.add(g),D.has(g)||D.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(h=g,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),n.clear(),i=!1,a&&(a=!1,p.process(g))}};return p}const S4=40;function YS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=mh.reduce((z,X)=>(z[X]=I4(a),z),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:_,preRender:w,render:A,postRender:D}=l,V=()=>{const z=Vs.useManualTiming?i.timestamp:performance.now();n=!1,Vs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(z-i.timestamp,S4),1)),i.timestamp=z,i.isProcessing=!0,h.process(i),f.process(i),p.process(i),g.process(i),_.process(i),w.process(i),A.process(i),D.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(V))},k=()=>{n=!0,r=!0,i.isProcessing||t(V)};return{schedule:mh.reduce((z,X)=>{const q=l[X];return z[X]=(J,R=!1,x=!1)=>(n||k(),q.schedule(J,R,x)),z},{}),cancel:z=>{for(let X=0;X<mh.length;X++)l[mh[X]].cancel(z)},state:i,steps:l}}const{schedule:at,cancel:Pi,state:Ht,steps:$p}=YS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let bh;function x4(){bh=void 0}const En={now:()=>(bh===void 0&&En.set(Ht.isProcessing||Vs.useManualTiming?Ht.timestamp:performance.now()),bh),set:t=>{bh=t,queueMicrotask(x4)}},XS=t=>e=>typeof e=="string"&&e.startsWith(t),JS=XS("--"),A4=XS("var(--"),_y=t=>A4(t)?C4.test(t.split("/*")[0].trim()):!1,C4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cu={...sl,transform:t=>Ds(0,1,t)},gh={...sl,default:1},cu=t=>Math.round(t*1e5)/1e5,wy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R4(t){return t==null}const P4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ey=(t,e)=>n=>!!(typeof n=="string"&&P4.test(n)&&n.startsWith(t)||e&&!R4(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,h]=r.match(wy);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},k4=t=>Ds(0,255,t),zp={...sl,transform:t=>Math.round(k4(t))},vo={test:Ey("rgb","red"),parse:ZS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zp.transform(t)+", "+zp.transform(e)+", "+zp.transform(n)+", "+cu(Cu.transform(r))+")"};function b4(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const bm={test:Ey("#"),parse:b4,transform:vo.transform},qu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ci=qu("deg"),Yr=qu("%"),Te=qu("px"),N4=qu("vh"),D4=qu("vw"),iE={...Yr,parse:t=>Yr.parse(t)/100,transform:t=>Yr.transform(t*100)},Ia={test:Ey("hsl","hue"),parse:ZS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Yr.transform(cu(e))+", "+Yr.transform(cu(n))+", "+cu(Cu.transform(r))+")"},xt={test:t=>vo.test(t)||bm.test(t)||Ia.test(t),parse:t=>vo.test(t)?vo.parse(t):Ia.test(t)?Ia.parse(t):bm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vo.transform(t):Ia.transform(t),getAnimatableNone:t=>{const e=xt.parse(t);return e.alpha=0,xt.transform(e)}},V4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M4(t){return isNaN(t)&&typeof t=="string"&&(t.match(wy)?.length||0)+(t.match(V4)?.length||0)>0}const ex="number",tx="color",L4="var",O4="var(",oE="${}",j4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ru(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const h=e.replace(j4,f=>(xt.test(f)?(r.color.push(a),i.push(tx),n.push(xt.parse(f))):f.startsWith(O4)?(r.var.push(a),i.push(L4),n.push(f)):(r.number.push(a),i.push(ex),n.push(parseFloat(f))),++a,oE)).split(oE);return{values:n,split:h,indexes:r,types:i}}function nx(t){return Ru(t).values}function rx(t){const{split:e,types:n}=Ru(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const h=n[l];h===ex?a+=cu(i[l]):h===tx?a+=xt.transform(i[l]):a+=i[l]}return a}}const F4=t=>typeof t=="number"?0:xt.test(t)?xt.getAnimatableNone(t):t;function U4(t){const e=nx(t);return rx(t)(e.map(F4))}const ki={test:M4,parse:nx,createTransformer:rx,getAnimatableNone:U4};function Hp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function B4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;i=Hp(f,h,t+1/3),a=Hp(f,h,t),l=Hp(f,h,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function sd(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,Wp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},$4=[bm,vo,Ia],z4=t=>$4.find(e=>e.test(t));function aE(t){const e=z4(t);if(!e)return!1;let n=e.parse(t);return e===Ia&&(n=B4(n)),n}const lE=(t,e)=>{const n=aE(t),r=aE(e);if(!n||!r)return sd(t,e);const i={...n};return a=>(i.red=Wp(n.red,r.red,a),i.green=Wp(n.green,r.green,a),i.blue=Wp(n.blue,r.blue,a),i.alpha=dt(n.alpha,r.alpha,a),vo.transform(i))},Nm=new Set(["none","hidden"]);function H4(t,e){return Nm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function W4(t,e){return n=>dt(t,e,n)}function Ty(t){return typeof t=="number"?W4:typeof t=="string"?_y(t)?sd:xt.test(t)?lE:G4:Array.isArray(t)?sx:typeof t=="object"?xt.test(t)?lE:q4:sd}function sx(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>Ty(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function q4(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Ty(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function K4(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],h=t.values[l]??0;n[i]=h,r[a]++}return n}const G4=(t,e)=>{const n=ki.createTransformer(e),r=Ru(t),i=Ru(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Nm.has(t)&&!i.values.length||Nm.has(e)&&!r.values.length?H4(t,e):Hu(sx(K4(r,i),i.values),n):sd(t,e)};function ix(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):Ty(t)(t,e)}const Q4=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>at.update(e,n),stop:()=>Pi(e),now:()=>Ht.isProcessing?Ht.timestamp:En.now()}},ox=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},id=2e4;function Iy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<id;)e+=n,r=t.next(e);return e>=id?1/0:e}function Y4(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Iy(r),id);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Gn(i)}}const X4=5;function ax(t,e,n){const r=Math.max(e-X4,0);return FS(n-t(r),e-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qp=.001;function J4({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:r=yt.mass}){let i,a,l=1-e;l=Ds(yt.minDamping,yt.maxDamping,l),t=Ds(yt.minDuration,yt.maxDuration,Gn(t)),l<1?(i=p=>{const g=p*l,_=g*t,w=g-n,A=Dm(p,l),D=Math.exp(-_);return qp-w/A*D},a=p=>{const _=p*l*t,w=_*n+n,A=Math.pow(l,2)*Math.pow(p,2)*t,D=Math.exp(-_),V=Dm(Math.pow(p,2),l);return(-i(p)+qp>0?-1:1)*((w-A)*D)/V}):(i=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-qp+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const h=5/t,f=e3(i,a,h);if(t=Qr(t),isNaN(f))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const Z4=12;function e3(t,e,n){let r=n;for(let i=1;i<Z4;i++)r=r-t(r)/e(r);return r}function Dm(t,e){return t*Math.sqrt(1-e*e)}const t3=["duration","bounce"],n3=["stiffness","damping","mass"];function uE(t,e){return e.some(n=>t[n]!==void 0)}function r3(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!uE(t,n3)&&uE(t,t3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ds(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yt.mass,stiffness:i,damping:a}}else{const n=J4(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function od(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:w,isResolvedFromDuration:A}=r3({...n,velocity:-Gn(n.velocity||0)}),D=w||0,V=p/(2*Math.sqrt(f*g)),k=l-a,$=Gn(Math.sqrt(f/g)),F=Math.abs(k)<5;r||(r=F?yt.restSpeed.granular:yt.restSpeed.default),i||(i=F?yt.restDelta.granular:yt.restDelta.default);let z;if(V<1){const q=Dm($,V);z=J=>{const R=Math.exp(-V*$*J);return l-R*((D+V*$*k)/q*Math.sin(q*J)+k*Math.cos(q*J))}}else if(V===1)z=q=>l-Math.exp(-$*q)*(k+(D+$*k)*q);else{const q=$*Math.sqrt(V*V-1);z=J=>{const R=Math.exp(-V*$*J),x=Math.min(q*J,300);return l-R*((D+V*$*k)*Math.sinh(x)+q*k*Math.cosh(x))/q}}const X={calculatedDuration:A&&_||null,next:q=>{const J=z(q);if(A)h.done=q>=_;else{let R=q===0?D:0;V<1&&(R=q===0?Qr(D):ax(z,q,J));const x=Math.abs(R)<=r,C=Math.abs(l-J)<=i;h.done=x&&C}return h.value=h.done?l:J,h},toString:()=>{const q=Math.min(Iy(X),id),J=ox(R=>X.next(q*R).value,q,30);return q+"ms "+J},toTransition:()=>{}};return X}od.applyToOptions=t=>{const e=Y4(t,100,od);return t.ease=e.ease,t.duration=Qr(e.duration),t.type="keyframes",t};function Vm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],w={done:!1,value:_},A=x=>h!==void 0&&x<h||f!==void 0&&x>f,D=x=>h===void 0?f:f===void 0||Math.abs(h-x)<Math.abs(f-x)?h:f;let V=n*e;const k=_+V,$=l===void 0?k:l(k);$!==k&&(V=$-_);const F=x=>-V*Math.exp(-x/r),z=x=>$+F(x),X=x=>{const C=F(x),M=z(x);w.done=Math.abs(C)<=p,w.value=w.done?$:M};let q,J;const R=x=>{A(w.value)&&(q=x,J=od({keyframes:[w.value,D(w.value)],velocity:ax(z,x,w.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return R(0),{calculatedDuration:null,next:x=>{let C=!1;return!J&&q===void 0&&(C=!0,X(x),R(x)),q!==void 0&&x>=q?J.next(x-q):(!C&&X(x),w)}}}function s3(t,e,n){const r=[],i=n||Vs.mix||ix,a=t.length-1;for(let l=0;l<a;l++){let h=i(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||Qn:e;h=Hu(f,h)}r.push(h)}return r}function i3(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(py(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=s3(e,r,i),f=h.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const w=Au(t[_],t[_+1],g);return h[_](w)};return n?g=>p(Ds(t[0],t[a-1],g)):p}function o3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Au(0,e,r);t.push(dt(n,1,i))}}function a3(t){const e=[0];return o3(e,t.length-1),e}function l3(t,e){return t.map(n=>n*e)}function u3(t,e){return t.map(()=>e||GS).splice(0,t.length-1)}function hu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=w4(r)?r.map(sE):sE(r),a={done:!1,value:e[0]},l=l3(n&&n.length===e.length?n:a3(e),t),h=i3(l,e,{ease:Array.isArray(i)?i:u3(e,i)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const c3=t=>t!==null;function Sy(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(c3),h=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!h||r===void 0?a[h]:r}const h3={decay:Vm,inertia:Vm,tween:hu,keyframes:hu,spring:od};function lx(t){typeof t.type=="string"&&(t.type=h3[t.type])}class xy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const d3=t=>t/100;class Ay extends xy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lx(e);const{type:n=hu,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:h}=e;const f=n||hu;f!==hu&&typeof h[0]!="number"&&(this.mixKeyframes=Hu(d3,ix(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Iy(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:_,repeatType:w,repeatDelay:A,type:D,onUpdate:V,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const $=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?$<0:$>i;this.currentTime=Math.max($,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let z=this.currentTime,X=r;if(_){const x=Math.min(this.currentTime,i)/h;let C=Math.floor(x),M=x%1;!M&&x>=1&&(M=1),M===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(w==="reverse"?(M=1-M,A&&(M-=A/h)):w==="mirror"&&(X=l)),z=Ds(0,1,M)*h}const q=F?{done:!1,value:g[0]}:X.next(z);a&&(q.value=a(q.value));let{done:J}=q;!F&&f!==null&&(J=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return R&&D!==Vm&&(q.value=Sy(g,this.options,k,this.speed)),V&&V(q.value),R&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return Gn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gn(e)}get time(){return Gn(this.currentTime)}set time(e){e=Qr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(En.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Q4,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function f3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _o=t=>t*180/Math.PI,Mm=t=>{const e=_o(Math.atan2(t[1],t[0]));return Lm(e)},p3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Mm,rotateZ:Mm,skewX:t=>_o(Math.atan(t[1])),skewY:t=>_o(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Lm=t=>(t=t%360,t<0&&(t+=360),t),cE=Mm,hE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),m3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hE,scaleY:dE,scale:t=>(hE(t)+dE(t))/2,rotateX:t=>Lm(_o(Math.atan2(t[6],t[5]))),rotateY:t=>Lm(_o(Math.atan2(-t[2],t[0]))),rotateZ:cE,rotate:cE,skewX:t=>_o(Math.atan(t[4])),skewY:t=>_o(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Om(t){return t.includes("scale")?1:0}function jm(t,e){if(!t||t==="none")return Om(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=m3,i=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=p3,i=h}if(!i)return Om(e);const a=r[e],l=i[1].split(",").map(y3);return typeof a=="function"?a(l):l[a]}const g3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return jm(n,e)};function y3(t){return parseFloat(t.trim())}const il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(il),fE=t=>t===sl||t===Te,v3=new Set(["x","y","z"]),_3=il.filter(t=>!v3.has(t));function w3(t){const e=[];return _3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const wo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jm(e,"x"),y:(t,{transform:e})=>jm(e,"y")};wo.translateX=wo.x;wo.translateY=wo.y;const Eo=new Set;let Fm=!1,Um=!1,Bm=!1;function ux(){if(Um){const t=Array.from(Eo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=w3(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Um=!1,Fm=!1,Eo.forEach(t=>t.complete(Bm)),Eo.clear()}function cx(){Eo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Um=!0)})}function E3(){Bm=!0,cx(),ux(),Bm=!1}class Cy{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Eo.add(this),Fm||(Fm=!0,at.read(cx),at.resolveKeyframes(ux))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const h=r.readValue(n,l);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}f3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Eo.delete(this)}cancel(){this.state==="scheduled"&&(Eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const T3=t=>t.startsWith("--");function I3(t,e,n){T3(e)?t.style.setProperty(e,n):t.style[e]=n}const S3=my(()=>window.ScrollTimeline!==void 0),x3={};function A3(t,e){const n=my(t);return()=>x3[e]??n()}const hx=A3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ru=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ru([0,.65,.55,1]),circOut:ru([.55,0,1,.45]),backIn:ru([.31,.01,.66,-.59]),backOut:ru([.33,1.53,.69,.99])};function dx(t,e){if(t)return typeof t=="function"?hx()?ox(t,e):"ease-out":QS(t)?ru(t):Array.isArray(t)?t.map(n=>dx(n,e)||pE.easeOut):pE[t]}function C3(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[e]:n};f&&(g.offset=f);const _=dx(h,i);Array.isArray(_)&&(g.easing=_);const w={delay:r,duration:i,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(g,w)}function fx(t){return typeof t=="function"&&"applyToOptions"in t}function R3({type:t,...e}){return fx(t)&&hx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class P3 extends xy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,py(typeof e.type!="string");const p=R3(e);this.animation=C3(n,r,i,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=Sy(i,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):I3(n,r,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Gn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gn(e)}get time(){return Gn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&S3()?(this.animation.timeline=e,Qn):n(this)}}const px={anticipate:WS,backInOut:HS,circInOut:KS};function k3(t){return t in px}function b3(t){typeof t.ease=="string"&&k3(t.ease)&&(t.ease=px[t.ease])}const mE=10;class N3 extends P3{constructor(e){b3(e),lx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Ay({...l,autoplay:!1}),f=Qr(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-mE).value,h.sample(f).value,mE),h.stop()}}const gE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ki.test(t)||t==="0")&&!t.startsWith("url("));function D3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function V3(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=gE(i,e),h=gE(a,e);return!l||!h?!1:D3(t)||(n==="spring"||fx(n))&&r}function $m(t){t.duration=0,t.type="keyframes"}const M3=new Set(["opacity","clipPath","filter","transform"]),L3=my(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function O3(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return L3()&&n&&M3.has(n)&&(n!=="transform"||!p)&&!f&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const j3=40;class F3 extends xy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:h,name:f,motionValue:p,element:g,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=En.now();const w={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:f,motionValue:p,element:g,..._},A=g?.KeyframeResolver||Cy;this.keyframeResolver=new A(h,(D,V,k)=>this.onKeyframesResolved(D,V,w,!k),f,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:h,delay:f,isHandoff:p,onUpdate:g}=r;this.resolvedAt=En.now(),V3(e,a,l,h)||((Vs.instantAnimations||!f)&&g?.(Sy(e,r,n)),e[0]=e[e.length-1],$m(r),r.repeat=0);const w={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>j3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!p&&O3(w)?new N3({...w,element:w.motionValue.owner.current}):new Ay(w);A.finished.then(()=>this.notifyFinished()).catch(Qn),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),E3()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const U3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B3(t){const e=U3.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function mx(t,e,n=1){const[r,i]=B3(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return LS(l)?parseFloat(l):l}return _y(i)?mx(i,e,n+1):i}function Ry(t,e){return t?.[e]??t?.default??t}const gx=new Set(["width","height","top","left","right","bottom",...il]),$3={test:t=>t==="auto",parse:t=>t},yx=t=>e=>e.test(t),vx=[sl,Te,Yr,ci,D4,N4,$3],yE=t=>vx.find(yx(t));function z3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jS(t):!0}const H3=new Set(["brightness","contrast","saturate","opacity"]);function W3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wy)||[];if(!r)return t;const i=n.replace(r,"");let a=H3.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const q3=/\b([a-z-]*)\(.*?\)/gu,zm={...ki,getAnimatableNone:t=>{const e=t.match(q3);return e?e.map(W3).join(" "):t}},vE={...sl,transform:Math.round},K3={rotate:ci,rotateX:ci,rotateY:ci,rotateZ:ci,scale:gh,scaleX:gh,scaleY:gh,scaleZ:gh,skew:ci,skewX:ci,skewY:ci,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Cu,originX:iE,originY:iE,originZ:Te},Py={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...K3,zIndex:vE,fillOpacity:Cu,strokeOpacity:Cu,numOctaves:vE},G3={...Py,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:zm,WebkitFilter:zm},_x=t=>G3[t];function wx(t,e){let n=_x(t);return n!==zm&&(n=ki),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Q3=new Set(["auto","none","0"]);function Y3(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Q3.has(a)&&Ru(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=wx(n,i)}class X3 extends Cy{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),_y(p))){const g=mx(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!gx.has(r)||e.length!==2)return;const[i,a]=e,l=yE(i),h=yE(a);if(l!==h)if(fE(l)&&fE(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else wo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||z3(e[i]))&&r.push(i);r.length&&Y3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=wo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function J3(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Ex=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Tx(t){return OS(t)&&"offsetHeight"in t}const _E=30,Z3=t=>!isNaN(parseFloat(t));class ej{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=En.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=En.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Z3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gy);const r=this.events[e].add(n);return e==="change"?()=>{r(),at.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_E)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_E);return FS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(t,e){return new ej(t,e)}const{schedule:ky}=YS(queueMicrotask,!1),fr={x:!1,y:!1};function Ix(){return fr.x||fr.y}function tj(t){return t==="x"||t==="y"?fr[t]?null:(fr[t]=!0,()=>{fr[t]=!1}):fr.x||fr.y?null:(fr.x=fr.y=!0,()=>{fr.x=fr.y=!1})}function Sx(t,e){const n=J3(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function wE(t){return!(t.pointerType==="touch"||Ix())}function nj(t,e,n={}){const[r,i,a]=Sx(t,n),l=h=>{if(!wE(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=_=>{wE(_)&&(p(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,i)};return r.forEach(h=>{h.addEventListener("pointerenter",l,i)}),a}const xx=(t,e)=>e?t===e?!0:xx(t,e.parentElement):!1,by=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sj(t){return rj.has(t.tagName)||t.tabIndex!==-1}const Nh=new WeakSet;function EE(t){return e=>{e.key==="Enter"&&t(e)}}function Kp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ij=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=EE(()=>{if(Nh.has(n))return;Kp(n,"down");const i=EE(()=>{Kp(n,"up")}),a=()=>Kp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function TE(t){return by(t)&&!Ix()}function oj(t,e,n={}){const[r,i,a]=Sx(t,n),l=h=>{const f=h.currentTarget;if(!TE(h))return;Nh.add(f);const p=e(f,h),g=(A,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),Nh.has(f)&&Nh.delete(f),TE(A)&&typeof p=="function"&&p(A,{success:D})},_=A=>{g(A,f===window||f===document||n.useGlobalTarget||xx(f,A.target))},w=A=>{g(A,!1)};window.addEventListener("pointerup",_,i),window.addEventListener("pointercancel",w,i)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,i),Tx(h)&&(h.addEventListener("focus",p=>ij(p,i)),!sj(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function Ax(t){return OS(t)&&"ownerSVGElement"in t}function aj(t){return Ax(t)&&t.tagName==="svg"}const nn=t=>!!(t&&t.getVelocity),lj=[...vx,xt,ki],uj=t=>lj.find(yx(t)),Ny=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function IE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cj(...t){return e=>{let n=!1;const r=t.map(i=>{const a=IE(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():IE(t[i],null)}}}}function hj(...t){return b.useCallback(cj(...t),t)}class dj extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Tx(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fj({children:t,isPresent:e,anchorX:n,root:r}){const i=b.useId(),a=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=b.useContext(Ny),f=hj(a,t?.ref);return b.useInsertionEffect(()=>{const{width:p,height:g,top:_,left:w,right:A}=l.current;if(e||!a.current||!p||!g)return;const D=n==="left"?`left: ${w}`:`right: ${A}`;a.current.dataset.motionPopId=i;const V=document.createElement("style");h&&(V.nonce=h);const k=r??document.head;return k.appendChild(V),V.sheet&&V.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${D}px !important;
            top: ${_}px !important;
          }
        `),()=>{k.contains(V)&&k.removeChild(V)}},[e]),T.jsx(dj,{isPresent:e,childRef:a,sizeRef:l,children:b.cloneElement(t,{ref:f})})}const pj=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:h,root:f})=>{const p=cy(mj),g=b.useId();let _=!0,w=b.useMemo(()=>(_=!1,{id:g,initial:e,isPresent:n,custom:i,onExitComplete:A=>{p.set(A,!0);for(const D of p.values())if(!D)return;r&&r()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,r]);return a&&_&&(w={...w}),b.useMemo(()=>{p.forEach((A,D)=>p.set(D,!1))},[n]),b.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),l==="popLayout"&&(t=T.jsx(fj,{isPresent:n,anchorX:h,root:f,children:t})),T.jsx(zd.Provider,{value:w,children:t})};function mj(){return new Map}function Cx(t=!0){const e=b.useContext(zd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=b.useId();b.useEffect(()=>{if(t)return i(a)},[t]);const l=b.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const yh=t=>t.key||"";function SE(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const gj=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:h="left",root:f})=>{const[p,g]=Cx(l),_=b.useMemo(()=>SE(t),[t]),w=l&&!p?[]:_.map(yh),A=b.useRef(!0),D=b.useRef(_),V=cy(()=>new Map),[k,$]=b.useState(_),[F,z]=b.useState(_);MS(()=>{A.current=!1,D.current=_;for(let J=0;J<F.length;J++){const R=yh(F[J]);w.includes(R)?V.delete(R):V.get(R)!==!0&&V.set(R,!1)}},[F,w.length,w.join("-")]);const X=[];if(_!==k){let J=[..._];for(let R=0;R<F.length;R++){const x=F[R],C=yh(x);w.includes(C)||(J.splice(R,0,x),X.push(x))}return a==="wait"&&X.length&&(J=X),z(SE(J)),$(_),null}const{forceRender:q}=b.useContext(uy);return T.jsx(T.Fragment,{children:F.map(J=>{const R=yh(J),x=l&&!p?!1:_===F||w.includes(R),C=()=>{if(V.has(R))V.set(R,!0);else return;let M=!0;V.forEach(L=>{L||(M=!1)}),M&&(q?.(),z(D.current),l&&g?.(),r&&r())};return T.jsx(pj,{isPresent:x,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:f,onExitComplete:x?void 0:C,anchorX:h,children:J},R)})})},Rx=b.createContext({strict:!1}),xE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qa={};for(const t in xE)qa[t]={isEnabled:e=>xE[t].some(n=>!!e[n])};function yj(t){for(const e in t)qa[e]={...qa[e],...t[e]}}const vj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ad(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vj.has(t)}let Px=t=>!ad(t);function _j(t){typeof t=="function"&&(Px=e=>e.startsWith("on")?!ad(e):t(e))}try{_j(require("@emotion/is-prop-valid").default)}catch{}function wj(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Px(i)||n===!0&&ad(i)||!e&&!ad(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Hd=b.createContext({});function Wd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pu(t){return typeof t=="string"||Array.isArray(t)}const Dy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vy=["initial",...Dy];function qd(t){return Wd(t.animate)||Vy.some(e=>Pu(t[e]))}function kx(t){return!!(qd(t)||t.variants)}function Ej(t,e){if(qd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Pu(n)?n:void 0,animate:Pu(r)?r:void 0}}return t.inherit!==!1?e:{}}function Tj(t){const{initial:e,animate:n}=Ej(t,b.useContext(Hd));return b.useMemo(()=>({initial:e,animate:n}),[AE(e),AE(n)])}function AE(t){return Array.isArray(t)?t.join(" "):t}function CE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=CE(t,e.target.x),r=CE(t,e.target.y);return`${n}% ${r}%`}},Ij={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ki.parse(t);if(i.length>5)return r;const a=ki.createTransformer(t),l=typeof i[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;i[0+l]/=h,i[1+l]/=f;const p=dt(h,f,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),a(i)}},Hm={borderRadius:{...Xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xl,borderTopRightRadius:Xl,borderBottomLeftRadius:Xl,borderBottomRightRadius:Xl,boxShadow:Ij};function bx(t,{layout:e,layoutId:n}){return ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Hm[t]||t==="opacity")}const Sj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xj=il.length;function Aj(t,e,n){let r="",i=!0;for(let a=0;a<xj;a++){const l=il[a],h=t[l];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(l.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=Ex(h,Py[l]);if(!f){i=!1;const g=Sj[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function My(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,h=!1;for(const f in e){const p=e[f];if(ol.has(f)){l=!0;continue}else if(JS(f)){i[f]=p;continue}else{const g=Ex(p,Py[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(l||n?r.transform=Aj(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const Ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nx(t,e,n){for(const r in e)!nn(e[r])&&!bx(r,n)&&(t[r]=e[r])}function Cj({transformTemplate:t},e){return b.useMemo(()=>{const n=Ly();return My(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Rj(t,e){const n=t.style||{},r={};return Nx(r,n,t),Object.assign(r,Cj(t,e)),r}function Pj(t,e){const n={},r=Rj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const kj={offset:"stroke-dashoffset",array:"stroke-dasharray"},bj={offset:"strokeDashoffset",array:"strokeDasharray"};function Nj(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?kj:bj;t[a.offset]=Te.transform(-r);const l=Te.transform(e),h=Te.transform(n);t[a.array]=`${l} ${h}`}function Dx(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...h},f,p,g){if(My(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:w}=t;_.transform&&(w.transform=_.transform,delete _.transform),(w.transform||_.transformOrigin)&&(w.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),i!==void 0&&Nj(_,i,a,l,!1)}const Vx=()=>({...Ly(),attrs:{}}),Mx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Dj(t,e,n,r){const i=b.useMemo(()=>{const a=Vx();return Dx(a,e,Mx(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Nx(a,t.style,t),i.style={...a,...i.style}}return i}const Vj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Oy(t){return typeof t!="string"||t.includes("-")?!1:!!(Vj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Mj(t,e,n,{latestValues:r},i,a=!1){const h=(Oy(t)?Dj:Pj)(e,r,i,t),f=wj(e,typeof t=="string",a),p=t!==b.Fragment?{...f,...h,ref:n}:{},{children:g}=e,_=b.useMemo(()=>nn(g)?g.get():g,[g]);return b.createElement(t,{...p,children:_})}function RE(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function jy(t,e,n,r){if(typeof e=="function"){const[i,a]=RE(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=RE(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function Dh(t){return nn(t)?t.get():t}function Lj({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Oj(n,r,i,t),renderState:e()}}function Oj(t,e,n,r){const i={},a=r(t,{});for(const w in a)i[w]=Dh(a[w]);let{initial:l,animate:h}=t;const f=qd(t),p=kx(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?h:l;if(_&&typeof _!="boolean"&&!Wd(_)){const w=Array.isArray(_)?_:[_];for(let A=0;A<w.length;A++){const D=jy(t,w[A]);if(D){const{transitionEnd:V,transition:k,...$}=D;for(const F in $){let z=$[F];if(Array.isArray(z)){const X=g?z.length-1:0;z=z[X]}z!==null&&(i[F]=z)}for(const F in V)i[F]=V[F]}}}return i}const Lx=t=>(e,n)=>{const r=b.useContext(Hd),i=b.useContext(zd),a=()=>Lj(t,e,r,i);return n?a():cy(a)};function Fy(t,e,n){const{style:r}=t,i={};for(const a in r)(nn(r[a])||e.style&&nn(e.style[a])||bx(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const jj=Lx({scrapeMotionValuesFromProps:Fy,createRenderState:Ly});function Ox(t,e,n){const r=Fy(t,e,n);for(const i in t)if(nn(t[i])||nn(e[i])){const a=il.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const Fj=Lx({scrapeMotionValuesFromProps:Ox,createRenderState:Vx}),Uj=Symbol.for("motionComponentSymbol");function Sa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bj(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Sa(n)&&(n.current=r))},[e])}const Uy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$j="framerAppearId",jx="data-"+Uy($j),Fx=b.createContext({});function zj(t,e,n,r,i){const{visualElement:a}=b.useContext(Hd),l=b.useContext(Rx),h=b.useContext(zd),f=b.useContext(Ny).reducedMotion,p=b.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,_=b.useContext(Fx);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&Hj(p.current,n,i,_);const w=b.useRef(!1);b.useInsertionEffect(()=>{g&&w.current&&g.update(n,h)});const A=n[jx],D=b.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return MS(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),D.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!D.current&&g.animationState&&g.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),D.current=!1),g.enteringChildren=void 0)}),g}function Hj(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Ux(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||h&&Sa(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:p})}function Ux(t){if(t)return t.options.allowProjection!==!1?t.projection:Ux(t.parent)}function Gp(t,{forwardMotionProps:e=!1}={},n,r){n&&yj(n);const i=Oy(t)?Fj:jj;function a(h,f){let p;const g={...b.useContext(Ny),...h,layoutId:Wj(h)},{isStatic:_}=g,w=Tj(h),A=i(h,_);if(!_&&hy){qj();const D=Kj(g);p=D.MeasureLayout,w.visualElement=zj(t,A,g,r,D.ProjectionNode)}return T.jsxs(Hd.Provider,{value:w,children:[p&&w.visualElement?T.jsx(p,{visualElement:w.visualElement,...g}):null,Mj(t,h,Bj(A,w.visualElement,f),A,_,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(a);return l[Uj]=t,l}function Wj({layoutId:t}){const e=b.useContext(uy).id;return e&&t!==void 0?e+"-"+t:t}function qj(t,e){b.useContext(Rx).strict}function Kj(t){const{drag:e,layout:n}=qa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Gj(t,e){if(typeof Proxy>"u")return Gp;const n=new Map,r=(a,l)=>Gp(a,l,t,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Gp(l,void 0,t,e)),n.get(l))})}function Bx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Qj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Yj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qp(t){return t===void 0||t===1}function Wm({scale:t,scaleX:e,scaleY:n}){return!Qp(t)||!Qp(e)||!Qp(n)}function po(t){return Wm(t)||$x(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $x(t){return PE(t.x)||PE(t.y)}function PE(t){return t&&t!=="0%"}function ld(t,e,n){const r=t-n,i=e*r;return n+i}function kE(t,e,n,r,i){return i!==void 0&&(t=ld(t,i,r)),ld(t,n,r)+e}function qm(t,e=0,n=1,r,i){t.min=kE(t.min,e,n,r,i),t.max=kE(t.max,e,n,r,i)}function zx(t,{x:e,y:n}){qm(t.x,e.translate,e.scale,e.originPoint),qm(t.y,n.translate,n.scale,n.originPoint)}const bE=.999999999999,NE=1.0000000000001;function Xj(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let h=0;h<i;h++){a=n[h],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Aa(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,zx(t,l)),r&&po(a.latestValues)&&Aa(t,a.latestValues))}e.x<NE&&e.x>bE&&(e.x=1),e.y<NE&&e.y>bE&&(e.y=1)}function xa(t,e){t.min=t.min+e,t.max=t.max+e}function DE(t,e,n,r,i=.5){const a=dt(t.min,t.max,i);qm(t,e,n,a,r)}function Aa(t,e){DE(t.x,e.x,e.scaleX,e.scale,e.originX),DE(t.y,e.y,e.scaleY,e.scale,e.originY)}function Hx(t,e){return Bx(Yj(t.getBoundingClientRect(),e))}function Jj(t,e,n){const r=Hx(t,n),{scroll:i}=e;return i&&(xa(r.x,i.offset.x),xa(r.y,i.offset.y)),r}const VE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ca=()=>({x:VE(),y:VE()}),ME=()=>({min:0,max:0}),Nt=()=>({x:ME(),y:ME()}),Km={current:null},Wx={current:!1};function Zj(){if(Wx.current=!0,!!hy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Km.current=t.matches;t.addEventListener("change",e),e()}else Km.current=!1}const eF=new WeakMap;function tF(t,e,n){for(const r in e){const i=e[r],a=n[r];if(nn(i))t.addValue(r,i);else if(nn(a))t.addValue(r,Wa(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Wa(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const LE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=En.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,at.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=qd(n),this.isVariantNode=kx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in _){const A=_[w];f[w]!==void 0&&nn(A)&&A.set(f[w])}}mount(e){this.current=e,eF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Wx.current||Zj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Km.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pi(this.notifyUpdate),Pi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ol.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&at.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qa){const n=qa[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LE.length;r++){const i=LE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=tF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wa(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(LS(r)||jS(r))?r=parseFloat(r):!uj(r)&&ki.test(n)&&(r=wx(e,n)),this.setBaseTarget(e,nn(r)?r.get():r)),nn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=jy(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!nn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ky.render(this.render)}}class qx extends nF{constructor(){super(...arguments),this.KeyframeResolver=X3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Kx(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function rF(t){return window.getComputedStyle(t)}class sF extends qx{constructor(){super(...arguments),this.type="html",this.renderInstance=Kx}readValueFromInstance(e,n){if(ol.has(n))return this.projection?.isProjecting?Om(n):g3(e,n);{const r=rF(e),i=(JS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Hx(e,n)}build(e,n,r){My(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Fy(e,n,r)}}const Gx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iF(t,e,n,r){Kx(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Gx.has(i)?i:Uy(i),e.attrs[i])}class oF extends qx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ol.has(n)){const r=_x(n);return r&&r.default||0}return n=Gx.has(n)?n:Uy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Ox(e,n,r)}build(e,n,r){Dx(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){iF(e,n,r,i)}mount(e){this.isSVGTag=Mx(e.tagName),super.mount(e)}}const aF=(t,e)=>Oy(t)?new oF(e):new sF(e,{allowProjection:t!==b.Fragment});function La(t,e,n){const r=t.getProps();return jy(r,e,n!==void 0?n:r.custom,t)}const Gm=t=>Array.isArray(t);function lF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wa(n))}function uF(t){return Gm(t)?t[t.length-1]||0:t}function cF(t,e){const n=La(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const h=uF(a[l]);lF(t,l,h)}}function hF(t){return!!(nn(t)&&t.add)}function Qm(t,e){const n=t.getValue("willChange");if(hF(n))return n.add(e);if(!n&&Vs.WillChange){const r=new Vs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Qx(t){return t.props[jx]}const dF=t=>t!==null;function fF(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(dF),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const pF={type:"spring",stiffness:500,damping:25,restSpeed:10},mF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gF={type:"keyframes",duration:.8},yF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vF=(t,{keyframes:e})=>e.length>2?gF:ol.has(t)?t.startsWith("scale")?mF(e[1]):pF:yF;function _F({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const By=(t,e,n,r={},i,a)=>l=>{const h=Ry(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Qr(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:i};_F(h)||Object.assign(g,vF(t,g)),g.duration&&(g.duration=Qr(g.duration)),g.repeatDelay&&(g.repeatDelay=Qr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&($m(g),g.delay===0&&(_=!0)),(Vs.instantAnimations||Vs.skipAnimations)&&(_=!0,$m(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const w=fF(g.keyframes,h);if(w!==void 0){at.update(()=>{g.onUpdate(w),g.onComplete()});return}}return h.isSync?new Ay(g):new F3(g)};function wF({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Yx(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...h}=e;r&&(a=r);const f=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const g in h){const _=t.getValue(g,t.latestValues[g]??null),w=h[g];if(w===void 0||p&&wF(p,g))continue;const A={delay:n,...Ry(a||{},g)},D=_.get();if(D!==void 0&&!_.isAnimating&&!Array.isArray(w)&&w===D&&!A.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const $=Qx(t);if($){const F=window.MotionHandoffAnimation($,g,at);F!==null&&(A.startTime=F,V=!0)}}Qm(t,g),_.start(By(g,_,w,t.shouldReduceMotion&&gx.has(g)?{type:!1}:A,t,V));const k=_.animation;k&&f.push(k)}return l&&Promise.all(f).then(()=>{at.update(()=>{l&&cF(t,l)})}),f}function Xx(t,e,n,r=0,i=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=t.size,h=(l-1)*r;return typeof n=="function"?n(a,l):i===1?a*r:h-a*r}function Ym(t,e,n={}){const r=La(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(Yx(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:_}=i;return EF(t,e,f,p,g,_,n)}:()=>Promise.resolve(),{when:h}=i;if(h){const[f,p]=h==="beforeChildren"?[a,l]:[l,a];return f().then(()=>p())}else return Promise.all([a(),l(n.delay)])}function EF(t,e,n=0,r=0,i=0,a=1,l){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Ym(f,e,{...l,delay:n+(typeof r=="function"?0:r)+Xx(t.variantChildren,f,r,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function TF(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Ym(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=Ym(t,e,n);else{const i=typeof e=="function"?La(t,e,n.custom):e;r=Promise.all(Yx(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Jx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const IF=Vy.length;function Zx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Zx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<IF;n++){const r=Vy[n],i=t.props[r];(Pu(i)||i===!1)&&(e[r]=i)}return e}const SF=[...Dy].reverse(),xF=Dy.length;function AF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>TF(t,n,r)))}function CF(t){let e=AF(t),n=OE(),r=!0;const i=f=>(p,g)=>{const _=La(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:w,transitionEnd:A,...D}=_;p={...p,...D,...A}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,g=Zx(t.parent)||{},_=[],w=new Set;let A={},D=1/0;for(let k=0;k<xF;k++){const $=SF[k],F=n[$],z=p[$]!==void 0?p[$]:g[$],X=Pu(z),q=$===f?F.isActive:null;q===!1&&(D=k);let J=z===g[$]&&z!==p[$]&&X;if(J&&r&&t.manuallyAnimateOnMount&&(J=!1),F.protectedKeys={...A},!F.isActive&&q===null||!z&&!F.prevProp||Wd(z)||typeof z=="boolean")continue;const R=RF(F.prevProp,z);let x=R||$===f&&F.isActive&&!J&&X||k>D&&X,C=!1;const M=Array.isArray(z)?z:[z];let L=M.reduce(i($),{});q===!1&&(L={});const{prevResolvedValues:B={}}=F,N={...B,...L},ze=_e=>{x=!0,w.has(_e)&&(C=!0,w.delete(_e)),F.needsAnimating[_e]=!0;const re=t.getValue(_e);re&&(re.liveStyle=!1)};for(const _e in N){const re=L[_e],ue=B[_e];if(A.hasOwnProperty(_e))continue;let ae=!1;Gm(re)&&Gm(ue)?ae=!Jx(re,ue):ae=re!==ue,ae?re!=null?ze(_e):w.add(_e):re!==void 0&&w.has(_e)?ze(_e):F.protectedKeys[_e]=!0}F.prevProp=z,F.prevResolvedValues=L,F.isActive&&(A={...A,...L}),r&&t.blockInitialAnimation&&(x=!1);const Ge=J&&R;x&&(!Ge||C)&&_.push(...M.map(_e=>{const re={type:$};if(typeof _e=="string"&&r&&!Ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,ae=La(ue,_e);if(ue.enteringChildren&&ae){const{delayChildren:U}=ae.transition||{};re.delay=Xx(ue.enteringChildren,t,U)}}return{animation:_e,options:re}}))}if(w.size){const k={};if(typeof p.initial!="boolean"){const $=La(t,Array.isArray(p.initial)?p.initial[0]:p.initial);$&&$.transition&&(k.transition=$.transition)}w.forEach($=>{const F=t.getBaseTarget($),z=t.getValue($);z&&(z.liveStyle=!0),k[$]=F??null}),_.push({animation:k})}let V=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(_):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(f,p)),n[f].isActive=p;const g=l(f);for(const _ in n)n[_].protectedKeys={};return g}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=OE()}}}function RF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Jx(e,t):!1}function co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OE(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class Oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PF extends Oi{constructor(e){super(e),e.animationState||(e.animationState=CF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let kF=0;class bF extends Oi{constructor(){super(...arguments),this.id=kF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const NF={animation:{Feature:PF},exit:{Feature:bF}};function ku(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ku(t){return{point:{x:t.pageX,y:t.pageY}}}const DF=t=>e=>by(e)&&t(e,Ku(e));function du(t,e,n,r){return ku(t,e,DF(n),r)}const eA=1e-4,VF=1-eA,MF=1+eA,tA=.01,LF=0-tA,OF=0+tA;function an(t){return t.max-t.min}function jF(t,e,n){return Math.abs(t-e)<=n}function jE(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=an(n)/an(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VF&&t.scale<=MF||isNaN(t.scale))&&(t.scale=1),(t.translate>=LF&&t.translate<=OF||isNaN(t.translate))&&(t.translate=0)}function fu(t,e,n,r){jE(t.x,e.x,n.x,r?r.originX:void 0),jE(t.y,e.y,n.y,r?r.originY:void 0)}function FE(t,e,n){t.min=n.min+e.min,t.max=t.min+an(e)}function FF(t,e,n){FE(t.x,e.x,n.x),FE(t.y,e.y,n.y)}function UE(t,e,n){t.min=e.min-n.min,t.max=t.min+an(e)}function ud(t,e,n){UE(t.x,e.x,n.x),UE(t.y,e.y,n.y)}function qn(t){return[t("x"),t("y")]}const nA=({current:t})=>t?t.ownerDocument.defaultView:null,BE=(t,e)=>Math.abs(t-e);function UF(t,e){const n=BE(t.x,e.x),r=BE(t.y,e.y);return Math.sqrt(n**2+r**2)}class rA{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Xp(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,D=UF(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!D)return;const{point:V}=w,{timestamp:k}=Ht;this.history.push({...V,timestamp:k});const{onStart:$,onMove:F}=this.handlers;A||($&&$(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,w)},this.handlePointerMove=(w,A)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Yp(A,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(w,A)=>{this.end();const{onEnd:D,onSessionEnd:V,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=Xp(w.type==="pointercancel"?this.lastMoveEventInfo:Yp(A,this.transformPagePoint),this.history);this.startEvent&&D&&D(w,$),V&&V(w,$)},!by(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const h=Ku(e),f=Yp(h,this.transformPagePoint),{point:p}=f,{timestamp:g}=Ht;this.history=[{...p,timestamp:g}];const{onSessionStart:_}=n;_&&_(e,Xp(f,this.history)),this.removeListeners=Hu(du(this.contextWindow,"pointermove",this.handlePointerMove),du(this.contextWindow,"pointerup",this.handlePointerUp),du(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Pi(this.updatePoint)}}function Yp(t,e){return e?{point:e(t.point)}:t}function $E(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xp({point:t},e){return{point:t,delta:$E(t,sA(e)),offset:$E(t,BF(e)),velocity:$F(e,.1)}}function BF(t){return t[0]}function sA(t){return t[t.length-1]}function $F(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=sA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Qr(e)));)n--;if(!r)return{x:0,y:0};const a=Gn(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function zF(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function zE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function HF(t,{top:e,left:n,bottom:r,right:i}){return{x:zE(t.x,n,i),y:zE(t.y,e,r)}}function HE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function WF(t,e){return{x:HE(t.x,e.x),y:HE(t.y,e.y)}}function qF(t,e){let n=.5;const r=an(t),i=an(e);return i>r?n=Au(e.min,e.max-r,t.min):r>i&&(n=Au(t.min,t.max-i,e.min)),Ds(0,1,n)}function KF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xm=.35;function GF(t=Xm){return t===!1?t=0:t===!0&&(t=Xm),{x:WE(t,"left","right"),y:WE(t,"top","bottom")}}function WE(t,e,n){return{min:qE(t,e),max:qE(t,n)}}function qE(t,e){return typeof t=="number"?t:t[e]||0}const QF=new WeakMap;class YF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ku(_).point)},l=(_,w)=>{const{drag:A,dragPropagation:D,onDragStart:V}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tj(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn($=>{let F=this.getAxisMotionValue($).get()||0;if(Yr.test(F)){const{projection:z}=this.visualElement;if(z&&z.layout){const X=z.layout.layoutBox[$];X&&(F=an(X)*(parseFloat(F)/100))}}this.originPoint[$]=F}),V&&at.postRender(()=>V(_,w)),Qm(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},h=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:V,onDrag:k}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:$}=w;if(D&&this.currentDirection===null){this.currentDirection=XF($),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",w.point,$),this.updateAxis("y",w.point,$),this.visualElement.render(),k&&k(_,w)},f=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w,this.stop(_,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>qn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new rA(e,{onSessionStart:a,onStart:l,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:nA(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:h}=this.getProps();h&&at.postRender(()=>h(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!vh(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=zF(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Sa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=HF(r.layoutBox,e):this.constraints=!1,this.elastic=GF(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=KF(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Jj(r,i.root,this.visualElement.getTransformPagePoint());let l=WF(i.layout.layoutBox,a);if(n){const h=n(Qj(l));this.hasMutatedConstraints=!!h,h&&(l=Bx(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=qn(g=>{if(!vh(g,n,this.currentDirection))return;let _=f&&f[g]||{};l&&(_={min:0,max:0});const w=i?200:1e6,A=i?40:1e7,D={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,D)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Qm(this.visualElement,e),r.start(By(e,r,0,n,this.visualElement,!1))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:r}=this.getProps();if(!vh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:h}=i.layout.layoutBox[n];a.set(e[n]-dt(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Sa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const f=h.get();i[l]=qF({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(l=>{if(!vh(l,e,null))return;const h=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];h.set(dt(f,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;QF.set(this.visualElement,this);const e=this.visualElement.current,n=du(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Sa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),at.read(r);const l=ku(window,"resize",()=>this.scalePositionWithinConstraints()),h=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(qn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Xm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class JF extends Oi{constructor(e){super(e),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new YF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const KE=t=>(e,n)=>{t&&at.postRender(()=>t(e,n))};class ZF extends Oi{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(e){this.session=new rA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:KE(e),onStart:KE(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&at.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=du(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Jp=!1;class e5 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),Jp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,Jp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||at.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ky.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Jp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iA(t){const[e,n]=Cx(),r=b.useContext(uy);return T.jsx(e5,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(Fx),isPresent:e,safeToRemove:n})}function t5(t,e,n){const r=nn(t)?t:Wa(t);return r.start(By("",r,e,n)),r.animation}const n5=(t,e)=>t.depth-e.depth;class r5{constructor(){this.children=[],this.isDirty=!1}add(e){dy(this.children,e),this.isDirty=!0}remove(e){fy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(n5),this.isDirty=!1,this.children.forEach(e)}}function s5(t,e){const n=En.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Pi(r),t(a-e))};return at.setup(r,!0),()=>Pi(r)}const oA=["TopLeft","TopRight","BottomLeft","BottomRight"],i5=oA.length,GE=t=>typeof t=="string"?parseFloat(t):t,QE=t=>typeof t=="number"||Te.test(t);function o5(t,e,n,r,i,a){i?(t.opacity=dt(0,n.opacity??1,a5(r)),t.opacityExit=dt(e.opacity??1,0,l5(r))):a&&(t.opacity=dt(e.opacity??1,n.opacity??1,r));for(let l=0;l<i5;l++){const h=`border${oA[l]}Radius`;let f=YE(e,h),p=YE(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||QE(f)===QE(p)?(t[h]=Math.max(dt(GE(f),GE(p),r),0),(Yr.test(p)||Yr.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function YE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const a5=aA(0,.5,qS),l5=aA(.5,.95,Qn);function aA(t,e,n){return r=>r<t?0:r>e?1:n(Au(t,e,r))}function XE(t,e){t.min=e.min,t.max=e.max}function dr(t,e){XE(t.x,e.x),XE(t.y,e.y)}function JE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ZE(t,e,n,r,i){return t-=e,t=ld(t,1/n,r),i!==void 0&&(t=ld(t,1/i,r)),t}function u5(t,e=0,n=1,r=.5,i,a=t,l=t){if(Yr.test(e)&&(e=parseFloat(e),e=dt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=dt(a.min,a.max,r);t===a&&(h-=e),t.min=ZE(t.min,e,n,h,i),t.max=ZE(t.max,e,n,h,i)}function eT(t,e,[n,r,i],a,l){u5(t,e[n],e[r],e[i],e.scale,a,l)}const c5=["x","scaleX","originX"],h5=["y","scaleY","originY"];function tT(t,e,n,r){eT(t.x,e,c5,n?n.x:void 0,r?r.x:void 0),eT(t.y,e,h5,n?n.y:void 0,r?r.y:void 0)}function nT(t){return t.translate===0&&t.scale===1}function lA(t){return nT(t.x)&&nT(t.y)}function rT(t,e){return t.min===e.min&&t.max===e.max}function d5(t,e){return rT(t.x,e.x)&&rT(t.y,e.y)}function sT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uA(t,e){return sT(t.x,e.x)&&sT(t.y,e.y)}function iT(t){return an(t.x)/an(t.y)}function oT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class f5{constructor(){this.members=[]}add(e){dy(this.members,e),e.scheduleRender()}remove(e){if(fy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p5(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:w,skewX:A,skewY:D}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),w&&(r+=`rotateY(${w}deg) `),A&&(r+=`skewX(${A}deg) `),D&&(r+=`skewY(${D}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Zp=["","X","Y","Z"],m5=1e3;let g5=0;function em(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Qx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cA(r)}function hA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},h=e?.()){this.id=g5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_5),this.nodes.forEach(I5),this.nodes.forEach(S5),this.nodes.forEach(w5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new r5)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new gy),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const f=this.eventHandlers.get(l);f&&f.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Ax(l)&&!aj(l),this.instance=l;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,_=0;const w=()=>this.root.updateBlockedByResize=!1;at.read(()=>{_=window.innerWidth}),t(l,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,g&&g(),g=s5(w,250),Vh.hasAnimatedSinceResize&&(Vh.hasAnimatedSinceResize=!1,this.nodes.forEach(uT)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||P5,{onLayoutAnimationStart:V,onLayoutAnimationComplete:k}=p.getProps(),$=!this.targetLayout||!uA(this.targetLayout,A),F=!_&&w;if(this.options.layoutRoot||this.resumeFrom||F||_&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...Ry(D,"layout"),onPlay:V,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(g,F)}else _||uT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x5),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(T5),this.nodes.forEach(y5),this.nodes.forEach(v5)):this.nodes.forEach(lT),this.clearAllSnapshots();const h=En.now();Ht.delta=Ds(0,1e3/60,h-Ht.timestamp),Ht.timestamp=h,Ht.isProcessing=!0,$p.update.process(Ht),$p.preRender.process(Ht),$p.render.process(Ht),Ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ky.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(E5),this.sharedNodes.forEach(A5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!an(this.snapshot.measuredBox.x)&&!an(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!lA(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(h||po(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return l&&(f=this.removeTransform(f)),k5(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Nt();const h=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(b5))){const{scroll:p}=this.root;p&&(xa(h.x,p.offset.x),xa(h.y,p.offset.y))}return h}removeElementScroll(l){const h=Nt();if(dr(h,l),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:_}=p;p!==this.root&&g&&_.layoutScroll&&(g.wasRoot&&dr(h,l),xa(h.x,g.offset.x),xa(h.y,g.offset.y))}return h}applyTransform(l,h=!1){const f=Nt();dr(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Aa(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),po(g.latestValues)&&Aa(f,g.latestValues)}return po(this.latestValues)&&Aa(f,this.latestValues),f}removeTransform(l){const h=Nt();dr(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!po(p.latestValues))continue;Wm(p.latestValues)&&p.updateSnapshot();const g=Nt(),_=p.measurePageBox();dr(g,_),tT(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return po(this.latestValues)&&tT(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:_}=this.options;if(!this.layout||!(g||_))return;this.resolvedRelativeTargetAt=Ht.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),zx(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Wm(this.parent.latestValues)||$x(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,h,f){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),ud(this.relativeTargetOrigin,h,f),dr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),h=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ht.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;dr(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;Xj(this.layoutCorrected,this.treeScale,this.path,h),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Nt());const{target:A}=l;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JE(this.prevProjectionDelta.x,this.projectionDelta.x),JE(this.prevProjectionDelta.y,this.projectionDelta.y)),fu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!oT(this.projectionDelta.x,this.prevProjectionDelta.x)||!oT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ca(),this.projectionDelta=Ca(),this.projectionDeltaWithTransform=Ca()}setAnimationOrigin(l,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=Ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Nt(),A=f?f.source:void 0,D=this.layout?this.layout.source:void 0,V=A!==D,k=this.getStack(),$=!k||k.members.length<=1,F=!!(V&&!$&&this.options.crossfade===!0&&!this.path.some(R5));this.animationProgress=0;let z;this.mixTargetDelta=X=>{const q=X/1e3;cT(_.x,l.x,q),cT(_.y,l.y,q),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ud(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C5(this.relativeTarget,this.relativeTargetOrigin,w,q),z&&d5(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Nt()),dr(z,this.relativeTarget)),V&&(this.animationValues=g,o5(g,p,this.latestValues,q,F,$)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{Vh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wa(0)),this.currentAnimation=t5(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=l;if(!(!h||!f||!p)){if(this!==l&&this.layout&&p&&dA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Nt();const _=an(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const w=an(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+w}dr(h,f),Aa(h,g),fu(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new f5),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&em("z",l,p,this.animationValues);for(let g=0;g<Zp.length;g++)em(`rotate${Zp[g]}`,l,p,this.animationValues),em(`skew${Zp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Dh(h?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Dh(h?.pointerEvents)||""),this.hasProjected&&!po(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=p5(this.projectionDeltaWithTransform,this.treeScale,g);f&&(_=f(g,_)),l.transform=_;const{x:w,y:A}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const D in Hm){if(g[D]===void 0)continue;const{correct:V,applyTo:k,isCSSVariable:$}=Hm[D],F=_==="none"?g[D]:V(g[D],p);if(k){const z=k.length;for(let X=0;X<z;X++)l[k[X]]=F}else $?this.options.visualElement.renderState.vars[D]=F:l[D]=F}this.options.layoutId&&(l.pointerEvents=p===this?Dh(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(aT),this.root.sharedNodes.clear()}}}function y5(t){t.updateLayout()}function v5(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?qn(g=>{const _=a?e.measuredBox[g]:e.layoutBox[g],w=an(_);_.min=n[g].min,_.max=_.min+w}):dA(i,e.layoutBox,n)&&qn(g=>{const _=a?e.measuredBox[g]:e.layoutBox[g],w=an(n[g]);_.max=_.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const l=Ca();fu(l,n,e.layoutBox);const h=Ca();a?fu(h,t.applyTransform(r,!0),e.measuredBox):fu(h,n,e.layoutBox);const f=!lA(l);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:_,layout:w}=g;if(_&&w){const A=Nt();ud(A,e.layoutBox,_.layoutBox);const D=Nt();ud(D,n,w.layoutBox),uA(A,D)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=A,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function _5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function w5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function E5(t){t.clearSnapshot()}function aT(t){t.clearMeasurements()}function lT(t){t.isLayoutDirty=!1}function T5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function uT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function I5(t){t.resolveTargetDelta()}function S5(t){t.calcProjection()}function x5(t){t.resetSkewAndRotation()}function A5(t){t.removeLeadSnapshot()}function cT(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hT(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function C5(t,e,n,r){hT(t.x,e.x,n.x,r),hT(t.y,e.y,n.y,r)}function R5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const P5={duration:.45,ease:[.4,0,.1,1]},dT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),fT=dT("applewebkit/")&&!dT("chrome/")?Math.round:Qn;function pT(t){t.min=fT(t.min),t.max=fT(t.max)}function k5(t){pT(t.x),pT(t.y)}function dA(t,e,n){return t==="position"||t==="preserve-aspect"&&!jF(iT(e),iT(n),.2)}function b5(t){return t!==t.root&&t.scroll?.wasRoot}const N5=hA({attachResizeListener:(t,e)=>ku(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tm={current:void 0},fA=hA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tm.current){const t=new N5({});t.mount(window),t.setOptions({layoutScroll:!0}),tm.current=t}return tm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),D5={pan:{Feature:ZF},drag:{Feature:JF,ProjectionNode:fA,MeasureLayout:iA}};function mT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&at.postRender(()=>a(e,Ku(e)))}class V5 extends Oi{mount(){const{current:e}=this.node;e&&(this.unmount=nj(e,(n,r)=>(mT(this.node,r,"Start"),i=>mT(this.node,i,"End"))))}unmount(){}}class M5 extends Oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&at.postRender(()=>a(e,Ku(e)))}class L5 extends Oi{mount(){const{current:e}=this.node;e&&(this.unmount=oj(e,(n,r)=>(gT(this.node,r,"Start"),(i,{success:a})=>gT(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jm=new WeakMap,nm=new WeakMap,O5=t=>{const e=Jm.get(t.target);e&&e(t)},j5=t=>{t.forEach(O5)};function F5({root:t,...e}){const n=t||document;nm.has(n)||nm.set(n,{});const r=nm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(j5,{root:t,...e})),r[i]}function U5(t,e,n){const r=F5(e);return Jm.set(t,n),r.observe(t),()=>{Jm.delete(t),r.unobserve(t)}}const B5={some:0,all:1};class $5 extends Oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:B5[i]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),w=p?g:_;w&&w(f)};return U5(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(z5(e,n))&&this.startObserver()}unmount(){}}function z5({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const H5={inView:{Feature:$5},tap:{Feature:L5},focus:{Feature:M5},hover:{Feature:V5}},W5={layout:{ProjectionNode:fA,MeasureLayout:iA}},q5={...NF,...H5,...D5,...W5},K5=Gj(q5,aF);function G5({notifications:t,onRemove:e}){return T.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-50 w-[90%] max-w-sm space-y-3",children:T.jsx(gj,{children:t.map(n=>T.jsxs(K5.div,{initial:{opacity:0,y:-30,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.25},className:`flex items-center gap-3 rounded-2xl px-4 py-3 shadow-lg border backdrop-blur-md
              ${n.type==="success"?"bg-green-50 border-green-200 text-green-800":n.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"}
            `,children:[n.type==="success"&&T.jsx(uP,{className:"w-5 h-5 text-green-600"}),n.type==="error"&&T.jsx(fP,{className:"w-5 h-5 text-red-600"}),n.type==="info"&&T.jsx(EP,{className:"w-5 h-5 text-blue-600"}),T.jsx("p",{className:"flex-1 text-sm font-medium",children:n.message}),T.jsx("button",{onClick:()=>e(n.id),className:"opacity-60 hover:opacity-100 transition",children:T.jsx(LT,{className:"w-4 h-4"})})]},n.id))})})}function Q5({medalLevel:t,onClose:e}){const[n,r]=b.useState(!1);b.useEffect(()=>{setTimeout(()=>r(!0),100)},[]);const i={1:{emoji:"",color:"from-amber-600 to-amber-400",title:"Bronze Eco Champion",bg:"bg-amber-50"},2:{emoji:"",color:"from-gray-400 to-gray-300",title:"Silver Eco Champion",bg:"bg-gray-50"},3:{emoji:"",color:"from-yellow-500 to-yellow-300",title:"Gold Eco Champion",bg:"bg-yellow-50"},4:{emoji:"",color:"from-cyan-500 to-blue-400",title:"Platinum Eco Champion",bg:"bg-cyan-50"},5:{emoji:"",color:"from-purple-500 to-pink-400",title:"Diamond Eco Champion",bg:"bg-purple-50"}},a=i[t]||i[Math.min(t,5)]||i[5],l=()=>{r(!1),setTimeout(e,300)};return T.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[T.jsx("div",{className:`absolute inset-0 bg-black transition-opacity duration-300 ${n?"opacity-50":"opacity-0"}`,onClick:l}),T.jsxs("div",{className:`relative bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all duration-300 ${n?"scale-100 opacity-100":"scale-90 opacity-0"}`,children:[T.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a.color} opacity-10`}),T.jsx("button",{onClick:l,className:"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-white/50 hover:bg-white/80 flex items-center justify-center transition-colors",children:T.jsx(LT,{className:"w-5 h-5"})}),T.jsxs("div",{className:"relative z-10 p-8 text-center",children:[T.jsxs("div",{className:"mb-6 animate-bounce-slow",children:[T.jsx("div",{className:"text-8xl mb-2",children:a.emoji}),T.jsxs("div",{className:"flex justify-center gap-2",children:[T.jsx(xp,{className:"w-6 h-6 text-[#34A853] animate-pulse"}),T.jsx(xp,{className:"w-6 h-6 text-[#34A853] animate-pulse delay-75"}),T.jsx(xp,{className:"w-6 h-6 text-[#34A853] animate-pulse delay-150"})]})]}),T.jsx("h2",{className:"text-3xl mb-2",children:"Congratulations!"}),T.jsx("h3",{className:"text-xl text-[#34A853] mb-4",children:a.title}),T.jsx("div",{className:"w-16 h-1 bg-[#34A853] rounded-full mx-auto mb-6"}),T.jsxs("p",{className:"text-lg mb-2",children:["You've reached ",t*1e3," points!"]}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Keep up the amazing work protecting our planet!"}),T.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[T.jsx("div",{className:"text-4xl animate-bounce delay-0",children:""}),T.jsx("div",{className:"text-4xl animate-bounce delay-100",children:""}),T.jsx("div",{className:"text-4xl animate-bounce delay-200",children:""})]}),T.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 mb-6 border-2 border-green-100",children:[T.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[T.jsx(Du,{className:"w-8 h-8 text-[#34A853]"}),T.jsx("div",{className:"text-4xl text-[#34A853]",children:t*1e3})]}),T.jsx("p",{className:"text-gray-600",children:"Points Milestone Achieved"})]}),T.jsx("button",{onClick:l,className:"w-full bg-[#34A853] text-white rounded-full py-4 hover:bg-green-600 transition-colors shadow-lg",children:"Continue Journey"})]})]})]})}function Y5({children:t}){return T.jsx("div",{className:"min-h-screen w-full",children:t})}function X5(){const[t,e]=b.useState(()=>localStorage.getItem("hasSeenOnboarding")==="true"),[n,r]=b.useState(!1),[i,a]=b.useState([]),[l,h]=b.useState(!1),[f,p]=b.useState(1),g=()=>{e(!0),localStorage.setItem("hasSeenOnboarding","true")};b.useEffect(()=>{xN(Gr,vg).then(()=>console.log("Firebase session-only persistence enabled")).catch(D=>console.error("Error setting session persistence:",D))},[]),b.useEffect(()=>{const D=RN(Gr,V=>{r(!!V)});return()=>D()},[]);const _=async()=>{await PN(Gr),r(!1)},w=(D,V="success")=>{const k=Date.now();a($=>[...$,{id:k,message:D,type:V}]),setTimeout(()=>{a($=>$.filter(F=>F.id!==k))},4e3)},A=D=>{p(D),h(!0)};return t?n?T.jsx(Y5,{children:T.jsx(zR,{children:T.jsxs("div",{className:"min-h-screen bg-white pb-20",children:[T.jsxs(wR,{children:[T.jsx(ho,{path:"/",element:T.jsx(a4,{addNotification:w})}),T.jsx(ho,{path:"/scan",element:T.jsx(l4,{addNotification:w,triggerMedalSplash:A})}),T.jsx(ho,{path:"/history",element:T.jsx(u4,{})}),T.jsx(ho,{path:"/rewards",element:T.jsx(c4,{addNotification:w})}),T.jsx(ho,{path:"/profile",element:T.jsx(d4,{onLogout:_})}),T.jsx(ho,{path:"*",element:T.jsx(vR,{to:"/",replace:!0})})]}),T.jsx(f4,{}),T.jsx(G5,{notifications:i,onRemove:D=>a(V=>V.filter(k=>k.id!==D))}),l&&T.jsx(Q5,{medalLevel:f,onClose:()=>h(!1)})]})})}):T.jsx(o4,{onLogin:()=>r(!0)}):T.jsx(zP,{onComplete:g})}RC.createRoot(document.getElementById("root")).render(T.jsx(X5,{}));
